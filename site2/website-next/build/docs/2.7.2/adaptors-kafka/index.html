<!doctype html>
<html class="docs-version-2.7.2" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Blog Atom Feed"><title data-react-helmet="true">Pulsar adaptor for Apache Kafka | Apache Pulsar</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pulsar.apache.com/docs/2.7.2/adaptors-kafka"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.7.2"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.7.2"><meta data-react-helmet="true" property="og:title" content="Pulsar adaptor for Apache Kafka | Apache Pulsar"><meta data-react-helmet="true" name="description" content="Pulsar provides an easy option for applications that are currently written using the Apache Kafka Java client API."><meta data-react-helmet="true" property="og:description" content="Pulsar provides an easy option for applications that are currently written using the Apache Kafka Java client API."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pulsar.apache.com/docs/2.7.2/adaptors-kafka"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.7.2/adaptors-kafka" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.7.2/adaptors-kafka" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4a6b6be2.css">
<link rel="preload" href="/assets/js/runtime~main.668ae9d7.js" as="script">
<link rel="preload" href="/assets/js/main.3d3de418.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.7.2/">Docs</a><a class="navbar__item navbar__link" href="/versions">Versions</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/apache/pulsar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/docs">Version</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/">2.8.0</a></li><li><a class="dropdown__link" href="/docs/2.7.3/">2.7.3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.7.2/">2.7.2</a></li><li><a class="dropdown__link" href="/docs/2.7.1/">2.7.1</a></li><li><a class="dropdown__link" href="/docs/2.7.0/">2.7.0</a></li><li><a class="dropdown__link" href="/docs/2.6.4/">2.6.4</a></li><li><a class="dropdown__link" href="/docs/2.6.3/">2.6.3</a></li><li><a class="dropdown__link" href="/docs/2.6.2/">2.6.2</a></li><li><a class="dropdown__link" href="/docs/2.2.0/">2.2.0</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Get Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts and Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Schema</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Functions</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar IO</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar SQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tiered Storage</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Transactions</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes (Helm)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deployment</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Performance</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Client Libraries</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Admin API</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Adaptors</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.7.2/adaptors-kafka">Kafka client wrapper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.2/adaptors-spark">Apache Spark</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.2/adaptors-storm">Apache Storm</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cookbooks</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Apache Pulsar <b>2.7.2</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/adaptors-kafka">latest version</a></b> (2.8.0).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.7.2</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pulsar adaptor for Apache Kafka</h1></header><p>Pulsar provides an easy option for applications that are currently written using the <a href="http://kafka.apache.org" target="_blank" rel="noopener noreferrer">Apache Kafka</a> Java client API.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-the-pulsar-kafka-compatibility-wrapper"></a>Using the Pulsar Kafka compatibility wrapper<a class="hash-link" href="#using-the-pulsar-kafka-compatibility-wrapper" title="Direct link to heading">#</a></h2><p>In an existing application, change the regular Kafka client dependency and replace it with the Pulsar Kafka wrapper. Remove the following dependency in <code>pom.xml</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">org.apache.kafka</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">kafka-clients</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">0.10.2.1</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Then include this dependency for the Pulsar Kafka wrapper:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">org.apache.pulsar</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">pulsar-client-kafka</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">2.7.2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>With the new dependency, the existing code works without any changes. You need to adjust the configuration, and make sure it points the
producers and consumers to Pulsar service rather than Kafka, and uses a particular
Pulsar topic.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="using-the-pulsar-kafka-compatibility-wrapper-together-with-existing-kafka-client"></a>Using the Pulsar Kafka compatibility wrapper together with existing kafka client<a class="hash-link" href="#using-the-pulsar-kafka-compatibility-wrapper-together-with-existing-kafka-client" title="Direct link to heading">#</a></h2><p>When migrating from Kafka to Pulsar, the application might use the original kafka client
and the pulsar kafka wrapper together during migration. You should consider using the
unshaded pulsar kafka client wrapper.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">org.apache.pulsar</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">pulsar-client-kafka-original</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">2.7.2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When using this dependency, construct producers using <code>org.apache.kafka.clients.producer.PulsarKafkaProducer</code>
instead of <code>org.apache.kafka.clients.producer.KafkaProducer</code> and <code>org.apache.kafka.clients.producer.PulsarKafkaConsumer</code> for consumers.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="producer-example"></a>Producer example<a class="hash-link" href="#producer-example" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Topic needs to be a regular Pulsar topic</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">String topic = &quot;persistent://public/default/my-topic&quot;;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Properties props = new Properties();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Point to a Pulsar service</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;bootstrap.servers&quot;, &quot;pulsar://localhost:6650&quot;);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;key.serializer&quot;, IntegerSerializer.class.getName());</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;value.serializer&quot;, StringSerializer.class.getName());</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Producer&lt;Integer, String&gt; producer = new KafkaProducer(props);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">for (int i = 0; i &lt; 10; i++) {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    producer.send(new ProducerRecord&lt;Integer, String&gt;(topic, i, &quot;hello-&quot; + i));</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    log.info(&quot;Message {} sent successfully&quot;, i);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">producer.close();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="consumer-example"></a>Consumer example<a class="hash-link" href="#consumer-example" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">String topic = &quot;persistent://public/default/my-topic&quot;;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Properties props = new Properties();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Point to a Pulsar service</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;bootstrap.servers&quot;, &quot;pulsar://localhost:6650&quot;);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;group.id&quot;, &quot;my-subscription-name&quot;);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;key.deserializer&quot;, IntegerDeserializer.class.getName());</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">props.put(&quot;value.deserializer&quot;, StringDeserializer.class.getName());</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Consumer&lt;Integer, String&gt; consumer = new KafkaConsumer(props);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">consumer.subscribe(Arrays.asList(topic));</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">while (true) {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ConsumerRecords&lt;Integer, String&gt; records = consumer.poll(100);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    records.forEach(record -&gt; {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        log.info(&quot;Received record: {}&quot;, record);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    });</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Commit last offset</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    consumer.commitSync();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="complete-examples"></a>Complete Examples<a class="hash-link" href="#complete-examples" title="Direct link to heading">#</a></h2><p>You can find the complete producer and consumer examples <a href="https://github.com/apache/pulsar/tree/master/pulsar-client-kafka-compat/pulsar-client-kafka-tests/src/test/java/org/apache/pulsar/client/kafka/compat/examples" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="compatibility-matrix"></a>Compatibility matrix<a class="hash-link" href="#compatibility-matrix" title="Direct link to heading">#</a></h2><p>Currently the Pulsar Kafka wrapper supports most of the operations offered by the Kafka API.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="producer"></a>Producer<a class="hash-link" href="#producer" title="Direct link to heading">#</a></h4><p>APIs:</p><table><thead><tr><th align="left">Producer Method</th><th align="left">Supported</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><code>Future&lt;RecordMetadata&gt; send(ProducerRecord&lt;K, V&gt; record)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>Future&lt;RecordMetadata&gt; send(ProducerRecord&lt;K, V&gt; record, Callback callback)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void flush()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>List&lt;PartitionInfo&gt; partitionsFor(String topic)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Map&lt;MetricName, ? extends Metric&gt; metrics()</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void close()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void close(long timeout, TimeUnit unit)</code></td><td align="left">Yes</td><td align="left"></td></tr></tbody></table><p>Properties:</p><table><thead><tr><th align="left">Config property</th><th align="left">Supported</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><code>acks</code></td><td align="left">Ignored</td><td align="left">Durability and quorum writes are configured at the namespace level</td></tr><tr><td align="left"><code>auto.offset.reset</code></td><td align="left">Yes</td><td align="left">Will have a default value of <code>latest</code> if user does not give specific setting.</td></tr><tr><td align="left"><code>batch.size</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>bootstrap.servers</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>buffer.memory</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>client.id</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>compression.type</code></td><td align="left">Yes</td><td align="left">Allows <code>gzip</code> and <code>lz4</code>. No <code>snappy</code>.</td></tr><tr><td align="left"><code>connections.max.idle.ms</code></td><td align="left">Yes</td><td align="left">Only support up to 2,147,483,647,000(Integer.MAX_VALUE * 1000) ms of idle time</td></tr><tr><td align="left"><code>interceptor.classes</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>key.serializer</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>linger.ms</code></td><td align="left">Yes</td><td align="left">Controls the group commit time when batching messages</td></tr><tr><td align="left"><code>max.block.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>max.in.flight.requests.per.connection</code></td><td align="left">Ignored</td><td align="left">In Pulsar ordering is maintained even with multiple requests in flight</td></tr><tr><td align="left"><code>max.request.size</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>metric.reporters</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>metrics.num.samples</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>metrics.sample.window.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>partitioner.class</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>receive.buffer.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>reconnect.backoff.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>request.timeout.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>retries</code></td><td align="left">Ignored</td><td align="left">Pulsar client retries with exponential backoff until the send timeout expires.</td></tr><tr><td align="left"><code>send.buffer.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>timeout.ms</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>value.serializer</code></td><td align="left">Yes</td><td align="left"></td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="consumer"></a>Consumer<a class="hash-link" href="#consumer" title="Direct link to heading">#</a></h4><p>The following table lists consumer APIs.</p><table><thead><tr><th align="left">Consumer Method</th><th align="left">Supported</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><code>Set&lt;TopicPartition&gt; assignment()</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Set&lt;String&gt; subscription()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void subscribe(Collection&lt;String&gt; topics)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void subscribe(Collection&lt;String&gt; topics, ConsumerRebalanceListener callback)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void assign(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void subscribe(Pattern pattern, ConsumerRebalanceListener callback)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void unsubscribe()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>ConsumerRecords&lt;K, V&gt; poll(long timeoutMillis)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void commitSync()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void commitSync(Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void commitAsync()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void commitAsync(OffsetCommitCallback callback)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void commitAsync(Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets, OffsetCommitCallback callback)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void seek(TopicPartition partition, long offset)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void seekToBeginning(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void seekToEnd(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>long position(TopicPartition partition)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>OffsetAndMetadata committed(TopicPartition partition)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>Map&lt;MetricName, ? extends Metric&gt; metrics()</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>List&lt;PartitionInfo&gt; partitionsFor(String topic)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Map&lt;String, List&lt;PartitionInfo&gt;&gt; listTopics()</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Set&lt;TopicPartition&gt; paused()</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void pause(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void resume(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Map&lt;TopicPartition, OffsetAndTimestamp&gt; offsetsForTimes(Map&lt;TopicPartition, Long&gt; timestampsToSearch)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Map&lt;TopicPartition, Long&gt; beginningOffsets(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>Map&lt;TopicPartition, Long&gt; endOffsets(Collection&lt;TopicPartition&gt; partitions)</code></td><td align="left">No</td><td align="left"></td></tr><tr><td align="left"><code>void close()</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void close(long timeout, TimeUnit unit)</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>void wakeup()</code></td><td align="left">No</td><td align="left"></td></tr></tbody></table><p>Properties:</p><table><thead><tr><th align="left">Config property</th><th align="left">Supported</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><code>group.id</code></td><td align="left">Yes</td><td align="left">Maps to a Pulsar subscription name</td></tr><tr><td align="left"><code>max.poll.records</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>max.poll.interval.ms</code></td><td align="left">Ignored</td><td align="left">Messages are &quot;pushed&quot; from broker</td></tr><tr><td align="left"><code>session.timeout.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>heartbeat.interval.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>bootstrap.servers</code></td><td align="left">Yes</td><td align="left">Needs to point to a single Pulsar service URL</td></tr><tr><td align="left"><code>enable.auto.commit</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>auto.commit.interval.ms</code></td><td align="left">Ignored</td><td align="left">With auto-commit, acks are sent immediately to broker</td></tr><tr><td align="left"><code>partition.assignment.strategy</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>auto.offset.reset</code></td><td align="left">Yes</td><td align="left">Only support earliest and latest.</td></tr><tr><td align="left"><code>fetch.min.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>fetch.max.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>fetch.max.wait.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>interceptor.classes</code></td><td align="left">Yes</td><td align="left"></td></tr><tr><td align="left"><code>metadata.max.age.ms</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>max.partition.fetch.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>send.buffer.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>receive.buffer.bytes</code></td><td align="left">Ignored</td><td align="left"></td></tr><tr><td align="left"><code>client.id</code></td><td align="left">Ignored</td><td align="left"></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="customize-pulsar-configurations"></a>Customize Pulsar configurations<a class="hash-link" href="#customize-pulsar-configurations" title="Direct link to heading">#</a></h2><p>You can configure Pulsar authentication provider directly from the Kafka properties.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="pulsar-client-properties"></a>Pulsar client properties<a class="hash-link" href="#pulsar-client-properties" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">Config property</th><th align="left">Default</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setAuthentication-org.apache.pulsar.client.api.Authentication-" target="_blank" rel="noopener noreferrer"><code>pulsar.authentication.class</code></a></td><td align="left"></td><td align="left">Configure to auth provider. For example, <code>org.apache.pulsar.client.impl.auth.AuthenticationTls</code>.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setAuthentication-java.lang.String-java.util.Map-" target="_blank" rel="noopener noreferrer"><code>pulsar.authentication.params.map</code></a></td><td align="left"></td><td align="left">Map which represents parameters for the Authentication-Plugin.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setAuthentication-java.lang.String-java.lang.String-" target="_blank" rel="noopener noreferrer"><code>pulsar.authentication.params.string</code></a></td><td align="left"></td><td align="left">String which represents parameters for the Authentication-Plugin, for example, <code>key1:val1,key2:val2</code>.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setUseTls-boolean-" target="_blank" rel="noopener noreferrer"><code>pulsar.use.tls</code></a></td><td align="left"><code>false</code></td><td align="left">Enable TLS transport encryption.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setTlsTrustCertsFilePath-java.lang.String-" target="_blank" rel="noopener noreferrer"><code>pulsar.tls.trust.certs.file.path</code></a></td><td align="left"></td><td align="left">Path for the TLS trust certificate store.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setTlsAllowInsecureConnection-boolean-" target="_blank" rel="noopener noreferrer"><code>pulsar.tls.allow.insecure.connection</code></a></td><td align="left"><code>false</code></td><td align="left">Accept self-signed certificates from brokers.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setOperationTimeout-int-java.util.concurrent.TimeUnit-" target="_blank" rel="noopener noreferrer"><code>pulsar.operation.timeout.ms</code></a></td><td align="left"><code>30000</code></td><td align="left">General operations timeout.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setStatsInterval-long-java.util.concurrent.TimeUnit-" target="_blank" rel="noopener noreferrer"><code>pulsar.stats.interval.seconds</code></a></td><td align="left"><code>60</code></td><td align="left">Pulsar client lib stats printing interval.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setIoThreads-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.num.io.threads</code></a></td><td align="left"><code>1</code></td><td align="left">The number of Netty IO threads to use.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setConnectionsPerBroker-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.connections.per.broker</code></a></td><td align="left"><code>1</code></td><td align="left">The maximum number of connection to each broker.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setUseTcpNoDelay-boolean-" target="_blank" rel="noopener noreferrer"><code>pulsar.use.tcp.nodelay</code></a></td><td align="left"><code>true</code></td><td align="left">TCP no-delay.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setConcurrentLookupRequest-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.concurrent.lookup.requests</code></a></td><td align="left"><code>50000</code></td><td align="left">The maximum number of concurrent topic lookups.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientConfiguration.html#setMaxNumberOfRejectedRequestPerConnection-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.max.number.rejected.request.per.connection</code></a></td><td align="left"><code>50</code></td><td align="left">The threshold of errors to forcefully close a connection.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ClientBuilder.html#keepAliveInterval-int-java.util.concurrent.TimeUnit-" target="_blank" rel="noopener noreferrer"><code>pulsar.keepalive.interval.ms</code></a></td><td align="left"><code>30000</code></td><td align="left">Keep alive interval for each client-broker-connection.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="pulsar-producer-properties"></a>Pulsar producer properties<a class="hash-link" href="#pulsar-producer-properties" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">Config property</th><th align="left">Default</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setProducerName-java.lang.String-" target="_blank" rel="noopener noreferrer"><code>pulsar.producer.name</code></a></td><td align="left"></td><td align="left">Specify the producer name.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setInitialSequenceId-long-" target="_blank" rel="noopener noreferrer"><code>pulsar.producer.initial.sequence.id</code></a></td><td align="left"></td><td align="left">Specify baseline for sequence ID of this producer.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setMaxPendingMessages-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.producer.max.pending.messages</code></a></td><td align="left"><code>1000</code></td><td align="left">Set the maximum size of the message queue pending to receive an acknowledgment from the broker.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setMaxPendingMessagesAcrossPartitions-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.producer.max.pending.messages.across.partitions</code></a></td><td align="left"><code>50000</code></td><td align="left">Set the maximum number of pending messages across all the partitions.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setBatchingEnabled-boolean-" target="_blank" rel="noopener noreferrer"><code>pulsar.producer.batching.enabled</code></a></td><td align="left"><code>true</code></td><td align="left">Control whether automatic batching of messages is enabled for the producer.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setBatchingMaxMessages-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.producer.batching.max.messages</code></a></td><td align="left"><code>1000</code></td><td align="left">The maximum number of messages in a batch.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ProducerConfiguration.html#setBlockIfQueueFull-boolean-" target="_blank" rel="noopener noreferrer"><code>pulsar.block.if.producer.queue.full</code></a></td><td align="left"></td><td align="left">Specify the block producer if queue  is full.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="pulsar-consumer-properties"></a>Pulsar consumer Properties<a class="hash-link" href="#pulsar-consumer-properties" title="Direct link to heading">#</a></h3><table><thead><tr><th align="left">Config property</th><th align="left">Default</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ConsumerConfiguration.html#setConsumerName-java.lang.String-" target="_blank" rel="noopener noreferrer"><code>pulsar.consumer.name</code></a></td><td align="left"></td><td align="left">Specify the consumer name.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ConsumerConfiguration.html#setReceiverQueueSize-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.consumer.receiver.queue.size</code></a></td><td align="left">1000</td><td align="left">Set the size of the consumer receiver queue.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ConsumerBuilder.html#acknowledgmentGroupTime-long-java.util.concurrent.TimeUnit-" target="_blank" rel="noopener noreferrer"><code>pulsar.consumer.acknowledgments.group.time.millis</code></a></td><td align="left">100</td><td align="left">Set the maximum amount of group time for consumers to send the acknowledgments to the broker.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ConsumerConfiguration.html#setMaxTotalReceiverQueueSizeAcrossPartitions-int-" target="_blank" rel="noopener noreferrer"><code>pulsar.consumer.total.receiver.queue.size.across.partitions</code></a></td><td align="left">50000</td><td align="left">Set the maximum size of the total receiver queue across partitions.</td></tr><tr><td align="left"><a href="http://pulsar.apache.org/api/client/2.7.0-SNAPSHOT/org/apache/pulsar/client/api/ConsumerBuilder.html#subscriptionTopicsMode-Mode-" target="_blank" rel="noopener noreferrer"><code>pulsar.consumer.subscription.topics.mode</code></a></td><td align="left">PersistentOnly</td><td align="left">Set the subscription topic mode for consumers.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/pulsar/edit/master/site2/website-next/versioned_docs/version-2.7.2/adaptors-kafka.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/2.7.2/admin-api-functions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Functions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/2.7.2/adaptors-spark"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Apache Spark Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-the-pulsar-kafka-compatibility-wrapper" class="table-of-contents__link">Using the Pulsar Kafka compatibility wrapper</a></li><li><a href="#using-the-pulsar-kafka-compatibility-wrapper-together-with-existing-kafka-client" class="table-of-contents__link">Using the Pulsar Kafka compatibility wrapper together with existing kafka client</a></li><li><a href="#producer-example" class="table-of-contents__link">Producer example</a></li><li><a href="#consumer-example" class="table-of-contents__link">Consumer example</a></li><li><a href="#complete-examples" class="table-of-contents__link">Complete Examples</a></li><li><a href="#compatibility-matrix" class="table-of-contents__link">Compatibility matrix</a></li><li><a href="#customize-pulsar-configurations" class="table-of-contents__link">Customize Pulsar configurations</a><ul><li><a href="#pulsar-client-properties" class="table-of-contents__link">Pulsar client properties</a></li><li><a href="#pulsar-producer-properties" class="table-of-contents__link">Pulsar producer properties</a></li><li><a href="#pulsar-consumer-properties" class="table-of-contents__link">Pulsar consumer Properties</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Inc.Copyright Â© 2021 The Apache Software Foundation. All Rights Reserved. Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.668ae9d7.js"></script>
<script src="/assets/js/main.3d3de418.js"></script>
</body>
</html>