<!doctype html>
<html class="docs-version-2.6.4" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Blog Atom Feed"><title data-react-helmet="true">Pulsar command-line tools | Apache Pulsar</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pulsar.apache.com/docs/2.6.4/reference-cli-tools"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.6.4"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.6.4"><meta data-react-helmet="true" property="og:title" content="Pulsar command-line tools | Apache Pulsar"><meta data-react-helmet="true" name="description" content="Pulsar offers several command-line tools that you can use for managing Pulsar installations, performance testing, using command-line producers and consumers, and more."><meta data-react-helmet="true" property="og:description" content="Pulsar offers several command-line tools that you can use for managing Pulsar installations, performance testing, using command-line producers and consumers, and more."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pulsar.apache.com/docs/2.6.4/reference-cli-tools"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.6.4/reference-cli-tools" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.6.4/reference-cli-tools" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4a6b6be2.css">
<link rel="preload" href="/assets/js/runtime~main.668ae9d7.js" as="script">
<link rel="preload" href="/assets/js/main.3d3de418.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.6.4/">Docs</a><a class="navbar__item navbar__link" href="/versions">Versions</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/apache/pulsar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/docs">Version</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/">2.8.0</a></li><li><a class="dropdown__link" href="/docs/2.7.3/">2.7.3</a></li><li><a class="dropdown__link" href="/docs/2.7.2/">2.7.2</a></li><li><a class="dropdown__link" href="/docs/2.7.1/">2.7.1</a></li><li><a class="dropdown__link" href="/docs/2.7.0/">2.7.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.6.4/">2.6.4</a></li><li><a class="dropdown__link" href="/docs/2.6.3/">2.6.3</a></li><li><a class="dropdown__link" href="/docs/2.6.2/">2.6.2</a></li><li><a class="dropdown__link" href="/docs/2.2.0/">2.2.0</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Get Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts and Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Schema</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Functions</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar IO</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar SQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes (Helm)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deployment</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Performance</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Client Libraries</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Admin API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Adaptors</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cookbooks</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.4/reference-terminology">Terminology</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.6.4/reference-cli-tools">Pulsar CLI tools</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.4/reference-configuration">Pulsar configuration</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.4/reference-metrics">Pulsar Metrics</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Apache Pulsar <b>2.6.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/reference-cli-tools">latest version</a></b> (2.8.0).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.6.4</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pulsar command-line tools</h1></header><p>Pulsar offers several command-line tools that you can use for managing Pulsar installations, performance testing, using command-line producers and consumers, and more.</p><p>All Pulsar command-line tools can be run from the <code>bin</code> directory of your <a href="/docs/2.6.4/getting-started-standalone">installed Pulsar package</a>. The following tools are currently documented:</p><ul><li><a href="#pulsar"><code>pulsar</code></a></li><li><a href="#pulsar-client"><code>pulsar-client</code></a></li><li><a href="#pulsar-daemon"><code>pulsar-daemon</code></a></li><li><a href="#pulsar-perf"><code>pulsar-perf</code></a></li><li><a href="#bookkeeper"><code>bookkeeper</code></a></li><li><a href="#broker-tool"><code>broker-tool</code></a></li></ul><blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="getting-help"></a>Getting help<a class="hash-link" href="#getting-help" title="Direct link to heading">#</a></h3><p>You can get help for any CLI tool, command, or subcommand using the <code>--help</code> flag, or <code>-h</code> for short. Here&#x27;s an example:</p></blockquote><blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><pre tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bin/pulsar broker --help</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="pulsar"></a><code>pulsar</code><a class="hash-link" href="#pulsar" title="Direct link to heading">#</a></h2><p>The pulsar tool is used to start Pulsar components, such as bookies and ZooKeeper, in the foreground.</p><p>These processes can also be started in the background, using nohup, using the pulsar-daemon tool, which has the same command interface as pulsar.</p><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Commands:</p><ul><li><code>bookie</code></li><li><code>broker</code></li><li><code>compact-topic</code></li><li><code>discovery</code></li><li><code>configuration-store</code></li><li><code>initialize-cluster-metadata</code></li><li><code>proxy</code></li><li><code>standalone</code></li><li><code>websocket</code></li><li><code>zookeeper</code></li><li><code>zookeeper-shell</code></li></ul><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_BROKER_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/broker.conf pulsar broker</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The table below lists the environment variables that you can use to configure the <code>pulsar</code> tool.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>PULSAR_LOG_CONF</code></td><td>Log4j configuration file</td><td><code>conf/log4j2.yaml</code></td></tr><tr><td><code>PULSAR_BROKER_CONF</code></td><td>Configuration file for broker</td><td><code>conf/broker.conf</code></td></tr><tr><td><code>PULSAR_BOOKKEEPER_CONF</code></td><td>description: Configuration file for bookie</td><td><code>conf/bookkeeper.conf</code></td></tr><tr><td><code>PULSAR_ZK_CONF</code></td><td>Configuration file for zookeeper</td><td><code>conf/zookeeper.conf</code></td></tr><tr><td><code>PULSAR_CONFIGURATION_STORE_CONF</code></td><td>Configuration file for the configuration store</td><td><code>conf/global_zookeeper.conf</code></td></tr><tr><td><code>PULSAR_DISCOVERY_CONF</code></td><td>Configuration file for discovery service</td><td><code>conf/discovery.conf</code></td></tr><tr><td><code>PULSAR_WEBSOCKET_CONF</code></td><td>Configuration file for websocket proxy</td><td><code>conf/websocket.conf</code></td></tr><tr><td><code>PULSAR_STANDALONE_CONF</code></td><td>Configuration file for standalone</td><td><code>conf/standalone.conf</code></td></tr><tr><td><code>PULSAR_EXTRA_OPTS</code></td><td>Extra options to be passed to the jvm</td><td></td></tr><tr><td><code>PULSAR_EXTRA_CLASSPATH</code></td><td>Extra paths for Pulsar&#x27;s classpath</td><td></td></tr><tr><td><code>PULSAR_PID_DIR</code></td><td>Folder where the pulsar server PID file should be stored</td><td></td></tr><tr><td><code>PULSAR_STOP_TIMEOUT</code></td><td>Wait time before forcefully killing the Bookie server instance if attempts to stop it are not successful</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="bookie"></a><code>bookie</code><a class="hash-link" href="#bookie" title="Direct link to heading">#</a></h3><p>Starts up a bookie server</p><p>Usage:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar bookie options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-readOnly</code></td><td>Force start a read-only bookie server</td><td>false</td></tr><tr><td><code>-withAutoRecovery</code></td><td>Start auto-recover service bookie server</td><td>false</td></tr></tbody></table><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_BOOKKEEPER_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/bookkeeper.conf pulsar bookie </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -readOnly </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -withAutoRecovery</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="broker"></a><code>broker</code><a class="hash-link" href="#broker" title="Direct link to heading">#</a></h3><p>Starts up a Pulsar broker</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar broker options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-bc</code> , <code>--bookie-conf</code></td><td>Configuration file for BookKeeper</td><td></td></tr><tr><td><code>-rb</code> , <code>--run-bookie</code></td><td>Run a BookKeeper bookie on the same host as the Pulsar broker</td><td>false</td></tr><tr><td><code>-ra</code> , <code>--run-bookie-autorecovery</code></td><td>Run a BookKeeper autorecovery daemon on the same host as the Pulsar broker</td><td>false</td></tr></tbody></table><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_BROKER_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/broker.conf pulsar broker</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="compact-topic"></a><code>compact-topic</code><a class="hash-link" href="#compact-topic" title="Direct link to heading">#</a></h3><p>Run compaction against a Pulsar topic (in a new process)</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar compact-topic options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-t</code> , <code>--topic</code></td><td>The Pulsar topic that you would like to compact</td><td></td></tr></tbody></table><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar compact-topic --topic topic-to-compact</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="discovery"></a><code>discovery</code><a class="hash-link" href="#discovery" title="Direct link to heading">#</a></h3><p>Run a discovery server</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar discovery</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_DISCOVERY_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/discovery.conf pulsar discovery</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="configuration-store"></a><code>configuration-store</code><a class="hash-link" href="#configuration-store" title="Direct link to heading">#</a></h3><p>Starts up the Pulsar configuration store</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar configuration-store</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_CONFIGURATION_STORE_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/configuration_store.conf pulsar configuration-store</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="initialize-cluster-metadata"></a><code>initialize-cluster-metadata</code><a class="hash-link" href="#initialize-cluster-metadata" title="Direct link to heading">#</a></h3><p>One-time cluster metadata initialization</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar initialize-cluster-metadata options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-ub</code> , <code>--broker-service-url</code></td><td>The broker service URL for the new cluster</td><td></td></tr><tr><td><code>-tb</code> , <code>--broker-service-url-tls</code></td><td>The broker service URL for the new cluster with TLS encryption</td><td></td></tr><tr><td><code>-c</code> , <code>--cluster</code></td><td>Cluster name</td><td></td></tr><tr><td><code>--configuration-store</code></td><td>The configuration store quorum connection string</td><td></td></tr><tr><td><code>-uw</code> , <code>--web-service-url</code></td><td>The web service URL for the new cluster</td><td></td></tr><tr><td><code>-tw</code> , <code>--web-service-url-tls</code></td><td>The web service URL for the new cluster with TLS encryption</td><td></td></tr><tr><td><code>-zk</code> , <code>--zookeeper</code></td><td>The local ZooKeeper quorum connection string</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="proxy"></a><code>proxy</code><a class="hash-link" href="#proxy" title="Direct link to heading">#</a></h3><p>Manages the Pulsar proxy</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar proxy options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--configuration-store</code></td><td>Configuration store connection string</td><td></td></tr><tr><td><code>-zk</code> , <code>--zookeeper-servers</code></td><td>Local ZooKeeper connection string</td><td></td></tr></tbody></table><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_PROXY_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/proxy.conf pulsar proxy </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --zookeeper-servers zk-0,zk-1,zk2 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --configuration-store zk-0,zk-1,zk-2</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="standalone"></a><code>standalone</code><a class="hash-link" href="#standalone" title="Direct link to heading">#</a></h3><p>Run a broker service with local bookies and local ZooKeeper</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar standalone options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-a</code> , <code>--advertised-address</code></td><td>The standalone broker advertised address</td><td></td></tr><tr><td><code>--bookkeeper-dir</code></td><td>Local bookiesâ€™ base data directory</td><td>data/standalone/bookkeeper</td></tr><tr><td><code>--bookkeeper-port</code></td><td>Local bookiesâ€™ base port</td><td>3181</td></tr><tr><td><code>--no-broker</code></td><td>Only start ZooKeeper and BookKeeper services, not the broker</td><td>false</td></tr><tr><td><code>--num-bookies</code></td><td>The number of local bookies</td><td>1</td></tr><tr><td><code>--only-broker</code></td><td>Only start the Pulsar broker service (not ZooKeeper or BookKeeper)</td><td></td></tr><tr><td><code>--wipe-data</code></td><td>Clean up previous ZooKeeper/BookKeeper data</td><td></td></tr><tr><td><code>--zookeeper-dir</code></td><td>Local ZooKeeperâ€™s data directory</td><td>data/standalone/zookeeper</td></tr><tr><td><code>--zookeeper-port</code></td><td>Local ZooKeeperâ€™s port</td><td>2181</td></tr></tbody></table><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_STANDALONE_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/standalone.conf pulsar standalone</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="websocket"></a><code>websocket</code><a class="hash-link" href="#websocket" title="Direct link to heading">#</a></h3><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar websocket</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_WEBSOCKET_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/websocket.conf pulsar websocket</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="zookeeper"></a><code>zookeeper</code><a class="hash-link" href="#zookeeper" title="Direct link to heading">#</a></h3><p>Starts up a ZooKeeper cluster</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar zookeeper</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PULSAR_ZK_CONF</span><span class="token operator">=</span><span class="token plain">/path/to/zookeeper.conf pulsar zookeeper</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="zookeeper-shell"></a><code>zookeeper-shell</code><a class="hash-link" href="#zookeeper-shell" title="Direct link to heading">#</a></h3><p>Connects to a running ZooKeeper cluster using the ZooKeeper shell</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar zookeeper-shell options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-c</code>, <code>--conf</code></td><td>Configuration file for ZooKeeper</td><td></td></tr><tr><td><code>-server</code></td><td>Configuration zk address, eg: <code>127.0.0.1:2181</code></td><td></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="pulsar-client"></a><code>pulsar-client</code><a class="hash-link" href="#pulsar-client" title="Direct link to heading">#</a></h2><p>The pulsar-client tool</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-client </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Commands</p><ul><li><code>produce</code></li><li><code>consume</code></li></ul><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--auth-params</code></td><td>Authentication parameters, whose format is determined by the implementation of method <code>configure</code> in authentication plugin class, for example &quot;key1:val1,key2:val2&quot; or &quot;{\&quot;key1\&quot;:\&quot;val1\&quot;,\&quot;key2\&quot;:\&quot;val2\&quot;}&quot;</td><td>{&quot;saslJaasClientSectionName&quot;:&quot;PulsarClient&quot;, &quot;serverType&quot;:&quot;broker&quot;}</td></tr><tr><td><code>--auth-plugin</code></td><td>Authentication plugin class name</td><td>org.apache.pulsar.client.impl.auth.AuthenticationSasl</td></tr><tr><td><code>--listener-name</code></td><td>Listener name for the broker</td><td></td></tr><tr><td><code>--proxy-protocol</code></td><td>Proxy protocol to select type of routing at proxy</td><td></td></tr><tr><td><code>--proxy-url</code></td><td>Proxy-server URL to which to connect</td><td></td></tr><tr><td><code>--url</code></td><td>Broker URL to which to connect</td><td>pulsar://localhost:6650/ <br> ws://localhost:8080</td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Show this help</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="produce"></a><code>produce</code><a class="hash-link" href="#produce" title="Direct link to heading">#</a></h3><p>Send a message or messages to a specific broker and topic</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-client produce topic options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-f</code>, <code>--files</code></td><td>Comma-separated file paths to send; either -m or -f must be specified</td><td>[]</td></tr><tr><td><code>-m</code>, <code>--messages</code></td><td>Comma-separated string of messages to send; either -m or -f must be specified</td><td>[]</td></tr><tr><td><code>-n</code>, <code>--num-produce</code></td><td>The number of times to send the message(s); the count of messages/files * num-produce should be below 1000</td><td>1</td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Rate (in messages per second) at which to produce; a value 0 means to produce messages as fast as possible</td><td>0.0</td></tr><tr><td><code>-c</code>, <code>--chunking</code></td><td>Split the message and publish in chunks if the message size is larger than the allowed max size</td><td>false</td></tr><tr><td><code>-s</code>, <code>--separator</code></td><td>Character to split messages string with.</td><td>&quot;,&quot;</td></tr><tr><td><code>-k</code>, <code>--key</code></td><td>Message key to add</td><td>key=value string, like k1=v1,k2=v2.</td></tr><tr><td><code>-p</code>, <code>--properties</code></td><td>Properties to add. If you want to add multiple properties, use the comma as the separator, e.g. <code>k1=v1,k2=v2</code>.</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="consume"></a><code>consume</code><a class="hash-link" href="#consume" title="Direct link to heading">#</a></h3><p>Consume messages from a specific broker and topic</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-client consume topic options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--hex</code></td><td>Display binary messages in hexadecimal format.</td><td>false</td></tr><tr><td><code>-n</code>, <code>--num-messages</code></td><td>Number of messages to consume, 0 means to consume forever.</td><td>1</td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Rate (in messages per second) at which to consume; a value 0 means to consume messages as fast as possible</td><td>0.0</td></tr><tr><td><code>--regex</code></td><td>Indicate the topic name is a regex pattern</td><td>false</td></tr><tr><td><code>-s</code>, <code>--subscription-name</code></td><td>Subscription name</td><td></td></tr><tr><td><code>-t</code>, <code>--subscription-type</code></td><td>The type of the subscription. Possible values: Exclusive, Shared, Failover, Key_Shared.</td><td>Exclusive</td></tr><tr><td><code>-p</code>, <code>--subscription-position</code></td><td>The position of the subscription. Possible values: Latest, Earliest.</td><td>Latest</td></tr><tr><td><code>-q</code>, <code>--queue-size</code></td><td>The size of consumer&#x27;s receiver queue.</td><td>0</td></tr><tr><td><code>-mc</code>, <code>--max_chunked_msg</code></td><td>Max pending chunk messages.</td><td>0</td></tr><tr><td><code>-ac</code>, <code>--auto_ack_chunk_q_full</code></td><td>Auto ack for the oldest message in consumer&#x27;s receiver queue if the queue full.</td><td>false</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="pulsar-daemon"></a><code>pulsar-daemon</code><a class="hash-link" href="#pulsar-daemon" title="Direct link to heading">#</a></h2><p>A wrapper around the pulsar tool thatâ€™s used to start and stop processes, such as ZooKeeper, bookies, and Pulsar brokers, in the background using nohup.</p><p>pulsar-daemon has a similar interface to the pulsar command but adds start and stop commands for various services. For a listing of those services, run pulsar-daemon to see the help output or see the documentation for the pulsar command.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-daemon </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Commands</p><ul><li><code>start</code></li><li><code>stop</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="start"></a><code>start</code><a class="hash-link" href="#start" title="Direct link to heading">#</a></h3><p>Start a service in the background using nohup.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-daemon start </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="stop"></a><code>stop</code><a class="hash-link" href="#stop" title="Direct link to heading">#</a></h3><p>Stop a service thatâ€™s already been started using start.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-daemon stop </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>-force</td><td>Stop the service forcefully if not stopped by normal shutdown.</td><td>false</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="pulsar-perf"></a><code>pulsar-perf</code><a class="hash-link" href="#pulsar-perf" title="Direct link to heading">#</a></h2><p>A tool for performance testing a Pulsar broker.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Commands</p><ul><li><code>consume</code></li><li><code>produce</code></li><li><code>read</code></li><li><code>websocket-producer</code></li><li><code>managed-ledger</code></li><li><code>monitor-brokers</code></li><li><code>simulation-client</code></li><li><code>simulation-controller</code></li><li><code>help</code></li></ul><p>Environment variables</p><p>The table below lists the environment variables that you can use to configure the pulsar-perf tool.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>PULSAR_LOG_CONF</code></td><td>Log4j configuration file</td><td>conf/log4j2.yaml</td></tr><tr><td><code>PULSAR_CLIENT_CONF</code></td><td>Configuration file for the client</td><td>conf/client.conf</td></tr><tr><td><code>PULSAR_EXTRA_OPTS</code></td><td>Extra options to be passed to the JVM</td><td></td></tr><tr><td><code>PULSAR_EXTRA_CLASSPATH</code></td><td>Extra paths for Pulsar&#x27;s classpath</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="consume-1"></a><code>consume</code><a class="hash-link" href="#consume-1" title="Direct link to heading">#</a></h3><p>Run a consumer</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf consume options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--auth-params</code></td><td>Authentication parameters, whose format is determined by the implementation of method <code>configure</code> in authentication plugin class. For example, <code>key1:val1,key2:val2</code> or <code>{&quot;key1&quot;:&quot;val1&quot;,&quot;key2&quot;:&quot;val2&quot;}</code>.</td><td></td></tr><tr><td><code>--auth_plugin</code></td><td>Authentication plugin class name</td><td></td></tr><tr><td><code>-ac</code>, <code>--auto_ack_chunk_q_full</code></td><td>Auto ack for the oldest message in consumer&#x27;s receiver queue if the queue full</td><td>false</td></tr><tr><td><code>--listener-name</code></td><td>Listener name for the broker</td><td></td></tr><tr><td><code>--acks-delay-millis</code></td><td>Acknowlegments grouping delay in millis</td><td>100</td></tr><tr><td><code>-k</code>, <code>--encryption-key-name</code></td><td>The private key name to decrypt payload</td><td></td></tr><tr><td><code>-v</code>, <code>--encryption-key-value-file</code></td><td>The file which contains the private key to decrypt payload</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr><tr><td><code>--conf-file</code></td><td>Configuration file</td><td></td></tr><tr><td><code>-e</code>, <code>--expire_time_incomplete_chunked_messages</code></td><td>The expiration time for incomplete chunk messages (in milliseconds)</td><td>0</td></tr><tr><td><code>-c</code>, <code>--max-connections</code></td><td>Max number of TCP connections to a single broker</td><td>100</td></tr><tr><td><code>-mc</code>, <code>--max_chunked_msg</code></td><td>Max pending chunk messages</td><td>0</td></tr><tr><td><code>-n</code>, <code>--num-consumers</code></td><td>Number of consumers (per topic)</td><td>1</td></tr><tr><td><code>-ioThreads</code>, <code>--num-io-threads</code></td><td>Set the number of threads to be used for handling connections to brokers</td><td>1</td></tr><tr><td><code>-t</code>, <code>--num-topic</code></td><td>The number of topics</td><td>1</td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Simulate a slow message consumer (rate in msg/s)</td><td>0</td></tr><tr><td><code>-q</code>, <code>--receiver-queue-size</code></td><td>Size of the receiver queue</td><td>1000</td></tr><tr><td><code>--replicated</code></td><td>Whether the subscription status should be replicated</td><td>false</td></tr><tr><td><code>-u</code>, <code>--service-url</code></td><td>Pulsar service URL</td><td></td></tr><tr><td><code>-i</code>, <code>--stats-interval-seconds</code></td><td>Statistics interval seconds. If 0, statistics will be disabled</td><td>0</td></tr><tr><td><code>-s</code>, <code>--subscriber-name</code></td><td>Subscriber name prefix</td><td>sub</td></tr><tr><td><code>-st</code>, <code>--subscription-type</code></td><td>Subscriber type. Possible values are Exclusive, Shared, Failover, Key_Shared.</td><td>Exclusive</td></tr><tr><td><code>-sp</code>, <code>--subscription-position</code></td><td>Subscriber position. Possible values are Latest, Earliest.</td><td>Latest</td></tr><tr><td><code>-time</code>, <code>--test-duration</code></td><td>Test duration (in seconds). If the value is 0 or smaller than 0, it keeps consuming messages</td><td>0</td></tr><tr><td><code>--trust-cert-file</code></td><td>Path for the trusted TLS certificate file</td><td></td></tr><tr><td><code>--tls-allow-insecure</code></td><td>Allow insecure TLS connection</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="produce-1"></a><code>produce</code><a class="hash-link" href="#produce-1" title="Direct link to heading">#</a></h3><p>Run a producer</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf produce options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--auth-params</code></td><td>Authentication parameters, whose format is determined by the implementation of method <code>configure</code> in authentication plugin class. For example, <code>key1:val1,key2:val2</code> or <code>{&quot;key1&quot;:&quot;val1&quot;,&quot;key2&quot;:&quot;val2&quot;}</code>.</td><td></td></tr><tr><td><code>--auth_plugin</code></td><td>Authentication plugin class name</td><td></td></tr><tr><td><code>--listener-name</code></td><td>Listener name for the broker</td><td></td></tr><tr><td><code>-b</code>, <code>--batch-time-window</code></td><td>Batch messages in a window of the specified number of milliseconds</td><td>1</td></tr><tr><td><code>-bb</code>, <code>--batch-max-bytes</code></td><td>Maximum number of bytes per batch</td><td>4194304</td></tr><tr><td><code>-bm</code>, <code>--batch-max-messages</code></td><td>Maximum number of messages per batch</td><td>1000</td></tr><tr><td><code>-ch</code>, <code>--chunking</code></td><td>Split the message and publish in chunks if the message size is larger than allowed max size</td><td>false</td></tr><tr><td><code>-d</code>, <code>--delay</code></td><td>Mark messages with a given delay in seconds</td><td>0s</td></tr><tr><td><code>-z</code>, <code>--compression</code></td><td>Compress messagesâ€™ payload. Possible values are NONE, LZ4, ZLIB, ZSTD or SNAPPY.</td><td></td></tr><tr><td><code>--conf-file</code></td><td>Configuration file</td><td></td></tr><tr><td><code>-k</code>, <code>--encryption-key-name</code></td><td>The public key name to encrypt payload</td><td></td></tr><tr><td><code>-v</code>, <code>--encryption-key-value-file</code></td><td>The file which contains the public key to encrypt payload</td><td></td></tr><tr><td><code>-ef</code>, <code>--exit-on-failure</code></td><td>Exit from the process on publish failure</td><td>false</td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr><tr><td><code>-c</code>, <code>--max-connections</code></td><td>Max number of TCP connections to a single broker</td><td>100</td></tr><tr><td><code>-o</code>, <code>--max-outstanding</code></td><td>Max number of outstanding messages</td><td>1000</td></tr><tr><td><code>-p</code>, <code>--max-outstanding-across-partitions</code></td><td>Max number of outstanding messages across partitions</td><td>50000</td></tr><tr><td><code>-mk</code>, <code>--message-key-generation-mode</code></td><td>The generation mode of message key. Valid options are <code>autoIncrement</code>, <code>random</code></td><td></td></tr><tr><td><code>-ioThreads</code>, <code>--num-io-threads</code></td><td>Set the number of threads to be used for handling connections to brokers</td><td>1</td></tr><tr><td><code>-m</code>, <code>--num-messages</code></td><td>Number of messages to publish in total. If the value is 0 or smaller than 0, it keeps publishing messages.</td><td>0</td></tr><tr><td><code>-n</code>, <code>--num-producers</code></td><td>The number of producers (per topic)</td><td>1</td></tr><tr><td><code>-threads</code>, <code>--num-test-threads</code></td><td>Number of test threads</td><td>1</td></tr><tr><td><code>-t</code>, <code>--num-topic</code></td><td>The number of topics</td><td>1</td></tr><tr><td><code>-f</code>, <code>--payload-file</code></td><td>Use payload from an UTF-8 encoded text file and a payload will be randomly selected when publishing messages</td><td></td></tr><tr><td><code>-e</code>, <code>--payload-delimiter</code></td><td>The delimiter used to split lines when using payload from a file</td><td>\n</td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Publish rate msg/s across topics</td><td>100</td></tr><tr><td><code>-u</code>, <code>--service-url</code></td><td>Pulsar service URL</td><td></td></tr><tr><td><code>-s</code>, <code>--size</code></td><td>Message size (in bytes)</td><td>1024</td></tr><tr><td><code>-i</code>, <code>--stats-interval-seconds</code></td><td>Statistics interval seconds. If 0, statistics will be disabled.</td><td>0</td></tr><tr><td><code>-time</code>, <code>--test-duration</code></td><td>Test duration (in seconds). If the value is 0 or smaller than 0, it keeps publishing messages.</td><td>0</td></tr><tr><td><code>--trust-cert-file</code></td><td>Path for the trusted TLS certificate file</td><td></td></tr><tr><td><code>--warmup-time</code></td><td>Warm-up time in seconds</td><td>1</td></tr><tr><td><code>--tls-allow-insecure</code></td><td>Allow insecure TLS connection</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="read"></a><code>read</code><a class="hash-link" href="#read" title="Direct link to heading">#</a></h3><p>Run a topic reader</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">read</span><span class="token plain"> options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--auth-params</code></td><td>Authentication parameters, whose format is determined by the implementation of method <code>configure</code> in authentication plugin class. For example, <code>key1:val1,key2:val2</code> or <code>{&quot;key1&quot;:&quot;val1&quot;,&quot;key2&quot;:&quot;val2&quot;}</code>.</td><td></td></tr><tr><td><code>--auth_plugin</code></td><td>Authentication plugin class name</td><td></td></tr><tr><td><code>--listener-name</code></td><td>Listener name for the broker</td><td></td></tr><tr><td><code>--conf-file</code></td><td>Configuration file</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr><tr><td><code>-c</code>, <code>--max-connections</code></td><td>Max number of TCP connections to a single broker</td><td>100</td></tr><tr><td><code>-ioThreads</code>, <code>--num-io-threads</code></td><td>Set the number of threads to be used for handling connections to brokers</td><td>1</td></tr><tr><td><code>-t</code>, <code>--num-topic</code></td><td>The number of topics</td><td>1</td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Simulate a slow message reader (rate in msg/s)</td><td>0</td></tr><tr><td><code>-q</code>, <code>--receiver-queue-size</code></td><td>Size of the receiver queue</td><td>1000</td></tr><tr><td><code>-u</code>, <code>--service-url</code></td><td>Pulsar service URL</td><td></td></tr><tr><td><code>-m</code>, <code>--start-message-id</code></td><td>Start message id. This can be either &#x27;earliest&#x27;, &#x27;latest&#x27; or a specific message id by using &#x27;lid:eid&#x27;</td><td>earliest</td></tr><tr><td><code>-i</code>, <code>--stats-interval-seconds</code></td><td>Statistics interval seconds. If 0, statistics will be disabled.</td><td>0</td></tr><tr><td><code>-time</code>, <code>--test-duration</code></td><td>Test duration (in seconds). If the value is 0 or smaller than 0, it keeps consuming messages.</td><td>0</td></tr><tr><td><code>--trust-cert-file</code></td><td>Path for the trusted TLS certificate file</td><td></td></tr><tr><td><code>--use-tls</code></td><td>Use TLS encryption on the connection</td><td>false</td></tr><tr><td><code>--tls-allow-insecure</code></td><td>Allow insecure TLS connection</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="websocket-producer"></a><code>websocket-producer</code><a class="hash-link" href="#websocket-producer" title="Direct link to heading">#</a></h3><p>Run a websocket producer</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf websocket-producer options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--auth-params</code></td><td>Authentication parameters, whose format is determined by the implementation of method <code>configure</code> in authentication plugin class. For example, <code>key1:val1,key2:val2</code> or <code>{&quot;key1&quot;:&quot;val1&quot;,&quot;key2&quot;:&quot;val2&quot;}</code>.</td><td></td></tr><tr><td><code>--auth_plugin</code></td><td>Authentication plugin class name</td><td></td></tr><tr><td><code>--conf-file</code></td><td>Configuration file</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr><tr><td><code>-m</code>, <code>--num-messages</code></td><td>Number of messages to publish in total. If the value is 0 or smaller than 0, it keeps publishing messages</td><td>0</td></tr><tr><td><code>-t</code>, <code>--num-topic</code></td><td>The number of topics</td><td>1</td></tr><tr><td><code>-f</code>, <code>--payload-file</code></td><td>Use payload from a file instead of empty buffer</td><td></td></tr><tr><td><code>-u</code>, <code>--proxy-url</code></td><td>Pulsar Proxy URL, e.g., &quot;ws://localhost:8080/&quot;</td><td></td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Publish rate msg/s across topics</td><td>100</td></tr><tr><td><code>-s</code>, <code>--size</code></td><td>Message size in byte</td><td>1024</td></tr><tr><td><code>-time</code>, <code>--test-duration</code></td><td>Test duration (in seconds). If the value is 0 or smaller than 0, it keeps publishing messages</td><td>0</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="managed-ledger"></a><code>managed-ledger</code><a class="hash-link" href="#managed-ledger" title="Direct link to heading">#</a></h3><p>Write directly on managed-ledgers</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf managed-ledger options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-a</code>, <code>--ack-quorum</code></td><td>Ledger ack quorum</td><td>1</td></tr><tr><td><code>-dt</code>, <code>--digest-type</code></td><td>BookKeeper digest type. Possible Values: [CRC32, MAC, CRC32C, DUMMY]</td><td>CRC32C</td></tr><tr><td><code>-e</code>, <code>--ensemble-size</code></td><td>Ledger ensemble size</td><td>1</td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr><tr><td><code>-c</code>, <code>--max-connections</code></td><td>Max number of TCP connections to a single bookie</td><td>1</td></tr><tr><td><code>-o</code>, <code>--max-outstanding</code></td><td>Max number of outstanding requests</td><td>1000</td></tr><tr><td><code>-m</code>, <code>--num-messages</code></td><td>Number of messages to publish in total. If the value is 0 or smaller than 0, it keeps publishing messages</td><td>0</td></tr><tr><td><code>-t</code>, <code>--num-topic</code></td><td>Number of managed ledgers</td><td>1</td></tr><tr><td><code>-r</code>, <code>--rate</code></td><td>Write rate msg/s across managed ledgers</td><td>100</td></tr><tr><td><code>-s</code>, <code>--size</code></td><td>Message size in byte</td><td>1024</td></tr><tr><td><code>-time</code>, <code>--test-duration</code></td><td>Test duration (in seconds). If the value is 0 or smaller than 0, it keeps publishing messages</td><td>0</td></tr><tr><td><code>--threads</code></td><td>Number of threads writing</td><td>1</td></tr><tr><td><code>-w</code>, <code>--write-quorum</code></td><td>Ledger write quorum</td><td>1</td></tr><tr><td><code>-zk</code>, <code>--zookeeperServers</code></td><td>ZooKeeper connection string</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="monitor-brokers"></a><code>monitor-brokers</code><a class="hash-link" href="#monitor-brokers" title="Direct link to heading">#</a></h3><p>Continuously receive broker data and/or load reports</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf monitor-brokers options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--connect-string</code></td><td>A connection string for one or more ZooKeeper servers</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="simulation-client"></a><code>simulation-client</code><a class="hash-link" href="#simulation-client" title="Direct link to heading">#</a></h3><p>Run a simulation server acting as a Pulsar client. Uses the client configuration specified in <code>conf/client.conf</code>.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf simulation-client options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--port</code></td><td>Port to listen on for controller</td><td>0</td></tr><tr><td><code>--service-url</code></td><td>Pulsar Service URL</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="simulation-controller"></a><code>simulation-controller</code><a class="hash-link" href="#simulation-controller" title="Direct link to heading">#</a></h3><p>Run a simulation controller to give commands to servers</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf simulation-controller options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>--client-port</code></td><td>The port that the clients are listening on</td><td>0</td></tr><tr><td><code>--clients</code></td><td>Comma-separated list of client hostnames</td><td></td></tr><tr><td><code>--cluster</code></td><td>The cluster to test on</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Help message</td><td>false</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="help"></a><code>help</code><a class="hash-link" href="#help" title="Direct link to heading">#</a></h3><p>This help message</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ pulsar-perf </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="bookkeeper"></a><code>bookkeeper</code><a class="hash-link" href="#bookkeeper" title="Direct link to heading">#</a></h2><p>A tool for managing BookKeeper.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Commands</p><ul><li><code>auto-recovery</code></li><li><code>bookie</code></li><li><code>localbookie</code></li><li><code>upgrade</code></li><li><code>shell</code></li></ul><p>Environment variables</p><p>The table below lists the environment variables that you can use to configure the bookkeeper tool.</p><table><thead><tr><th>Variable</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>BOOKIE_LOG_CONF</td><td>Log4j configuration file</td><td>conf/log4j2.yaml</td></tr><tr><td>BOOKIE_CONF</td><td>BookKeeper configuration file</td><td>conf/bk_server.conf</td></tr><tr><td>BOOKIE_EXTRA_OPTS</td><td>Extra options to be passed to the JVM</td><td></td></tr><tr><td>BOOKIE_EXTRA_CLASSPATH</td><td>Extra paths for BookKeeper&#x27;s classpath</td><td></td></tr><tr><td>ENTRY_FORMATTER_CLASS</td><td>The Java class used to format entries</td><td></td></tr><tr><td>BOOKIE_PID_DIR</td><td>Folder where the BookKeeper server PID file should be stored</td><td></td></tr><tr><td>BOOKIE_STOP_TIMEOUT</td><td>Wait time before forcefully killing the Bookie server instance if attempts to stop it are not successful</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="auto-recovery"></a><code>auto-recovery</code><a class="hash-link" href="#auto-recovery" title="Direct link to heading">#</a></h3><p>Runs an auto-recovery service daemon</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper auto-recovery options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-c</code>, <code>--conf</code></td><td>Configuration for the auto-recovery daemon</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="bookie-1"></a><code>bookie</code><a class="hash-link" href="#bookie-1" title="Direct link to heading">#</a></h3><p>Starts up a BookKeeper server (aka bookie)</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper bookie options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-c</code>, <code>--conf</code></td><td>Configuration for the auto-recovery daemon</td><td></td></tr><tr><td>-readOnly</td><td>Force start a read-only bookie server</td><td>false</td></tr><tr><td>-withAutoRecovery</td><td>Start auto-recovery service bookie server</td><td>false</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="localbookie"></a><code>localbookie</code><a class="hash-link" href="#localbookie" title="Direct link to heading">#</a></h3><p>Runs a test ensemble of N bookies locally</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper localbookie N</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="upgrade"></a><code>upgrade</code><a class="hash-link" href="#upgrade" title="Direct link to heading">#</a></h3><p>Upgrade the bookieâ€™s filesystem</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper upgrade options</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-c</code>, <code>--conf</code></td><td>Configuration for the auto-recovery daemon</td><td></td></tr><tr><td><code>-u</code>, <code>--upgrade</code></td><td>Upgrade the bookieâ€™s directories</td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="shell"></a><code>shell</code><a class="hash-link" href="#shell" title="Direct link to heading">#</a></h3><p>Run shell for admin commands. To see a full listing of those commands, run bookkeeper shell without an argument.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper shell</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Example</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ bookkeeper shell bookiesanity</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="broker-tool"></a><code>broker-tool</code><a class="hash-link" href="#broker-tool" title="Direct link to heading">#</a></h2><p>The <code>broker- tool</code> is used for operations on a specific broker.</p><p>Usage</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ broker-tool </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Commands</p><ul><li><code>load-report</code></li><li><code>help</code></li></ul><p>Example
Two ways to get more information about a command as below:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ broker-tool </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">help</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ broker-tool </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"> --help</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="load-report"></a><code>load-report</code><a class="hash-link" href="#load-report" title="Direct link to heading">#</a></h3><p>Collect the load report of a specific broker.
The command is run on a broker, and used for troubleshooting why broker canâ€™t collect right load report.</p><p>Options</p><table><thead><tr><th>Flag</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>-i</code>, <code>--interval</code></td><td>Interval to collect load report, in milliseconds</td><td></td></tr><tr><td><code>-h</code>, <code>--help</code></td><td>Display help information</td><td></td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/pulsar/edit/master/site2/website-next/versioned_docs/version-2.6.4/reference-cli-tools.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/2.6.4/reference-terminology"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Terminology</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/2.6.4/reference-configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pulsar configuration Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pulsar" class="table-of-contents__link"><code>pulsar</code></a><ul><li><a href="#bookie" class="table-of-contents__link"><code>bookie</code></a></li><li><a href="#broker" class="table-of-contents__link"><code>broker</code></a></li><li><a href="#compact-topic" class="table-of-contents__link"><code>compact-topic</code></a></li><li><a href="#discovery" class="table-of-contents__link"><code>discovery</code></a></li><li><a href="#configuration-store" class="table-of-contents__link"><code>configuration-store</code></a></li><li><a href="#initialize-cluster-metadata" class="table-of-contents__link"><code>initialize-cluster-metadata</code></a></li><li><a href="#proxy" class="table-of-contents__link"><code>proxy</code></a></li><li><a href="#standalone" class="table-of-contents__link"><code>standalone</code></a></li><li><a href="#websocket" class="table-of-contents__link"><code>websocket</code></a></li><li><a href="#zookeeper" class="table-of-contents__link"><code>zookeeper</code></a></li><li><a href="#zookeeper-shell" class="table-of-contents__link"><code>zookeeper-shell</code></a></li></ul></li><li><a href="#pulsar-client" class="table-of-contents__link"><code>pulsar-client</code></a><ul><li><a href="#produce" class="table-of-contents__link"><code>produce</code></a></li><li><a href="#consume" class="table-of-contents__link"><code>consume</code></a></li></ul></li><li><a href="#pulsar-daemon" class="table-of-contents__link"><code>pulsar-daemon</code></a><ul><li><a href="#start" class="table-of-contents__link"><code>start</code></a></li><li><a href="#stop" class="table-of-contents__link"><code>stop</code></a></li></ul></li><li><a href="#pulsar-perf" class="table-of-contents__link"><code>pulsar-perf</code></a><ul><li><a href="#consume-1" class="table-of-contents__link"><code>consume</code></a></li><li><a href="#produce-1" class="table-of-contents__link"><code>produce</code></a></li><li><a href="#read" class="table-of-contents__link"><code>read</code></a></li><li><a href="#websocket-producer" class="table-of-contents__link"><code>websocket-producer</code></a></li><li><a href="#managed-ledger" class="table-of-contents__link"><code>managed-ledger</code></a></li><li><a href="#monitor-brokers" class="table-of-contents__link"><code>monitor-brokers</code></a></li><li><a href="#simulation-client" class="table-of-contents__link"><code>simulation-client</code></a></li><li><a href="#simulation-controller" class="table-of-contents__link"><code>simulation-controller</code></a></li><li><a href="#help" class="table-of-contents__link"><code>help</code></a></li></ul></li><li><a href="#bookkeeper" class="table-of-contents__link"><code>bookkeeper</code></a><ul><li><a href="#auto-recovery" class="table-of-contents__link"><code>auto-recovery</code></a></li><li><a href="#bookie-1" class="table-of-contents__link"><code>bookie</code></a></li><li><a href="#localbookie" class="table-of-contents__link"><code>localbookie</code></a></li><li><a href="#upgrade" class="table-of-contents__link"><code>upgrade</code></a></li><li><a href="#shell" class="table-of-contents__link"><code>shell</code></a></li></ul></li><li><a href="#broker-tool" class="table-of-contents__link"><code>broker-tool</code></a><ul><li><a href="#load-report" class="table-of-contents__link"><code>load-report</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Inc.Copyright Â© 2021 The Apache Software Foundation. All Rights Reserved. Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.668ae9d7.js"></script>
<script src="/assets/js/main.3d3de418.js"></script>
</body>
</html>