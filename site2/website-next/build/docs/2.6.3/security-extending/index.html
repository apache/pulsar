<!doctype html>
<html class="docs-version-2.6.3" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Pulsar Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Pulsar Blog Atom Feed"><title data-react-helmet="true">Extending Authentication and Authorization in Pulsar | Apache Pulsar</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://pulsar.apache.com/docs/2.6.3/security-extending"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.6.3"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.6.3"><meta data-react-helmet="true" property="og:title" content="Extending Authentication and Authorization in Pulsar | Apache Pulsar"><meta data-react-helmet="true" name="description" content="Pulsar provides a way to use custom authentication and authorization mechanisms."><meta data-react-helmet="true" property="og:description" content="Pulsar provides a way to use custom authentication and authorization mechanisms."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pulsar.apache.com/docs/2.6.3/security-extending"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.6.3/security-extending" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pulsar.apache.com/docs/2.6.3/security-extending" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4a6b6be2.css">
<link rel="preload" href="/assets/js/runtime~main.668ae9d7.js" as="script">
<link rel="preload" href="/assets/js/main.3d3de418.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="Apache Pulsar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.6.3/">Docs</a><a class="navbar__item navbar__link" href="/versions">Versions</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/apache/pulsar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/docs">Version</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/">2.8.0</a></li><li><a class="dropdown__link" href="/docs/2.7.3/">2.7.3</a></li><li><a class="dropdown__link" href="/docs/2.7.2/">2.7.2</a></li><li><a class="dropdown__link" href="/docs/2.7.1/">2.7.1</a></li><li><a class="dropdown__link" href="/docs/2.7.0/">2.7.0</a></li><li><a class="dropdown__link" href="/docs/2.6.4/">2.6.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.6.3/">2.6.3</a></li><li><a class="dropdown__link" href="/docs/2.6.2/">2.6.2</a></li><li><a class="dropdown__link" href="/docs/2.2.0/">2.2.0</a></li></ul></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Get Started</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts and Architecture</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Schema</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar Functions</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar IO</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Pulsar SQL</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Kubernetes (Helm)</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deployment</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Administration</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Security</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-overview">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-tls-transport">Transport Encryption using TLS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-tls-authentication">Authentication using TLS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-tls-keystore">Using TLS with KeyStore configure</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-jwt">Authentication using JWT</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-athenz">Authentication using Athenz</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-kerberos">Authentication using Kerberos</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-oauth2">Authentication using OAuth 2.0 access tokens</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-authorization">Authorization and ACLs</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-encryption">End-to-End Encryption</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.6.3/security-extending">Extending</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.6.3/security-bouncy-castle">Bouncy Castle Providers</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Performance</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Client Libraries</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Admin API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Adaptors</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cookbooks</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Apache Pulsar <b>2.6.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/security-extending">latest version</a></b> (2.8.0).</div></div><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 2.6.3</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Extending Authentication and Authorization in Pulsar</h1></header><p>Pulsar provides a way to use custom authentication and authorization mechanisms.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="authentication"></a>Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">#</a></h2><p>Pulsar supports mutual TLS and Athenz authentication plugins. For how to use these authentication plugins, you can refer to the description in <a href="/docs/2.6.3/security-overview">Security</a>.</p><p>You can choose to use a custom authentication mechanism by providing the implementation in the form of two plugins. One plugin is for the Client library and the other plugin is for the Pulsar Broker to validate the credentials.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="client-authentication-plugin"></a>Client authentication plugin<a class="hash-link" href="#client-authentication-plugin" title="Direct link to heading">#</a></h3><p>For client library, you need to implement <code>org.apache.pulsar.client.api.Authentication</code>. By entering the command below you can pass this class when you create a Pulsar client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PulsarClient client = PulsarClient.builder()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .serviceUrl(&quot;pulsar://localhost:6650&quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .authentication(new MyAuthentication())</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .build();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can use 2 interfaces to implement on the client side:</p><ul><li><code>Authentication</code> -&gt; <a href="http://pulsar.apache.org/api/client/2.6.0-SNAPSHOT/org/apache/pulsar/client/api/Authentication.html" target="_blank" rel="noopener noreferrer">http://pulsar.apache.org/api/client/2.6.0-SNAPSHOT/org/apache/pulsar/client/api/Authentication.html</a></li><li><code>AuthenticationDataProvider</code> -&gt; <a href="http://pulsar.apache.org/api/client/2.6.0-SNAPSHOT/org/apache/pulsar/client/api/AuthenticationDataProvider.html" target="_blank" rel="noopener noreferrer">http://pulsar.apache.org/api/client/2.6.0-SNAPSHOT/org/apache/pulsar/client/api/AuthenticationDataProvider.html</a></li></ul><p>This in turn needs to provide the client credentials in the form of <code>org.apache.pulsar.client.api.AuthenticationDataProvider</code>. This leaves the chance to return different kinds of authentication token for different types of connection or by passing a certificate chain to use for TLS.</p><p>You can find examples for client authentication providers at:</p><ul><li>Mutual TLS Auth -- <a href="https://github.com/apache/pulsar/tree/master/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/tree/master/pulsar-client/src/main/java/org/apache/pulsar/client/impl/auth</a></li><li>Athenz -- <a href="https://github.com/apache/pulsar/tree/master/pulsar-client-auth-athenz/src/main/java/org/apache/pulsar/client/impl/auth" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/tree/master/pulsar-client-auth-athenz/src/main/java/org/apache/pulsar/client/impl/auth</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="broker-authentication-plugin"></a>Broker authentication plugin<a class="hash-link" href="#broker-authentication-plugin" title="Direct link to heading">#</a></h3><p>On broker side, you need the corresponding plugin to validate the credentials that the client passes. Broker can support multiple authentication providers at the same time.</p><p>In <code>conf/broker.conf</code> you can choose to specify a list of valid providers:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly properties"><pre tabindex="0" class="prism-code language-properties codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Authentication provider name list, which is comma separated list of class names</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">authenticationProviders=</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>To implement <code>org.apache.pulsar.broker.authentication.AuthenticationProvider</code> on one single interface:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Provider of authentication mechanism</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public interface AuthenticationProvider extends Closeable {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Perform initialization for the authentication provider</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param config</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            broker config object</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @throws IOException</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *             if the initialization fails</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    void initialize(ServiceConfiguration config) throws IOException;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return the authentication method name supported by this provider</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    String getAuthMethodName();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Validate the authentication for the given credentials with the specified authentication data</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param authData</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            provider specific authentication data</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return the &quot;role&quot; string for the authenticated connection, if the authentication was successful</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @throws AuthenticationException</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *             if the credentials are not valid</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    String authenticate(AuthenticationDataSource authData) throws AuthenticationException;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The following is the example for Broker authentication plugins:</p><ul><li>Mutual TLS -- <a href="https://github.com/apache/pulsar/blob/master/pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authentication/AuthenticationProviderTls.java" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/blob/master/pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authentication/AuthenticationProviderTls.java</a></li><li>Athenz -- <a href="https://github.com/apache/pulsar/blob/master/pulsar-broker-auth-athenz/src/main/java/org/apache/pulsar/broker/authentication/AuthenticationProviderAthenz.java" target="_blank" rel="noopener noreferrer">https://github.com/apache/pulsar/blob/master/pulsar-broker-auth-athenz/src/main/java/org/apache/pulsar/broker/authentication/AuthenticationProviderAthenz.java</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="authorization"></a>Authorization<a class="hash-link" href="#authorization" title="Direct link to heading">#</a></h2><p>Authorization is the operation that checks whether a particular &quot;role&quot; or &quot;principal&quot; has a permission to perform a certain operation.</p><p>By default, Pulsar provides an embedded authorization, though configuring a different one through a plugin is also an alternative choice.</p><p>To provide a custom provider, you need to implement the <code>org.apache.pulsar.broker.authorization.AuthorizationProvider</code> interface, put this class in the Pulsar broker classpath and configure the class in <code>conf/broker.conf</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly properties"><pre tabindex="0" class="prism-code language-properties codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Authorization provider fully qualified class-name</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">authorizationProvider=org.apache.pulsar.broker.authorization.PulsarAuthorizationProvider</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> * Provider of authorization mechanism</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public interface AuthorizationProvider extends Closeable {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Perform initialization for the authorization provider</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param config</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            broker config object</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param configCache</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            pulsar zk configuration cache service</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @throws IOException</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *             if the initialization fails</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    void initialize(ServiceConfiguration conf, ConfigurationCacheService configCache) throws IOException;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Check if the specified role has permission to send messages to the specified fully qualified topic name.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param topicName</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            the fully qualified topic name associated with the topic.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param role</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            the app id used to send messages to the topic.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CompletableFuture&lt;Boolean&gt; canProduceAsync(TopicName topicName, String role,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            AuthenticationDataSource authenticationData);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Check if the specified role has permission to receive messages from the specified fully qualified topic name.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param topicName</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            the fully qualified topic name associated with the topic.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param role</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            the app id used to receive messages from the topic.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param subscription</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            the subscription name defined by the client</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CompletableFuture&lt;Boolean&gt; canConsumeAsync(TopicName topicName, String role,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            AuthenticationDataSource authenticationData, String subscription);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Check whether the specified role can perform a lookup for the specified topic.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * For that the caller needs to have producer or consumer permission.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param topicName</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param role</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @throws Exception</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CompletableFuture&lt;Boolean&gt; canLookupAsync(TopicName topicName, String role,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            AuthenticationDataSource authenticationData);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Grant authorization-action permission on a namespace to the given client</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param namespace</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param actions</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param role</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param authDataJson</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            additional authdata in json format</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return CompletableFuture</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @completesWith &lt;br /&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *                IllegalArgumentException when namespace not found&lt;br /&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *                IllegalStateException when failed to grant permission</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CompletableFuture&lt;Void&gt; grantPermissionAsync(NamespaceName namespace, Set&lt;AuthAction&gt; actions, String role,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            String authDataJson);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Grant authorization-action permission on a topic to the given client</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param topicName</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param role</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param authDataJson</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *            additional authdata in json format</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return CompletableFuture</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @completesWith &lt;br /&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *                IllegalArgumentException when namespace not found&lt;br /&gt;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *                IllegalStateException when failed to grant permission</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CompletableFuture&lt;Void&gt; grantPermissionAsync(TopicName topicName, Set&lt;AuthAction&gt; actions, String role,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            String authDataJson);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/pulsar/edit/master/site2/website-next/versioned_docs/version-2.6.3/security-extending.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/2.6.3/security-encryption"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« End-to-End Encryption</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/2.6.3/security-bouncy-castle"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Bouncy Castle Providers Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authentication" class="table-of-contents__link">Authentication</a><ul><li><a href="#client-authentication-plugin" class="table-of-contents__link">Client authentication plugin</a></li><li><a href="#broker-authentication-plugin" class="table-of-contents__link">Broker authentication plugin</a></li></ul></li><li><a href="#authorization" class="table-of-contents__link">Authorization</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Inc.Copyright Â© 2021 The Apache Software Foundation. All Rights Reserved. Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.668ae9d7.js"></script>
<script src="/assets/js/main.3d3de418.js"></script>
</body>
</html>