"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[64797],{3905:function(e,t,a){a.d(t,{Zo:function(){return o},kt:function(){return k}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var m=n.createContext({}),s=function(e){var t=n.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},o=function(e){var t=s(e.components);return n.createElement(m.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,m=e.parentName,o=u(e,["components","mdxType","originalType","parentName"]),d=s(a),k=r,c=d["".concat(m,".").concat(k)]||d[k]||p[k]||l;return a?n.createElement(c,i(i({ref:t},o),{},{components:a})):n.createElement(c,i({ref:t},o))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=d;var u={};for(var m in t)hasOwnProperty.call(t,m)&&(u[m]=t[m]);u.originalType=e,u.mdxType="string"==typeof e?e:r,i[1]=u;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},58561:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return u},contentTitle:function(){return m},metadata:function(){return s},toc:function(){return o},default:function(){return d}});var n=a(87462),r=a(63366),l=(a(67294),a(3905)),i=["components"],u={id:"reference-metrics",title:"Pulsar Metrics",sidebar_label:"Pulsar Metrics",original_id:"reference-metrics"},m=void 0,s={unversionedId:"reference-metrics",id:"version-2.7.3/reference-metrics",isDocsHomePage:!1,title:"Pulsar Metrics",description:"Pulsar exposes the following metrics in Prometheus format. You can monitor your clusters with those metrics.",source:"@site/versioned_docs/version-2.7.3/reference-metrics.md",sourceDirName:".",slug:"/reference-metrics",permalink:"/docs/2.7.3/reference-metrics",editUrl:"https://github.com/apache/pulsar/edit/master/site2/website-next/versioned_docs/version-2.7.3/reference-metrics.md",tags:[],version:"2.7.3",frontMatter:{id:"reference-metrics",title:"Pulsar Metrics",sidebar_label:"Pulsar Metrics",original_id:"reference-metrics"},sidebar:"version-2.7.3/docsSidebar",previous:{title:"Pulsar configuration",permalink:"/docs/2.7.3/reference-configuration"}},o=[{value:"ZooKeeper",id:"zookeeper",children:[{value:"Server metrics",id:"server-metrics",children:[]},{value:"Request metrics",id:"request-metrics",children:[]}]},{value:"BookKeeper",id:"bookkeeper",children:[{value:"Server metrics",id:"server-metrics-1",children:[]},{value:"Journal metrics",id:"journal-metrics",children:[]},{value:"Storage metrics",id:"storage-metrics",children:[]}]},{value:"Broker",id:"broker",children:[{value:"Namespace metrics",id:"namespace-metrics",children:[]},{value:"Topic metrics",id:"topic-metrics",children:[]},{value:"ManagedLedgerCache metrics",id:"managedledgercache-metrics",children:[]},{value:"ManagedLedger metrics",id:"managedledger-metrics",children:[]},{value:"Managed cursor acknowledgment state",id:"managed-cursor-acknowledgment-state",children:[]},{value:"LoadBalancing metrics",id:"loadbalancing-metrics",children:[]},{value:"Subscription metrics",id:"subscription-metrics",children:[]},{value:"Consumer metrics",id:"consumer-metrics",children:[]},{value:"Managed ledger bookie client metrics",id:"managed-ledger-bookie-client-metrics",children:[]},{value:"Token metrics",id:"token-metrics",children:[]},{value:"Authentication metrics",id:"authentication-metrics",children:[]},{value:"Jetty metrics",id:"jetty-metrics",children:[]}]},{value:"Pulsar Functions",id:"pulsar-functions",children:[]},{value:"Proxy",id:"proxy",children:[]},{value:"Pulsar SQL Worker",id:"pulsar-sql-worker",children:[]}],p={toc:o};function d(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Pulsar exposes the following metrics in Prometheus format. You can monitor your clusters with those metrics."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#zookeeper"},"ZooKeeper")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#bookkeeper"},"BookKeeper")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#broker"},"Broker")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#pulsar-functions"},"Pulsar Functions")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#proxy"},"Proxy")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#pulsar-sql-worker"},"Pulsar SQL Worker"))),(0,l.kt)("p",null,"The following types of metrics are available:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://prometheus.io/docs/concepts/metric_types/#counter"},"Counter"),": a cumulative metric that represents a single monotonically increasing counter. The value increases by default. You can reset the value to zero or restart your cluster."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://prometheus.io/docs/concepts/metric_types/#gauge"},"Gauge"),": a metric that represents a single numerical value that can arbitrarily go up and down."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://prometheus.io/docs/concepts/metric_types/#histogram"},"Histogram"),": a histogram samples observations (usually things like request durations or response sizes) and counts them in configurable buckets. The ",(0,l.kt)("inlineCode",{parentName:"li"},"_bucket")," suffix is the number of observations within a histogram bucket, configured with parameter ",(0,l.kt)("inlineCode",{parentName:"li"},'{le="<upper inclusive bound>"}'),". The ",(0,l.kt)("inlineCode",{parentName:"li"},"_count")," suffix is the number of observations, shown as a time series and behaves like a counter. The ",(0,l.kt)("inlineCode",{parentName:"li"},"_sum")," suffix is the sum of observed values, also shown as a time series and behaves like a counter. These suffixes are together denoted by ",(0,l.kt)("inlineCode",{parentName:"li"},"_*")," in this doc."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://prometheus.io/docs/concepts/metric_types/#summary"},"Summary"),": similar to a histogram, a summary samples observations (usually things like request durations and response sizes). While it also provides a total count of observations and a sum of all observed values, it calculates configurable quantiles over a sliding time window.")),(0,l.kt)("h2",{id:"zookeeper"},"ZooKeeper"),(0,l.kt)("p",null,'The ZooKeeper metrics are exposed under "/metrics" at port ',(0,l.kt)("inlineCode",{parentName:"p"},"8000"),". You can use a different port by configuring the ",(0,l.kt)("inlineCode",{parentName:"p"},"stats_server_port")," system property."),(0,l.kt)("h3",{id:"server-metrics"},"Server metrics"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_znode_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of z-nodes stored.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_data_size_bytes"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total size of all of z-nodes stored.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_connections"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently opened connections.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_watches_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of watchers registered.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_ephemerals_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of ephemeral z-nodes.")))),(0,l.kt)("h3",{id:"request-metrics"},"Request metrics"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_requests"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of requests received by a particular server.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"zookeeper_server_requests_latency_ms"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The requests latency calculated in milliseconds. ",(0,l.kt)("br",null)," Available labels: ",(0,l.kt)("em",{parentName:"td"},"type")," (write, read). ",(0,l.kt)("br",null)," ",(0,l.kt)("ul",null,(0,l.kt)("li",null,(0,l.kt)("em",{parentName:"td"},"write"),": the requests that write data to ZooKeeper."),(0,l.kt)("li",null,(0,l.kt)("em",{parentName:"td"},"read"),": the requests that read data from ZooKeeper.")))))),(0,l.kt)("h2",{id:"bookkeeper"},"BookKeeper"),(0,l.kt)("p",null,'The BookKeeper metrics are exposed under "/metrics" at port ',(0,l.kt)("inlineCode",{parentName:"p"},"8000"),". You can change the port by updating ",(0,l.kt)("inlineCode",{parentName:"p"},"prometheusStatsHttpPort"),"\nin the ",(0,l.kt)("inlineCode",{parentName:"p"},"bookkeeper.conf")," configuration file."),(0,l.kt)("h3",{id:"server-metrics-1"},"Server metrics"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_SERVER_STATUS"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The server status for bookie server. ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,"1: the bookie is running in writable mode."),(0,l.kt)("li",null,"0: the bookie is running in readonly mode.")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookkeeper_server_ADD_ENTRY_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of ADD_ENTRY requests received at the bookie. The ",(0,l.kt)("inlineCode",{parentName:"td"},"success")," label is used to distinguish successes and failures.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookkeeper_server_READ_ENTRY_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of READ_ENTRY requests received at the bookie. The ",(0,l.kt)("inlineCode",{parentName:"td"},"success")," label is used to distinguish successes and failures.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_WRITE_BYTES"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of bytes written to the bookie.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_READ_BYTES"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of bytes read from the bookie.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookkeeper_server_ADD_ENTRY_REQUEST"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The summary of request latency of ADD_ENTRY requests at the bookie. The ",(0,l.kt)("inlineCode",{parentName:"td"},"success")," label is used to distinguish successes and failures.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookkeeper_server_READ_ENTRY_REQUEST"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The summary of request latency of READ_ENTRY requests at the bookie. The ",(0,l.kt)("inlineCode",{parentName:"td"},"success")," label is used to distinguish successes and failures.")))),(0,l.kt)("h3",{id:"journal-metrics"},"Journal metrics"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_journal_JOURNAL_SYNC_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of journal fsync operations happening at the bookie. The ",(0,l.kt)("inlineCode",{parentName:"td"},"success")," label is used to distinguish successes and failures.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_journal_JOURNAL_QUEUE_SIZE"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of requests pending in the journal queue.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_journal_JOURNAL_FORCE_WRITE_QUEUE_SIZE"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of force write (fsync) requests pending in the force-write queue.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_journal_JOURNAL_CB_QUEUE_SIZE"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of callbacks pending in the callback queue.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_journal_JOURNAL_ADD_ENTRY"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The summary of request latency of adding entries to the journal.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_journal_JOURNAL_SYNC"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The summary of fsync latency of syncing data to the journal disk.")))),(0,l.kt)("h3",{id:"storage-metrics"},"Storage metrics"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_ledgers_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of ledgers stored in the bookie.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_entries_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of entries stored in the bookie.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_write_cache_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The bookie write cache size (in bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_read_cache_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The bookie read cache size (in bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_DELETED_LEDGER_COUNT"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of ledgers deleted since the bookie has started.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"bookie_ledger_writable_dirs"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of writable directories in the bookie.")))),(0,l.kt)("h2",{id:"broker"},"Broker"),(0,l.kt)("p",null,'The broker metrics are exposed under "/metrics" at port ',(0,l.kt)("inlineCode",{parentName:"p"},"8080"),". You can change the port by updating ",(0,l.kt)("inlineCode",{parentName:"p"},"webServicePort")," to a different port\nin the ",(0,l.kt)("inlineCode",{parentName:"p"},"broker.conf")," configuration file."),(0,l.kt)("p",null,"All the metrics exposed by a broker are labelled with ",(0,l.kt)("inlineCode",{parentName:"p"},"cluster=${pulsar_cluster}"),". The name of Pulsar cluster is the value of ",(0,l.kt)("inlineCode",{parentName:"p"},"${pulsar_cluster}"),", which you have configured in the ",(0,l.kt)("inlineCode",{parentName:"p"},"broker.conf")," file."),(0,l.kt)("p",null,"The following metrics are available for broker:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#namespace-metrics"},"Namespace metrics"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#replication-metrics"},"Replication metrics")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#topic-metrics"},"Topic metrics"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#replication-metrics-1"},"Replication metrics")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#managedledgercache-metrics"},"ManagedLedgerCache metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#managedledger-metrics"},"ManagedLedger metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#loadbalancing-metrics"},"LoadBalancing metrics"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#bundleunloading-metrics"},"BundleUnloading metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#bundlesplit-metrics"},"BundleSplit metrics")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#subscription-metrics"},"Subscription metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#consumer-metrics"},"Consumer metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#managed-ledger-bookie-client-metrics"},"ManagedLedger bookie client metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#token-metrics"},"Token metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#authentication-metrics"},"Authentication metrics")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#jetty-metrics"},"Jetty metrics"))),(0,l.kt)("h3",{id:"namespace-metrics"},"Namespace metrics"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Namespace metrics are only exposed when ",(0,l.kt)("inlineCode",{parentName:"p"},"exposeTopicLevelMetricsInPrometheus")," is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"false"),".")),(0,l.kt)("p",null,"All the namespace metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you configured in ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"namespace"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"namespace=${pulsar_namespace}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_namespace}")," is the namespace name.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_topics_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of Pulsar topics of the namespace owned by this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscriptions_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of Pulsar subscriptions of the namespace served by this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_producers_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of active producers of the namespace connected to this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumers_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of active consumers of the namespace connected to this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_rate_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the namespace coming into this broker (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_rate_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the namespace going out from this broker (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_throughput_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the namespace coming into this broker (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_throughput_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the namespace going out from this broker (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total storage size of the topics in this namespace owned by this broker (bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_backlog_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total backlog size of the topics of this namespace owned by this broker (messages).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_offloaded_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total amount of the data in this namespace offloaded to the tiered storage (bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_write_rate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message batches (entries) written to the storage for this namespace (message batches / second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_read_rate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message batches (entries) read from the storage for this namespace (message batches / second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_delayed"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message batches (entries) are delayed for dispatching.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"storage_write_latency_le"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The entry rate of a namespace that the storage write latency is smaller with a given threshold.",(0,l.kt)("br",null)," Available thresholds: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,"pulsar_storage_write_latency_le_0_5: <= 0.5ms "),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_1: <= 1ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_5: <= 5ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_10: <= 10ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_20: <= 20ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_50: <= 50ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_100: <= 100ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_200: <= 200ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_1000: <= 1s"),(0,l.kt)("li",null,"pulsar_storage_write_latency_overflow: > 1s")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"entry_size_le"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The entry rate of a namespace that the entry size is smaller with a given threshold.",(0,l.kt)("br",null)," Available thresholds: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,"pulsar_entry_size_le_128: <= 128 bytes "),(0,l.kt)("li",null,"pulsar_entry_size_le_512: <= 512 bytes"),(0,l.kt)("li",null,"pulsar_entry_size_le_1_kb: <= 1 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_2_kb: <= 2 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_4_kb: <= 4 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_16_kb: <= 16 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_100_kb: <= 100 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_1_mb: <= 1 MB"),(0,l.kt)("li",null,"pulsar_entry_size_le_overflow: > 1 MB")))))),(0,l.kt)("h4",{id:"replication-metrics"},"Replication metrics"),(0,l.kt)("p",null,"If a namespace is configured to be replicated among multiple Pulsar clusters, the corresponding replication metrics is also exposed when ",(0,l.kt)("inlineCode",{parentName:"p"},"replicationMetricsEnabled")," is enabled."),(0,l.kt)("p",null,"All the replication metrics are also labelled with ",(0,l.kt)("inlineCode",{parentName:"p"},"remoteCluster=${pulsar_remote_cluster}"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_rate_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the namespace replicating from remote cluster (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_rate_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the namespace replicating to remote cluster (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_throughput_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the namespace replicating from remote cluster (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_throughput_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the namespace replicating to remote cluster (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_backlog"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total backlog of the namespace replicating to remote cluster (messages).")))),(0,l.kt)("h3",{id:"topic-metrics"},"Topic metrics"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Topic metrics are only exposed when ",(0,l.kt)("inlineCode",{parentName:"p"},"exposeTopicLevelMetricsInPrometheus")," is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),".")),(0,l.kt)("p",null,"All the topic metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you configured in ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"namespace"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"namespace=${pulsar_namespace}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_namespace}")," is the namespace name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"topic"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"topic=${pulsar_topic}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_topic}")," is the topic name.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscriptions_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of Pulsar subscriptions of the topic served by this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_producers_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of active producers of the topic connected to this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumers_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of active consumers of the topic connected to this broker.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_rate_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the topic coming into this broker (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_rate_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the topic going out from this broker (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_throughput_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the topic coming into this broker (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_throughput_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the topic going out from this broker (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total storage size of the topics in this topic owned by this broker (bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_backlog_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total backlog size of the topics of this topic owned by this broker (messages).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_offloaded_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total amount of the data in this topic offloaded to the tiered storage (bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_backlog_quota_limit"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total amount of the data in this topic that limit the backlog quota (bytes).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_write_rate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message batches (entries) written to the storage for this topic (message batches / second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_storage_read_rate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message batches (entries) read from the storage for this topic (message batches / second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_delayed"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message batches (entries) are delayed for dispatching.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"storage_write_latency_le"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The entry rate of a topic that the storage write latency is smaller with a given threshold.",(0,l.kt)("br",null)," Available thresholds: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,"pulsar_storage_write_latency_le_0_5: <= 0.5ms "),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_1: <= 1ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_5: <= 5ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_10: <= 10ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_20: <= 20ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_50: <= 50ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_100: <= 100ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_200: <= 200ms"),(0,l.kt)("li",null,"pulsar_storage_write_latency_le_1000: <= 1s"),(0,l.kt)("li",null,"pulsar_storage_write_latency_overflow: > 1s")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"entry_size_le"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The entry rate of a topic that the entry size is smaller with a given threshold.",(0,l.kt)("br",null)," Available thresholds: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,"pulsar_entry_size_le_128: <= 128 bytes "),(0,l.kt)("li",null,"pulsar_entry_size_le_512: <= 512 bytes"),(0,l.kt)("li",null,"pulsar_entry_size_le_1_kb: <= 1 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_2_kb: <= 2 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_4_kb: <= 4 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_16_kb: <= 16 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_100_kb: <= 100 KB"),(0,l.kt)("li",null,"pulsar_entry_size_le_1_mb: <= 1 MB"),(0,l.kt)("li",null,"pulsar_entry_size_le_overflow: > 1 MB")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_in_bytes_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of bytes received for this topic")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_in_messages_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of messages received for this topic")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_out_bytes_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of bytes read from this topic")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_out_messages_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of messages read from this topic")))),(0,l.kt)("h4",{id:"replication-metrics-1"},"Replication metrics"),(0,l.kt)("p",null,"If a namespace that a topic belongs to is configured to be replicated among multiple Pulsar clusters, the corresponding replication metrics is also exposed when ",(0,l.kt)("inlineCode",{parentName:"p"},"replicationMetricsEnabled")," is enabled."),(0,l.kt)("p",null,"All the replication metrics are labelled with ",(0,l.kt)("inlineCode",{parentName:"p"},"remoteCluster=${pulsar_remote_cluster}"),"."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_rate_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the topic replicating from remote cluster (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_rate_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate of the topic replicating to remote cluster (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_throughput_in"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the topic replicating from remote cluster (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_throughput_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total throughput of the topic replicating to remote cluster (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_replication_backlog"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total backlog of the topic replicating to remote cluster (messages).")))),(0,l.kt)("h3",{id:"managedledgercache-metrics"},"ManagedLedgerCache metrics"),(0,l.kt)("p",null,"All the ManagedLedgerCache metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"cluster: cluster=${pulsar_cluster}. ${pulsar_cluster} is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_evictions"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of cache evictions during the last minute.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_hits_rate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of cache hits per second.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_hits_throughput"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount of data is retrieved from the cache in byte/s")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_misses_rate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of cache misses per second")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_misses_throughput"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount of data is retrieved from the cache in byte/s")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_active_allocations"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently active allocations in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_active_allocations_huge"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently active huge allocation in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_active_allocations_normal"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently active normal allocations in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_active_allocations_small"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently active small allocations in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_active_allocations_tiny"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently active tiny allocations in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_allocated"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total allocated memory of chunk lists in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_pool_used"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total used memory of chunk lists in direct arena")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_cache_used_size"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The size in byte used to store the entries payloads")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of currently opened managed ledgers")))),(0,l.kt)("h3",{id:"managedledger-metrics"},"ManagedLedger metrics"),(0,l.kt)("p",null,"All the managedLedger metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"cluster: cluster=${pulsar_cluster}. ${pulsar_cluster} is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},"namespace: namespace=${pulsar_namespace}. ${pulsar_namespace} is the namespace name."),(0,l.kt)("li",{parentName:"ul"},"quantile: quantile=${quantile}. Quantile is only for ",(0,l.kt)("inlineCode",{parentName:"li"},"Histogram")," type metric, and represents the threshold for given Buckets.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_AddEntryBytesRate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The bytes/s rate of messages added")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_AddEntryErrors"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of addEntry requests that failed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_AddEntryLatencyBuckets"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The add entry latency of a ledger with a given quantile (threshold).",(0,l.kt)("br",null)," Available quantile: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,' quantile="0.0_0.5" is AddEntryLatency between (0.0ms, 0.5ms]')," ",(0,l.kt)("li",null,'quantile="0.5_1.0" is AddEntryLatency between (0.5ms, 1.0ms]'),(0,l.kt)("li",null,'quantile="1.0_5.0" is AddEntryLatency between (1ms, 5ms]'),(0,l.kt)("li",null,'quantile="5.0_10.0" is AddEntryLatency between (5ms, 10ms]'),(0,l.kt)("li",null,'quantile="10.0_20.0" is AddEntryLatency between (10ms, 20ms]'),(0,l.kt)("li",null,'quantile="20.0_50.0" is AddEntryLatency between (20ms, 50ms]'),(0,l.kt)("li",null,'quantile="50.0_100.0" is AddEntryLatency between (50ms, 100ms]'),(0,l.kt)("li",null,'quantile="100.0_200.0" is AddEntryLatency between (100ms, 200ms]'),(0,l.kt)("li",null,'quantile="200.0_1000.0" is AddEntryLatency between (200ms, 1s]')))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_AddEntryLatencyBuckets_OVERFLOW"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The add entry latency > 1s")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_AddEntryMessagesRate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The msg/s rate of messages added")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_AddEntrySucceed"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of addEntry requests that succeeded")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_EntrySizeBuckets"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The add entry size of a ledger with given quantile.",(0,l.kt)("br",null)," Available quantile: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,'quantile="0.0_128.0" is EntrySize between (0byte, 128byte]'),(0,l.kt)("li",null,'quantile="128.0_512.0" is EntrySize between (128byte, 512byte]'),(0,l.kt)("li",null,'quantile="512.0_1024.0" is EntrySize between (512byte, 1KB]'),(0,l.kt)("li",null,'quantile="1024.0_2048.0" is EntrySize between (1KB, 2KB]'),(0,l.kt)("li",null,'quantile="2048.0_4096.0" is EntrySize between (2KB, 4KB]'),(0,l.kt)("li",null,'quantile="4096.0_16384.0" is EntrySize between (4KB, 16KB]'),(0,l.kt)("li",null,'quantile="16384.0_102400.0" is EntrySize between (16KB, 100KB]'),(0,l.kt)("li",null,'quantile="102400.0_1232896.0" is EntrySize between (100KB, 1MB]')))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_EntrySizeBuckets_OVERFLOW"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The add entry size > 1MB")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_LedgerSwitchLatencyBuckets"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The ledger switch latency with given quantile. ",(0,l.kt)("br",null)," Available quantile: ",(0,l.kt)("br",null),(0,l.kt)("ul",null,(0,l.kt)("li",null,'quantile="0.0_0.5" is EntrySize between (0ms, 0.5ms]'),(0,l.kt)("li",null,'quantile="0.5_1.0" is EntrySize between (0.5ms, 1ms]'),(0,l.kt)("li",null,'quantile="1.0_5.0" is EntrySize between (1ms, 5ms]'),(0,l.kt)("li",null,'quantile="5.0_10.0" is EntrySize between (5ms, 10ms]'),(0,l.kt)("li",null,'quantile="10.0_20.0" is EntrySize between (10ms, 20ms]'),(0,l.kt)("li",null,'quantile="20.0_50.0" is EntrySize between (20ms, 50ms]'),(0,l.kt)("li",null,'quantile="50.0_100.0" is EntrySize between (50ms, 100ms]'),(0,l.kt)("li",null,'quantile="100.0_200.0" is EntrySize between (100ms, 200ms]'),(0,l.kt)("li",null,'quantile="200.0_1000.0" is EntrySize between (200ms, 1000ms]')))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_LedgerSwitchLatencyBuckets_OVERFLOW"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The ledger switch latency > 1s")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_MarkDeleteRate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The rate of mark-delete ops/s")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_NumberOfMessagesInBacklog"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of backlog messages for all the consumers")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_ReadEntriesBytesRate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The bytes/s rate of messages read")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_ReadEntriesErrors"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of readEntries requests that failed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_ReadEntriesRate"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The msg/s rate of messages read")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_ReadEntriesSucceeded"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of readEntries requests that succeeded")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_ml_StoredMessagesSize"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total size of the messages in active ledgers (accounting for the multiple copies stored)")))),(0,l.kt)("h3",{id:"managed-cursor-acknowledgment-state"},"Managed cursor acknowledgment state"),(0,l.kt)("p",null,"The acknowledgment state is persistent to the ledger first. When the acknowledgment state fails to be persistent to the ledger, they are persistent to ZooKeeper. To track the stats of acknowledgment, you can configure the metrics for the managed cursor."),(0,l.kt)("p",null,"All the cursor acknowledgment state metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"namespace: ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace=${pulsar_namespace}"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"${pulsar_namespace}")," is the namespace name.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"ledger_name: ",(0,l.kt)("inlineCode",{parentName:"p"},"ledger_name=${pulsar_ledger_name}"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"${pulsar_ledger_name}")," is the ledger name.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"cursor_name: ",(0,l.kt)("inlineCode",{parentName:"p"},"ledger_name=${pulsar_cursor_name}"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"${pulsar_cursor_name}")," is the cursor name."))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'brk_ml_cursor_persistLedgerSucceed(namespace=", ledger_name="", cursor_name:")'),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of acknowledgment states that is persistent to a ledger.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'brk_ml_cursor_persistLedgerErrors(namespace="", ledger_name="", cursor_name:"")'),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of ledger errors occurred when acknowledgment states fail to be persistent to the ledger.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'brk_ml_cursor_persistZookeeperSucceed(namespace="", ledger_name="", cursor_name:"")'),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of acknowledgment states that is persistent to ZooKeeper.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'brk_ml_cursor_persistZookeeperErrors(namespace="", ledger_name="", cursor_name:"")'),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of ledger errors occurred when acknowledgment states fail to be persistent to ZooKeeper.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},'brk_ml_cursor_nonContiguousDeletedMessagesRange(namespace="", ledger_name="", cursor_name:"")'),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of non-contiguous deleted messages ranges.")))),(0,l.kt)("h3",{id:"loadbalancing-metrics"},"LoadBalancing metrics"),(0,l.kt)("p",null,"All the loadbalancing metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"cluster: cluster=${pulsar_cluster}. ${pulsar_cluster} is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},"broker: broker=${broker}. ${broker} is the IP address of the broker"),(0,l.kt)("li",{parentName:"ul"},'metric: metric="loadBalancing".')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_bandwidth_in_usage"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The broker inbound bandwith usage (in percent).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_bandwidth_out_usage"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The broker outbound bandwith usage (in percent).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_cpu_usage"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The broker cpu usage (in percent).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_directMemory_usage"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The broker process direct memory usage (in percent).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_memory_usage"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The broker process memory usage (in percent).")))),(0,l.kt)("h4",{id:"bundleunloading-metrics"},"BundleUnloading metrics"),(0,l.kt)("p",null,"All the bundleUnloading metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"cluster: cluster=${pulsar_cluster}. ${pulsar_cluster} is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},'metric: metric="bundleUnloading".')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_unload_broker_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Unload broker count in this bundle unloading")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_unload_bundle_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Bundle unload count in this bundle unloading")))),(0,l.kt)("h4",{id:"bundlesplit-metrics"},"BundleSplit metrics"),(0,l.kt)("p",null,"All the bundleUnloading metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"cluster: cluster=${pulsar_cluster}. ${pulsar_cluster} is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},'metric: metric="bundlesSplit".')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_lb_bundles_split_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"bundle split count in this bundle splitting check interval")))),(0,l.kt)("h3",{id:"subscription-metrics"},"Subscription metrics"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Subscription metrics are only exposed when ",(0,l.kt)("inlineCode",{parentName:"p"},"exposeTopicLevelMetricsInPrometheus")," is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),".")),(0,l.kt)("p",null,"All the subscription metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"namespace"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"namespace=${pulsar_namespace}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_namespace}")," is the namespace name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"topic"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"topic=${pulsar_topic}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_topic}")," is the topic name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"subscription"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"subscription=${subscription}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${subscription}")," is the topic subscription name.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_back_log"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total backlog of a subscription (messages).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_delayed"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of messages are delayed to be dispatched for a subscription (messages).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_msg_rate_redeliver"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate for message being redelivered (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_unacked_messages"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of unacknowledged messages of a subscription (messages).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_blocked_on_unacked_messages"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Indicate whether a subscription is blocked on unacknowledged messages or not. ",(0,l.kt)("br",null)," ",(0,l.kt)("ul",null,(0,l.kt)("li",null,"1 means the subscription is blocked on waiting unacknowledged messages to be acked."),(0,l.kt)("li",null,"0 means the subscription is not blocked on waiting unacknowledged messages to be acked.")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_msg_rate_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message dispatch rate for a subscription (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_subscription_msg_throughput_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message dispatch throughput for a subscription (bytes/second).")))),(0,l.kt)("h3",{id:"consumer-metrics"},"Consumer metrics"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Consumer metrics are only exposed when both ",(0,l.kt)("inlineCode",{parentName:"p"},"exposeTopicLevelMetricsInPrometheus")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"exposeConsumerLevelMetricsInPrometheus")," are set to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),".")),(0,l.kt)("p",null,"All the consumer metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"namespace"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"namespace=${pulsar_namespace}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_namespace}")," is the namespace name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"topic"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"topic=${pulsar_topic}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_topic}")," is the topic name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"subscription"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"subscription=${subscription}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${subscription}")," is the topic subscription name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"consumer_name"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"consumer_name=${consumer_name}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${consumer_name}")," is the topic consumer name."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"consumer_id"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"consumer_id=${consumer_id}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${consumer_id}")," is the topic consumer id.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumer_msg_rate_redeliver"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message rate for message being redelivered (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumer_unacked_messages"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of unacknowledged messages of a consumer (messages).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumer_blocked_on_unacked_messages"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Indicate whether a consumer is blocked on unacknowledged messages or not. ",(0,l.kt)("br",null)," ",(0,l.kt)("ul",null,(0,l.kt)("li",null,"1 means the consumer is blocked on waiting unacknowledged messages to be acked."),(0,l.kt)("li",null,"0 means the consumer is not blocked on waiting unacknowledged messages to be acked.")))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumer_msg_rate_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message dispatch rate for a consumer (messages/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumer_msg_throughput_out"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total message dispatch throughput for a consumer (bytes/second).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_consumer_available_permits"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The available permits for for a consumer.")))),(0,l.kt)("h3",{id:"managed-ledger-bookie-client-metrics"},"Managed ledger bookie client metrics"),(0,l.kt)("p",null,"All the managed ledger bookie client metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"managedLedger_client_bookkeeper_ml_scheduler_completed_tasks"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of tasks the scheduler executor execute completed. ",(0,l.kt)("br",null),"The number of metrics determined by the scheduler executor thread number configured by ",(0,l.kt)("inlineCode",{parentName:"td"},"managedLedgerNumSchedulerThreads")," in ",(0,l.kt)("inlineCode",{parentName:"td"},"broker.conf"),". ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"managedLedger_client_bookkeeper_ml_scheduler_queue"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of tasks queued in the scheduler executor's queue. ",(0,l.kt)("br",null),"The number of metrics determined by scheduler executor's thread number configured by ",(0,l.kt)("inlineCode",{parentName:"td"},"managedLedgerNumSchedulerThreads")," in ",(0,l.kt)("inlineCode",{parentName:"td"},"broker.conf"),". ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"managedLedger_client_bookkeeper_ml_scheduler_total_tasks"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of tasks the scheduler executor received. ",(0,l.kt)("br",null),"The number of metrics determined by scheduler executor's thread number configured by ",(0,l.kt)("inlineCode",{parentName:"td"},"managedLedgerNumSchedulerThreads")," in ",(0,l.kt)("inlineCode",{parentName:"td"},"broker.conf"),". ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"managedLedger_client_bookkeeper_ml_workers_completed_tasks"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of tasks the worker executor execute completed. ",(0,l.kt)("br",null),"The number of metrics determined by the number of worker task thread number configured by ",(0,l.kt)("inlineCode",{parentName:"td"},"managedLedgerNumWorkerThreads")," in ",(0,l.kt)("inlineCode",{parentName:"td"},"broker.conf")," ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"managedLedger_client_bookkeeper_ml_workers_queue"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of tasks queued in the worker executor's queue. ",(0,l.kt)("br",null),"The number of metrics determined by scheduler executor's thread number configured by ",(0,l.kt)("inlineCode",{parentName:"td"},"managedLedgerNumWorkerThreads")," in ",(0,l.kt)("inlineCode",{parentName:"td"},"broker.conf"),". ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar",(0,l.kt)("em",{parentName:"td"},"managedLedger_client_bookkeeper_ml_workers_total_tasks"),"*"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The total number of tasks the worker executor received. ",(0,l.kt)("br",null),"The number of metrics determined by worker executor's thread number configured by ",(0,l.kt)("inlineCode",{parentName:"td"},"managedLedgerNumWorkerThreads")," in ",(0,l.kt)("inlineCode",{parentName:"td"},"broker.conf"),". ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_managedLedger_client_bookkeeper_ml_scheduler_task_execution"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The scheduler task execution latency calculated in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_managedLedger_client_bookkeeper_ml_scheduler_task_queued"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The scheduler task queued latency calculated in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_managedLedger_client_bookkeeper_ml_workers_task_execution"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The worker task execution latency calculated in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_managedLedger_client_bookkeeper_ml_workers_task_queued"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The worker task queued latency calculated in milliseconds.")))),(0,l.kt)("h3",{id:"token-metrics"},"Token metrics"),(0,l.kt)("p",null,"All the token metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_expired_token_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of expired tokens in Pulsar.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_expiring_token_minutes"),(0,l.kt)("td",{parentName:"tr",align:null},"Histogram"),(0,l.kt)("td",{parentName:"tr",align:null},"The remaining time of expiring tokens in minutes.")))),(0,l.kt)("h3",{id:"authentication-metrics"},"Authentication metrics"),(0,l.kt)("p",null,"All the authentication metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"provider_name"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"provider_name=${provider_name}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${provider_name}")," is the class name of the authentication provider."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"auth_method"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"auth_method=${auth_method}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${auth_method}")," is the authentication method of the authentication provider."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"reason"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"reason=${reason}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${reason}")," is the reason for failing authentication operation. (This label is only for ",(0,l.kt)("inlineCode",{parentName:"li"},"pulsar_authentication_failures_count"),".)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_authentication_success_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of successful authentication operations.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_authentication_failures_count"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of failing authentication operations.")))),(0,l.kt)("h3",{id:"jetty-metrics"},"Jetty metrics"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"For a functions-worker running separately from brokers, its Jetty metrics are only exposed when ",(0,l.kt)("inlineCode",{parentName:"p"},"includeStandardPrometheusMetrics")," is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),".")),(0,l.kt)("p",null,"All the jetty metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_requests_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of requests.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_requests_active"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of requests currently active.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_requests_active_max"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of requests that have been active at once.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_request_time_max_seconds"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum time spent handling requests.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_request_time_seconds_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total time spent in all request handling.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_dispatched_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of dispatches.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_dispatched_active"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of dispatches currently active.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_dispatched_active_max"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of active dispatches being handled.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_dispatched_time_max"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum time spent in dispatch handling.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_dispatched_time_seconds_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total time spent in dispatch handling.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_async_requests_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of async requests.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_async_requests_waiting"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Currently waiting async requests.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_async_requests_waiting_max"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of waiting async requests.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_async_dispatches_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of requested that have been asynchronously dispatched.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_expires_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of async requests requests that have expired.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_responses_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of responses, labeled by status code. The ",(0,l.kt)("inlineCode",{parentName:"td"},"code"),' label can be "1xx", "2xx", "3xx", "4xx", or "5xx".')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_stats_seconds"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Time in seconds stats have been collected for.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"jetty_responses_bytes_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of bytes across all responses.")))),(0,l.kt)("h2",{id:"pulsar-functions"},"Pulsar Functions"),(0,l.kt)("p",null,"All the Pulsar Functions metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"namespace"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"namespace=${pulsar_namespace}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_namespace}")," is the namespace name.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_processed_successfully_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of messages processed successfully.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_processed_successfully_total_1min"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of messages processed successfully in the last 1 minute.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_system_exceptions_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of system exceptions.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_system_exceptions_total_1min"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of system exceptions in the last 1 minute.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_user_exceptions_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of user exceptions.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_user_exceptions_total_1min"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of user exceptions in the last 1 minute.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_process_latency_ms"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Process latency in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_process_latency_ms_1min"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Process latency in milliseconds in the last 1 minute.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_last_invocation"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"The timestamp of the last invocation of the function.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_received_total"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of messages received from source.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_function_received_total_1min"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of messages received from source in the last 1 minute.")))),(0,l.kt)("h2",{id:"proxy"},"Proxy"),(0,l.kt)("p",null,"All the proxy metrics are labelled with the following labels:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"cluster"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"cluster=${pulsar_cluster}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${pulsar_cluster}")," is the cluster name that you have configured in the ",(0,l.kt)("inlineCode",{parentName:"li"},"broker.conf")," file."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"kubernetes_pod_name"),": ",(0,l.kt)("inlineCode",{parentName:"li"},"kubernetes_pod_name=${kubernetes_pod_name}"),". ",(0,l.kt)("inlineCode",{parentName:"li"},"${kubernetes_pod_name}")," is the kubernetes pod name.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_proxy_active_connections"),(0,l.kt)("td",{parentName:"tr",align:null},"Gauge"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of connections currently active in the proxy.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_proxy_new_connections"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter of connections being opened in the proxy.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_proxy_rejected_connections"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter for connections rejected due to throttling.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_proxy_binary_ops"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter of proxy operations.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pulsar_proxy_binary_bytes"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter of proxy bytes.")))),(0,l.kt)("h2",{id:"pulsar-sql-worker"},"Pulsar SQL Worker"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_bytes_read"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of bytes read from BookKeeper.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_num_messages_deserialized"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of messages deserialized.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_num_record_deserialized"),(0,l.kt)("td",{parentName:"tr",align:null},"Counter"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of records deserialized.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_bytes_read_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Total number of bytes read per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_entry_deserialize_time"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on derserializing entries.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_entry_deserialize_time_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on derserializing entries per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_entry_queue_dequeue_wait_time"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spend on waiting to get entry from entry queue because it is empty.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_entry_queue_dequeue_wait_time_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Total time spent on waiting to get entry from entry queue per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_message_queue_dequeue_wait_time_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on waiting to dequeue from message queue because is is empty per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_message_queue_enqueue_wait_time"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on waiting for message queue enqueue because the message queue is full.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_message_queue_enqueue_wait_time_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on waiting for message queue enqueue because the message queue is full per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_num_entries_per_batch"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of entries per batch.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_num_entries_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of entries per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_num_messages_deserialized_per_entry"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of messages deserialized per entry.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_num_messages_deserialized_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of messages deserialized per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_read_attempts"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of read attempts (fail if queues are full).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_read_attempts_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of read attempts per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_read_latency_per_batch"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Latency of reads per batch.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_read_latency_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Total read latency per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_record_deserialize_time"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on deserializing message to record. For example, Avro, JSON, and so on.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_record_deserialize_time_per_query"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"Time spent on deserializing message to record per query.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"split_total_execution_time"),(0,l.kt)("td",{parentName:"tr",align:null},"Summary"),(0,l.kt)("td",{parentName:"tr",align:null},"The total execution time.")))))}d.isMDXComponent=!0}}]);