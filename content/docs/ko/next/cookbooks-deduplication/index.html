<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Message deduplication · Apache Pulsar</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="When **Message deduplication** is enabled, it ensures that each message produced on Pulsar topics is persisted to disk *only once*, even if the message is produced more than once. Message deduplication is handled automatically on the server side."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="ko"/><meta property="og:title" content="Message deduplication · Apache Pulsar"/><meta property="og:type" content="website"/><meta property="og:url" content="https://pulsar.apache.org/"/><meta property="og:description" content="When **Message deduplication** is enabled, it ensures that each message produced on Pulsar topics is persisted to disk *only once*, even if the message is produced more than once. Message deduplication is handled automatically on the server side."/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://pulsar.apache.org/img/pulsar.svg"/><link rel="shortcut icon" href="/img/pulsar.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://pulsar.apache.org/blog/atom.xml" title="Apache Pulsar Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://pulsar.apache.org/blog/feed.xml" title="Apache Pulsar Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-102219959-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-blocks-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/custom.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/ko"><img class="logo" src="/img/pulsar.svg" alt="Apache Pulsar"/></a><a href="/ko/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/ko/next/standalone" target="_self">Docs</a></li><li class=""><a href="/ko/download" target="_self">Download</a></li><li class="siteNavGroupActive"><a href="/docs/ko/next/client-libraries" target="_self">Clients</a></li><li class=""><a href="#restapis" target="_self">REST APIs</a></li><li class=""><a href="#cli" target="_self">Cli</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="#community" target="_self">Community</a></li><li class=""><a href="#apache" target="_self">Apache</a></li><li class=""><a href="https://pulsar-next.staged.apache.org/" target="_self">New Website(Beta)</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>한국어</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/next/cookbooks-deduplication">English</a></li><li><a href="/docs/ja/next/cookbooks-deduplication">日本語</a></li><li><a href="/docs/fr/next/cookbooks-deduplication">Français</a></li><li><a href="/docs/zh-CN/next/cookbooks-deduplication">中文</a></li><li><a href="/docs/zh-TW/next/cookbooks-deduplication">繁體中文</a></li><li><a href="https://crowdin.com/project/apache-pulsar" target="_blank" rel="noreferrer noopener">번역 도와주기</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Cookbooks</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Get Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/standalone">로컬 Pulsar 실행</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/standalone-docker">Docker에서 Pulsar 실행</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/kubernetes-helm">Run Pulsar in Kubernetes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Concepts and Architecture</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-messaging">메시징</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-architecture-overview">Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-clients">Clients</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-replication">지리적 복제(Geo Replication)</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-multi-tenancy">멀티 테넌시</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-authentication">Authentication and Authorization</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-topic-compaction">Topic 압축</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-proxy-sni-routing">Proxy support with SNI routing</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/concepts-multiple-advertised-listeners">Multiple advertised listeners</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Pulsar Schema</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/schema-get-started">Get started</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/schema-understand">Understand schema</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/schema-evolution-compatibility">Schema evolution and compatibility</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/schema-manage">Manage schema</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Pulsar Functions</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-runtime">Setup: Configure Functions runtime</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-worker">Setup: Pulsar Functions Worker</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-develop">How-to: Develop</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-package">How-to: Package</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-debug">How-to: Debug</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-deploy">How-to: Deploy</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/functions-cli">Reference: CLI</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/window-functions-context">Window Functions: Context</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Pulsar IO</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-quickstart">Get started</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-use">Use</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-debug">Debug</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-connectors">Built-in connector</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-cdc">CDC connector</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-develop">Develop</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/io-cli">CLI</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Pulsar SQL</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/sql-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/sql-getting-started">Query data</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/sql-deployment-configurations">Configuration and deployment</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/sql-rest-api">REST APIs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tiered Storage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/tiered-storage-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/tiered-storage-aws">AWS S3 offloader</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/tiered-storage-gcs">GCS offloader</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/tiered-storage-filesystem">Filesystem offloader</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/tiered-storage-azure">Azure BlobStore offloader</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/tiered-storage-aliyun">Aliyun OSS offloader</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Transactions</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/txn-why">Why transactions?</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/txn-what">What are transactions?</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/txn-how">How transactions work?</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/txn-use">How to use transactions?</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/txn-monitor">How to monitor transactions?</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Kubernetes (Helm)</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/helm-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/helm-prepare">Prepare</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/helm-install">Install</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/helm-deploy">Deployment</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/helm-upgrade">Upgrade</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/helm-tools">Required Tools</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Deployment</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/deploy-aws">Amazon Web Services</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/deploy-kubernetes">Kubernetes</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/deploy-bare-metal">Bare metal</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/deploy-bare-metal-multi-cluster">Bare metal multi-cluster</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/deploy-docker">Docker</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/deploy-monitoring">Monitor</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Administration</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-zk-bk">ZooKeeper and BookKeeper</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-geo">Geo-replication</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-pulsar-manager">Pulsar Manager</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-stats">Pulsar statistics</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-load-balance">Load balance</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-proxy">Pulsar proxy</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-upgrade">Upgrade</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/administration-isolation">Pulsar isolation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Security</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-policy-and-supported-versions">Security Policy and Supported Versions</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-tls-transport">Transport Encryption using TLS</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-tls-authentication">Authentication using TLS</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-tls-keystore">Using TLS with KeyStore configure</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-jwt">Authentication using JWT</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-athenz">Authentication using Athenz</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-kerberos">Authentication using Kerberos</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-oauth2">Authentication using OAuth 2.0 access tokens</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-authorization">Authorization and ACLs</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-encryption">End-to-End Encryption</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-extending">Extend Authentication and Authorization</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/security-bouncy-castle">Bouncy Castle Providers</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Performance</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/performance-pulsar-perf">Pulsar Perf</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Client Libraries</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-java">Java</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-go">Go</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-python">Python</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-cpp">C++</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-node">Node.js</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-websocket">WebSocket</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-dotnet">C#</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/client-libraries-rest">REST</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Admin API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-clusters">클러스터</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-tenants">Tenants</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-brokers">브로커</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-namespaces">네임스페이스</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-permissions">Permissions</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-topics">Topics</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-functions">Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/admin-api-packages">Packages</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Adaptors</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/adaptors-kafka">Kafka client wrapper</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/adaptors-spark">Apache Spark</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/adaptors-storm">Apache Storm</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cookbooks</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/cookbooks-compaction">Topic compaction</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/ko/next/cookbooks-deduplication">Message deduplication</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/cookbooks-non-persistent">Non-persistent messaging</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/cookbooks-retention-expiry">Message retention and expiry</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/cookbooks-encryption">Encryption</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/cookbooks-message-queue">Message queue</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/cookbooks-bookkeepermetadata">BookKeeper Ledger Metadata</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Development</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/develop-tools">Simulation tools</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/develop-binary-protocol">Binary protocol</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/develop-load-manager">Modular load manager</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/develop-plugin">Plugin</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/ko/next/reference-terminology">Terminology</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/reference-cli-tools">Pulsar CLI tools</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/reference-configuration">Pulsar configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/ko/next/reference-metrics">Pulsar Metrics</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/apache-pulsar/ko" target="_blank" rel="noreferrer noopener">Translate</a><h1 id="__docusaurus" class="postHeaderTitle">Message deduplication</h1></header><article><div><span><p>When <strong>Message deduplication</strong> is enabled, it ensures that each message produced on Pulsar topics is persisted to disk <em>only once</em>, even if the message is produced more than once. Message deduplication is handled automatically on the server side.</p>
<p>To use message deduplication in Pulsar, you need to configure your Pulsar brokers and clients.</p>
<h2><a class="anchor" aria-hidden="true" id="how-it-works"></a><a href="#how-it-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How it works</h2>
<p>You can enable or disable message deduplication at the namespace level or the topic level. By default, it is disabled on all namespaces or topics. You can enable it in the following ways:</p>
<ul>
<li>Enable deduplication for all namespaces/topics at the broker-level.</li>
<li>Enable deduplication for a specific namespace with the <code>pulsar-admin namespaces</code> interface.</li>
<li>Enable deduplication for a specific topic with the <code>pulsar-admin topics</code> interface.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="configure-message-deduplication"></a><a href="#configure-message-deduplication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configure message deduplication</h2>
<p>You can configure message deduplication in Pulsar using the <a href="/docs/ko/next/reference-configuration#broker"><code>broker.conf</code></a> configuration file. The following deduplication-related parameters are available.</p>
<table>
<thead>
<tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left"><code>brokerDeduplicationEnabled</code></td><td style="text-align:left">Sets the default behavior for message deduplication in the Pulsar broker. If it is set to <code>true</code>, message deduplication is enabled on all namespaces/topics. If it is set to <code>false</code>, you have to enable or disable deduplication at the namespace level or the topic level.</td><td style="text-align:left"><code>false</code></td></tr>
<tr><td style="text-align:left"><code>brokerDeduplicationMaxNumberOfProducers</code></td><td style="text-align:left">The maximum number of producers for which information is stored for deduplication purposes.</td><td style="text-align:left"><code>10000</code></td></tr>
<tr><td style="text-align:left"><code>brokerDeduplicationEntriesInterval</code></td><td style="text-align:left">The number of entries after which a deduplication informational snapshot is taken. A larger interval leads to fewer snapshots being taken, though this lengthens the topic recovery time (the time required for entries published after the snapshot to be replayed).</td><td style="text-align:left"><code>1000</code></td></tr>
<tr><td style="text-align:left"><code>brokerDeduplicationSnapshotIntervalSeconds</code></td><td style="text-align:left">The time period after which a deduplication informational snapshot is taken. It runs simultaneously with <code>brokerDeduplicationEntriesInterval</code>.</td><td style="text-align:left"><code>120</code></td></tr>
<tr><td style="text-align:left"><code>brokerDeduplicationProducerInactivityTimeoutMinutes</code></td><td style="text-align:left">The time of inactivity (in minutes) after which the broker discards deduplication information related to a disconnected producer.</td><td style="text-align:left"><code>360</code> (6 hours)</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="set-default-value-at-the-broker-level"></a><a href="#set-default-value-at-the-broker-level" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set default value at the broker-level</h3>
<p>By default, message deduplication is <em>disabled</em> on all Pulsar namespaces/topics. To enable it on all namespaces/topics, set the <code>brokerDeduplicationEnabled</code> parameter to <code>true</code> and re-start the broker.</p>
<p>Even if you set the value for <code>brokerDeduplicationEnabled</code>, enabling or disabling via Pulsar admin CLI overrides the default settings at the broker-level.</p>
<h3><a class="anchor" aria-hidden="true" id="enable-message-deduplication"></a><a href="#enable-message-deduplication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable message deduplication</h3>
<p>Though message deduplication is disabled by default at the broker level, you can enable message deduplication for a specific namespace or topic using the <a href="/docs/ko/next/pulsar-admin#namespace-set-deduplication"><code>pulsar-admin namespaces set-deduplication</code></a> or the <a href="/docs/ko/next/pulsar-admin#topic-set-deduplication"><code>pulsar-admin topics set-deduplication</code></a> command. You can use the <code>--enable</code>/<code>-e</code> flag and specify the namespace/topic.</p>
<p>The following example shows how to enable message deduplication at the namespace level.</p>
<pre><code class="hljs css language-bash">$ bin/pulsar-admin namespaces <span class="hljs-built_in">set</span>-deduplication \
  public/default \
  --<span class="hljs-built_in">enable</span> <span class="hljs-comment"># or just -e</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="disable-message-deduplication"></a><a href="#disable-message-deduplication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Disable message deduplication</h3>
<p>Even if you enable message deduplication at the broker level, you can disable message deduplication for a specific namespace or topic using the <a href="/docs/ko/next/pulsar-admin#namespace-set-deduplication"><code>pulsar-admin namespace set-deduplication</code></a> or the <a href="/docs/ko/next/pulsar-admin#topic-set-deduplication"><code>pulsar-admin topics set-deduplication</code></a> command. Use the <code>--disable</code>/<code>-d</code> flag and specify the namespace/topic.</p>
<p>The following example shows how to disable message deduplication at the namespace level.</p>
<pre><code class="hljs css language-bash">$ bin/pulsar-admin namespaces <span class="hljs-built_in">set</span>-deduplication \
  public/default \
  --<span class="hljs-built_in">disable</span> <span class="hljs-comment"># or just -d</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="pulsar-clients"></a><a href="#pulsar-clients" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pulsar clients</h2>
<p>If you enable message deduplication in Pulsar brokers, you need complete the following tasks for your client producers:</p>
<ol>
<li>Specify a name for the producer.</li>
<li>Set the message timeout to <code>0</code> (namely, no timeout).</li>
</ol>
<p>The instructions for Java, Python, and C++ clients are different.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-2830-tab-2831" class="nav-link active" data-group="group_2830" data-tab="tab-group-2830-content-2831">Java clients</div><div id="tab-group-2830-tab-2832" class="nav-link" data-group="group_2830" data-tab="tab-group-2830-content-2832">Python clients</div><div id="tab-group-2830-tab-2833" class="nav-link" data-group="group_2830" data-tab="tab-group-2830-content-2833">C++ clients</div></div><div class="tab-content"><div id="tab-group-2830-content-2831" class="tab-pane active" data-group="group_2830" tabindex="-1"><div><span><p>To enable message deduplication on a <a href="/docs/ko/next/client-libraries-java#producers">Java producer</a>, set the producer name using the <code>producerName</code> setter, and set the timeout to <code>0</code> using the <code>sendTimeout</code> setter.</p>
<pre><code class="hljs css language-java"><span class="hljs-keyword">import</span> org.apache.pulsar.client.api.Producer;<br /><span class="hljs-keyword">import</span> org.apache.pulsar.client.api.PulsarClient;<br /><span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;<br /><br />PulsarClient pulsarClient = PulsarClient.builder()<br />        .serviceUrl(<span class="hljs-string">"pulsar://localhost:6650"</span>)<br />        .build();<br />Producer producer = pulsarClient.newProducer()<br />        .producerName(<span class="hljs-string">"producer-1"</span>)<br />        .topic(<span class="hljs-string">"persistent://public/default/topic-1"</span>)<br />        .sendTimeout(<span class="hljs-number">0</span>, TimeUnit.SECONDS)<br />        .create();<br /></code></pre>
</span></div></div><div id="tab-group-2830-content-2832" class="tab-pane" data-group="group_2830" tabindex="-1"><div><span><p>To enable message deduplication on a <a href="/docs/ko/next/client-libraries-python#producers">Python producer</a>, set the producer name using <code>producer_name</code>, and set the timeout to <code>0</code> using <code>send_timeout_millis</code>.</p>
<pre><code class="hljs css language-python"><span class="hljs-keyword">import</span> pulsar<br /><br />client = pulsar.Client(<span class="hljs-string">"pulsar://localhost:6650"</span>)<br />producer = client.create_producer(<br />    <span class="hljs-string">"persistent://public/default/topic-1"</span>,<br />    producer_name=<span class="hljs-string">"producer-1"</span>,<br />    send_timeout_millis=<span class="hljs-number">0</span>)<br /></code></pre>
</span></div></div><div id="tab-group-2830-content-2833" class="tab-pane" data-group="group_2830" tabindex="-1"><div><span><p>To enable message deduplication on a <a href="/docs/ko/next/client-libraries-cpp#producer">C++ producer</a>, set the producer name using <code>producer_name</code>, and set the timeout to <code>0</code> using <code>send_timeout_millis</code>.</p>
<pre><code class="hljs css language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;pulsar/Client.h&gt;</span></span><br /><br /><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> serviceUrl = <span class="hljs-string">"pulsar://localhost:6650"</span>;<br /><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> topic = <span class="hljs-string">"persistent://some-tenant/ns1/topic-1"</span>;<br /><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> producerName = <span class="hljs-string">"producer-1"</span>;<br /><br /><span class="hljs-function">Client <span class="hljs-title">client</span><span class="hljs-params">(serviceUrl)</span></span>;<br /><br />ProducerConfiguration producerConfig;<br />producerConfig.setSendTimeout(<span class="hljs-number">0</span>);<br />producerConfig.setProducerName(producerName);<br /><br />Producer producer;<br /><br />Result result = client.createProducer(topic, producerConfig, producer);<br /></code></pre>
</span></div></div></div></div></span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/ko/next/cookbooks-compaction"><span class="arrow-prev">← </span><span>Topic compaction</span></a><a class="docs-next button" href="/docs/ko/next/cookbooks-non-persistent"><span>Non-persistent messaging</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#how-it-works">How it works</a></li><li><a href="#configure-message-deduplication">Configure message deduplication</a><ul class="toc-headings"><li><a href="#set-default-value-at-the-broker-level">Set default value at the broker-level</a></li><li><a href="#enable-message-deduplication">Enable message deduplication</a></li><li><a href="#disable-message-deduplication">Disable message deduplication</a></li></ul></li><li><a href="#pulsar-clients">Pulsar clients</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2022 The Apache Software Foundation. All Rights Reserved. Apache, Apache Pulsar and the Apache feather logo are trademarks of The Apache Software Foundation.</section><span><script>
      const community = document.querySelector("a[href='#community']").parentNode;
      const communityMenu =
        '<li>' +
        '<a id="community-menu" href="#">Community <span style="font-size: 0.75em">&nbsp;▼</span></a>' +
        '<div id="community-dropdown" class="hide">' +
          '<ul id="community-dropdown-items">' +
            '<li><a href="/ko/contact">Contact</a></li>' +
            '<li><a href="/ko/contributing">Contributing</a></li>' +
            '<li><a href="/ko/coding-guide">Coding guide</a></li>' +
            '<li><a href="/ko/events">Events</a></li>' +
            '<li><a href="https://twitter.com/Apache_Pulsar" target="_blank">Twitter &#x2750</a></li>' +
            '<li><a href="https://github.com/apache/pulsar/wiki" target="_blank">Wiki &#x2750</a></li>' +
            '<li><a href="https://github.com/apache/pulsar/issues" target="_blank">Issue tracking &#x2750</a></li>' +
            '<li><a href="https://pulsar-summit.org/" target="_blank">Pulsar Summit &#x2750</a></li>' +
            '<li>&nbsp;</li>' +
            '<li><a href="/ko/resources">Resources</a></li>' +
            '<li><a href="/ko/team">Team</a></li>' +
            '<li><a href="/ko/powered-by">Powered By</a></li>' +
          '</ul>' +
        '</div>' +
        '</li>';

      community.innerHTML = communityMenu;

      const communityMenuItem = document.getElementById("community-menu");
      const communityDropDown = document.getElementById("community-dropdown");
      communityMenuItem.addEventListener("click", function(event) {
        event.preventDefault();

        if (communityDropDown.className == 'hide') {
          communityDropDown.className = 'visible';
        } else {
          communityDropDown.className = 'hide';
        }
      });
    </script></span></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'd226a455cecdd4bc18a554c1b47e5b52',
                indexName: 'apache_pulsar',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:ko","version:next"]}
              });
            </script></body></html>