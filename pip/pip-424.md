# PIP-424: Support Getting Message ID by Index in ManagedLedger Interface

# Background knowledge

- **ManagedLedger**: Core Pulsar component managing message storage in BookKeeper ledgers
- **Message Index**: Global monotonically increasing counter for messages in a topic (0-based)
- **LedgerInfo**: Metadata stored per ledger in ZK/metastore (ledgerID, size, etc.)

# Motivation

Current approaches to get message ID by index rely on **broker entry metadata** (PIP-415), but custom ManagedLedger 
implementations (like StreamNative's Ursa engine) may not use broker entry metadata for tracking message indexes.

So it is necessary to add `getMessageIdByIndex()` in the **ManagedLedger** interface directly.

# Goals

## In Scope

- Add `getMessageIdByIndex()` to `ManagedLedger`

## Out of Scope

NA

# High Level Design

1. **Custom Engine Support**: Alternative implementations via `ManagedLedger` interface

# Detailed Design

## Design & Implementation Details

## Public-facing Changes

**1. `ManagedLedger` Interface Change**

```java
public interface ManagedLedger {
    CompletableFuture<MessageId> getMessageIdByIndex(long index);
}
```

### Public API

### Binary protocol

### Configuration

### CLI

### Metrics

# Backward & Forward Compatibility

# Links

* Mailing List discussion thread:
* Mailing List voting thread:
