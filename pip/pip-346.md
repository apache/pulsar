
# PIP-346: Add a simplified configuration file for Pulsar

# Background knowledge

Nowadays, `broker.conf` contains almost all the configurations of the broker. It's hard to manage the configurations in a single file, which reach almost **500** configurations. 

However, we will only modify a few configurations in the daily work. It's horrible for a beginner to start to learn pulsar, and it's also a potentially error-prone process for advanced users to maintain such a large configuration file.

We can learn from zookeeper that it uses a simplified configuration file, which only contains the configurations that are frequently modified and hides all the configurations that are rarely modified and advanced.

# Goals

## In Scope

Add a simplified configuration file for Pulsar, which only contains the configurations that are frequently modified.

# High Level Design
- rename current `broker.conf` to `complete_broker.conf`
- add a new `broker.conf` which only contains the configurations that are frequently modified

# Detailed Design

## Design & Implementation Details
The configurations that are frequently modified are:
- `brokerServicePort`
- `brokerServicePortTls`
- `webServicePort`
- `webServicePortTls`
- `metadataStoreUrl`
- `configurationMetadataStoreUrl`
- `advertisedAddress`
- `clusterName`
- `allowAutoTopicCreation`
- `allowAutoTopicCreationType`
- `allowAutoSubscriptionCreation`
- `defaultNumPartitions`
- `brokerDeleteInactiveTopicsEnabled`
- `subscriptionExpirationTimeMinutes`
- `brokerDeduplicationEnabled`
- `maxMessageSize`
- `systemTopicEnabled`
- `topicLevelPoliciesEnabled`
- `acknowledgmentAtBatchIndexLevelEnabled`
- `authenticationEnabled`
- `authenticationProviders`
- `authorizationEnabled`
- `authorizationProvider`
- `superUserRoles`
- `tokenSecretKey`
- `tokenPublicKey`
- `bookkeeperMetadataServiceUri`
- `bookkeeperClientRackawarePolicyEnabled`
- `bookkeeperClientRegionawarePolicyEnabled`
- `managedLedgerDefaultEnsembleSize`
- `managedLedgerDefaultWriteQuorum`
- `managedLedgerDefaultAckQuorum`
- `loadBalancerEnabled`
- `loadBalancerSheddingEnabled`
- `loadBalancerLoadSheddingStrategy`
- `loadBalancerLoadPlacementStrategy`
- `loadBalancerOverrideBrokerNicSpeedGbps`
- `functionsWorkerEnabled`
- `transactionCoordinatorEnabled`


# Backward & Forward Compatibility

Fully compatible.


# Links

<!--
Updated afterwards
-->
* Mailing List discussion thread: https://lists.apache.org/thread/m68v8hxpq7svcdr6xx8qjgzxlh74fng0
* Mailing List voting thread:
