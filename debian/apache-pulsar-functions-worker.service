[Unit]
Description=Apache Pulsar Functions Worker
Documentation=https://pulsar.apache.org/
After=network.target apache-pulsar.service

[Service]
Type=simple
User=apache-pulsar
Group=apache-pulsar
WorkingDirectory=/usr/lib/apache-pulsar
Environment="PULSAR_HOME=/usr/lib/apache-pulsar"
Environment="PULSAR_LOG_DIR=/var/log/apache-pulsar"
ExecStart=/usr/lib/apache-pulsar/bin/pulsar functions-worker
Restart=on-failure
RestartSec=10
StandardOutput=journal
StandardError=journal
SyslogIdentifier=apache-pulsar-functions-worker
TimeoutStartSec=300

# Security settings
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target

