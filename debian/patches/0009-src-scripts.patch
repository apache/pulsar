From: HelgiSaga <bglegb@gmail.com>
Date: Tue, 21 Jan 2026 13:00:00 +0300
Subject: [PATCH] debian: Update build and release helper scripts

Description: Update build and release helper scripts
Origin: other, https://github.com/HelgiSaga/pulsar/tree/debian
Bug-Debian: no
Forwarded: no
Author: HelgiSaga <bglegb@gmail.com>
Last-Update: 2026-01-21

---
 src/check-binary-license.sh                     | 190 +++---
 src/findbugs-exclude.xml                        |  72 +-
 src/gen-pulsar-bom.sh                           | 174 ++---
 src/gen-pulsar-version-macro.py                 |  70 +-
 src/get-project-version.py                      |  58 +-
 src/idea-code-style.xml                         | 138 ++--
 src/license-header.txt                          |  32 +-
 src/owasp-dependency-check-false-positives.xml  | 422 ++++++------
 src/owasp-dependency-check-suppressions.xml     | 848 ++++++++++++------------
 src/pulsar-io-gen.sh                            | 298 ++++-----
 src/set-project-version.sh                      |  90 +--
 src/settings.xml                                |  74 +--
 src/sign-release.sh                             |  64 +-
 src/stage-release.sh                            |  98 +--
 src/update_python_protobuf_stubs.sh             | 166 ++---
 src/update_python_protobuf_stubs_with_docker.sh |  48 +-
 16 files changed, 1421 insertions(+), 1421 deletions(-)

diff --git a/src/check-binary-license.sh b/src/check-binary-license.sh
index 6aec8b7cf1..f4939e0a14 100755
--- a/src/check-binary-license.sh
+++ b/src/check-binary-license.sh
@@ -1,95 +1,95 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-# Script to check licenses on a binary tarball.
-# It extracts the list of bundled jars, the NOTICE, and the LICENSE
-# files. It checked that every non-pulsar jar bundled is mentioned in the
-# LICENSE file. It checked that all jar files mentioned in NOTICE and
-# LICENSE are actually bundled.
-
-# all error fatal
-set -e
-
-TARBALL="$1"
-if [ -z $TARBALL ]; then
-    echo "Usage: $0 <binary-tarball>"
-    exit 1
-fi
-
-JARS=$(tar -tf $TARBALL | grep '\.jar' | grep -v '/examples/' | grep -v '/instances/' | grep -v pulsar-client | grep -v pulsar-cli-utils | grep -v pulsar-common | grep -v pulsar-package | grep -v pulsar-websocket | grep -v bouncy-castle-bc | sed 's!.*/!!' | sort)
-
-LICENSEPATH=$(tar -tf $TARBALL  | awk '/^[^\/]*\/LICENSE/')
-LICENSE=$(tar -O -xf $TARBALL "$LICENSEPATH")
-NOTICEPATH=$(tar -tf $TARBALL  | awk '/^[^\/]*\/NOTICE/')
-NOTICE=$(tar -O -xf $TARBALL $NOTICEPATH)
-
-LICENSEJARS=$(echo "$LICENSE" | sed -nE 's!.* (.*\.jar).*!\1!gp')
-NOTICEJARS=$(echo "$NOTICE" | sed -nE 's!.* (.*\.jar).*!\1!gp')
-
-LINKEDINLICENSE=$(echo "$LICENSE" | sed -nE 's!.*(lib/[[:graph:]]*).*!\1!gp' | sed 's!\.$!!')
-
-# errors not fatal
-set +e
-
-EXIT=0
-
-
-# Check all bundled jars are mentioned in LICENSE
-for J in $JARS; do
-    echo $J | grep -q "org.apache.pulsar"
-    if [ $? == 0 ]; then
-        continue
-    fi
-
-    echo "$LICENSE" | grep -q $J
-    if [ $? != 0 ]; then
-        echo $J unaccounted for in LICENSE
-        EXIT=1
-    fi
-done
-
-# Check all jars mentioned in LICENSE are bundled
-for J in $LICENSEJARS; do
-    echo "$JARS" | grep -q $J
-    if [ $? != 0 ]; then
-        echo $J mentioned in LICENSE, but not bundled
-        EXIT=2
-    fi
-done
-
-# Check all jars mentioned in NOTICE are bundled
-for J in $NOTICEJARS; do
-    if [ $J == "checker-qual.jar" ]; then
-        continue
-    fi
-    echo "$JARS" | grep -q $J
-    if [ $? != 0 ]; then
-        echo $J mentioned in NOTICE, but not bundled
-        EXIT=3
-    fi
-done
-
-if [ $EXIT != 0 ]; then
-    echo
-    echo It looks like there are issues with the LICENSE/NOTICE.
-fi
-
-exit $EXIT
-
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+# Script to check licenses on a binary tarball.
+# It extracts the list of bundled jars, the NOTICE, and the LICENSE
+# files. It checked that every non-pulsar jar bundled is mentioned in the
+# LICENSE file. It checked that all jar files mentioned in NOTICE and
+# LICENSE are actually bundled.
+
+# all error fatal
+set -e
+
+TARBALL="$1"
+if [ -z $TARBALL ]; then
+    echo "Usage: $0 <binary-tarball>"
+    exit 1
+fi
+
+JARS=$(tar -tf $TARBALL | grep '\.jar' | grep -v '/examples/' | grep -v '/instances/' | grep -v pulsar-client | grep -v pulsar-cli-utils | grep -v pulsar-common | grep -v pulsar-package | grep -v pulsar-websocket | grep -v bouncy-castle-bc | sed 's!.*/!!' | sort)
+
+LICENSEPATH=$(tar -tf $TARBALL  | awk '/^[^\/]*\/LICENSE/')
+LICENSE=$(tar -O -xf $TARBALL "$LICENSEPATH")
+NOTICEPATH=$(tar -tf $TARBALL  | awk '/^[^\/]*\/NOTICE/')
+NOTICE=$(tar -O -xf $TARBALL $NOTICEPATH)
+
+LICENSEJARS=$(echo "$LICENSE" | sed -nE 's!.* (.*\.jar).*!\1!gp')
+NOTICEJARS=$(echo "$NOTICE" | sed -nE 's!.* (.*\.jar).*!\1!gp')
+
+LINKEDINLICENSE=$(echo "$LICENSE" | sed -nE 's!.*(lib/[[:graph:]]*).*!\1!gp' | sed 's!\.$!!')
+
+# errors not fatal
+set +e
+
+EXIT=0
+
+
+# Check all bundled jars are mentioned in LICENSE
+for J in $JARS; do
+    echo $J | grep -q "org.apache.pulsar"
+    if [ $? == 0 ]; then
+        continue
+    fi
+
+    echo "$LICENSE" | grep -q $J
+    if [ $? != 0 ]; then
+        echo $J unaccounted for in LICENSE
+        EXIT=1
+    fi
+done
+
+# Check all jars mentioned in LICENSE are bundled
+for J in $LICENSEJARS; do
+    echo "$JARS" | grep -q $J
+    if [ $? != 0 ]; then
+        echo $J mentioned in LICENSE, but not bundled
+        EXIT=2
+    fi
+done
+
+# Check all jars mentioned in NOTICE are bundled
+for J in $NOTICEJARS; do
+    if [ $J == "checker-qual.jar" ]; then
+        continue
+    fi
+    echo "$JARS" | grep -q $J
+    if [ $? != 0 ]; then
+        echo $J mentioned in NOTICE, but not bundled
+        EXIT=3
+    fi
+done
+
+if [ $EXIT != 0 ]; then
+    echo
+    echo It looks like there are issues with the LICENSE/NOTICE.
+fi
+
+exit $EXIT
+
diff --git a/src/findbugs-exclude.xml b/src/findbugs-exclude.xml
index 8f289b83a7..db19d8ce79 100644
--- a/src/findbugs-exclude.xml
+++ b/src/findbugs-exclude.xml
@@ -1,36 +1,36 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!--
-
-    Licensed to the Apache Software Foundation (ASF) under one
-    or more contributor license agreements.  See the NOTICE file
-    distributed with this work for additional information
-    regarding copyright ownership.  The ASF licenses this file
-    to you under the Apache License, Version 2.0 (the
-    "License"); you may not use this file except in compliance
-    with the License.  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-    Unless required by applicable law or agreed to in writing,
-    software distributed under the License is distributed on an
-    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-    KIND, either express or implied.  See the License for the
-    specific language governing permissions and limitations
-    under the License.
-
--->
-<FindBugsFilter xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-	xsi:noNamespaceSchemaLocation="http://findbugs.googlecode.com/svn/trunk/findbugs/etc/bugcollection.xsd">
-	<Match>
-		<Or>
-			<Bug pattern="DM_EXIT" />
-
-			<!-- Excluding code generated from protocol buffer -->
-			<Package name="org.apache.pulsar.common.policies.proto" />
-			<Package name="org.apache.bookkeeper.mledger.proto" />
-                        <!-- Excluding ZooKeeper shaded files -->
-			<Package name="org.apache.zookeeper.tnx" />
-			<Package name="org.apache.jute.generated.compiler" />
-		</Or>
-	</Match>
-</FindBugsFilter>
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+
+    Licensed to the Apache Software Foundation (ASF) under one
+    or more contributor license agreements.  See the NOTICE file
+    distributed with this work for additional information
+    regarding copyright ownership.  The ASF licenses this file
+    to you under the Apache License, Version 2.0 (the
+    "License"); you may not use this file except in compliance
+    with the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing,
+    software distributed under the License is distributed on an
+    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+    KIND, either express or implied.  See the License for the
+    specific language governing permissions and limitations
+    under the License.
+
+-->
+<FindBugsFilter xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+	xsi:noNamespaceSchemaLocation="http://findbugs.googlecode.com/svn/trunk/findbugs/etc/bugcollection.xsd">
+	<Match>
+		<Or>
+			<Bug pattern="DM_EXIT" />
+
+			<!-- Excluding code generated from protocol buffer -->
+			<Package name="org.apache.pulsar.common.policies.proto" />
+			<Package name="org.apache.bookkeeper.mledger.proto" />
+                        <!-- Excluding ZooKeeper shaded files -->
+			<Package name="org.apache.zookeeper.tnx" />
+			<Package name="org.apache.jute.generated.compiler" />
+		</Or>
+	</Match>
+</FindBugsFilter>
diff --git a/src/gen-pulsar-bom.sh b/src/gen-pulsar-bom.sh
index e9fb455d5a..5887e9b857 100755
--- a/src/gen-pulsar-bom.sh
+++ b/src/gen-pulsar-bom.sh
@@ -1,87 +1,87 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-# Script to generate a BOM using the following approach:
-#
-# - do a local publish to get list of modules for BOM
-# - for each published module add dependency entry
-# - replace the current <dependencyManagement> section with
-#   entries gathered in previous step
-
-set -e
-
-# Determine top level project directory
-SRC_DIR=$(dirname "$0")
-ROOT_DIR=`cd ${SRC_DIR}/..; pwd`
-LOCAL_DEPLOY_DIR=${ROOT_DIR}/target/staging-deploy
-PULSAR_BOM_DIR=${ROOT_DIR}/pulsar-bom
-
-pushd ${ROOT_DIR} > /dev/null
-echo "Performing local publish to determine modules for BOM."
-rm -rf ${LOCAL_DEPLOY_DIR}
-./mvnw deploy -DaltDeploymentRepository=local::default::file:${LOCAL_DEPLOY_DIR} -DskipTests
-./mvnw deploy -DaltDeploymentRepository=local::default::file:${LOCAL_DEPLOY_DIR} -DskipTests -f tests/pom.xml -pl org.apache.pulsar.tests:tests-parent,org.apache.pulsar.tests:integration
-echo "$(ls ${LOCAL_DEPLOY_DIR}/org/apache/pulsar | wc -l) modules locally published to ${LOCAL_DEPLOY_DIR}."
-popd > /dev/null
-
-DEPENDENCY_MGMT_PRE=$(cat <<-END
-<dependencyManagement>
-    <dependencies>
-END
-)
-DEPENDENCY_BLOCK=$(cat <<-END
-      <dependency>
-        <groupId>org.apache.pulsar</groupId>
-        <artifactId>@ARTIFACT_ID@</artifactId>
-        <version>\${project.version}</version>
-      </dependency>
-END
-)
-DEPENDENCY_MGMT_POST=$(cat <<-END
-    </dependencies>
-  </dependencyManagement>
-</project>
-END
-)
-ALL_DEPS=""
-NEWLINE=$'\n'
-
-pushd ${LOCAL_DEPLOY_DIR}/org/apache/pulsar/ > /dev/null
-echo "Traversing locally published modules."
-for f in */
-do
-  ARTIFACT_ID="${f%/}"
-  DEPENDENCY=$(echo "${DEPENDENCY_BLOCK/@ARTIFACT_ID@/$ARTIFACT_ID}")
-  if [ "${ARTIFACT_ID}" = "pulsar-bom" ]; then
-      continue
-  elif [ -z "$ALL_DEPS" ]; then
-      ALL_DEPS="$DEPENDENCY"
-  else
-      ALL_DEPS="$ALL_DEPS$NEWLINE$DEPENDENCY"
-  fi
-done
-popd > /dev/null
-
-POM_XML=$(<${PULSAR_BOM_DIR}/pom.xml)
-POM_XML=$(echo "${POM_XML%%<dependencyManagement>*}")
-echo "$POM_XML$DEPENDENCY_MGMT_PRE$NEWLINE$ALL_DEPS$NEWLINE$DEPENDENCY_MGMT_POST" > ${PULSAR_BOM_DIR}/pom.xml
-
-echo "Created BOM ${PULSAR_BOM_DIR}/pom.xml."
-echo "You must manually inspect changes and submit a PR with the changes."
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+# Script to generate a BOM using the following approach:
+#
+# - do a local publish to get list of modules for BOM
+# - for each published module add dependency entry
+# - replace the current <dependencyManagement> section with
+#   entries gathered in previous step
+
+set -e
+
+# Determine top level project directory
+SRC_DIR=$(dirname "$0")
+ROOT_DIR=`cd ${SRC_DIR}/..; pwd`
+LOCAL_DEPLOY_DIR=${ROOT_DIR}/target/staging-deploy
+PULSAR_BOM_DIR=${ROOT_DIR}/pulsar-bom
+
+pushd ${ROOT_DIR} > /dev/null
+echo "Performing local publish to determine modules for BOM."
+rm -rf ${LOCAL_DEPLOY_DIR}
+./mvnw deploy -DaltDeploymentRepository=local::default::file:${LOCAL_DEPLOY_DIR} -DskipTests
+./mvnw deploy -DaltDeploymentRepository=local::default::file:${LOCAL_DEPLOY_DIR} -DskipTests -f tests/pom.xml -pl org.apache.pulsar.tests:tests-parent,org.apache.pulsar.tests:integration
+echo "$(ls ${LOCAL_DEPLOY_DIR}/org/apache/pulsar | wc -l) modules locally published to ${LOCAL_DEPLOY_DIR}."
+popd > /dev/null
+
+DEPENDENCY_MGMT_PRE=$(cat <<-END
+<dependencyManagement>
+    <dependencies>
+END
+)
+DEPENDENCY_BLOCK=$(cat <<-END
+      <dependency>
+        <groupId>org.apache.pulsar</groupId>
+        <artifactId>@ARTIFACT_ID@</artifactId>
+        <version>\${project.version}</version>
+      </dependency>
+END
+)
+DEPENDENCY_MGMT_POST=$(cat <<-END
+    </dependencies>
+  </dependencyManagement>
+</project>
+END
+)
+ALL_DEPS=""
+NEWLINE=$'\n'
+
+pushd ${LOCAL_DEPLOY_DIR}/org/apache/pulsar/ > /dev/null
+echo "Traversing locally published modules."
+for f in */
+do
+  ARTIFACT_ID="${f%/}"
+  DEPENDENCY=$(echo "${DEPENDENCY_BLOCK/@ARTIFACT_ID@/$ARTIFACT_ID}")
+  if [ "${ARTIFACT_ID}" = "pulsar-bom" ]; then
+      continue
+  elif [ -z "$ALL_DEPS" ]; then
+      ALL_DEPS="$DEPENDENCY"
+  else
+      ALL_DEPS="$ALL_DEPS$NEWLINE$DEPENDENCY"
+  fi
+done
+popd > /dev/null
+
+POM_XML=$(<${PULSAR_BOM_DIR}/pom.xml)
+POM_XML=$(echo "${POM_XML%%<dependencyManagement>*}")
+echo "$POM_XML$DEPENDENCY_MGMT_PRE$NEWLINE$ALL_DEPS$NEWLINE$DEPENDENCY_MGMT_POST" > ${PULSAR_BOM_DIR}/pom.xml
+
+echo "Created BOM ${PULSAR_BOM_DIR}/pom.xml."
+echo "You must manually inspect changes and submit a PR with the changes."
diff --git a/src/gen-pulsar-version-macro.py b/src/gen-pulsar-version-macro.py
index 85fb637d67..fe0b91b720 100755
--- a/src/gen-pulsar-version-macro.py
+++ b/src/gen-pulsar-version-macro.py
@@ -1,35 +1,35 @@
-#!/usr/bin/env python3
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-import xml.etree.ElementTree as ET
-import re
-from os.path import dirname, realpath, join
-
-# Derive the POM path from the current script location
-TOP_LEVEL_PATH = dirname(dirname(realpath(__file__)))
-POM_PATH = join(TOP_LEVEL_PATH, 'pom.xml')
-
-root = ET.XML(open(POM_PATH).read())
-m = re.search(r'^(\d+)\.(\d+)\.(\d+)', root.find('{http://maven.apache.org/POM/4.0.0}version').text)
-
-version_macro = 0
-for i in range(3):
-    version_macro += int(m.group(3 - i)) * (1000 ** i)
-print(version_macro)
+#!/usr/bin/env python3
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+import xml.etree.ElementTree as ET
+import re
+from os.path import dirname, realpath, join
+
+# Derive the POM path from the current script location
+TOP_LEVEL_PATH = dirname(dirname(realpath(__file__)))
+POM_PATH = join(TOP_LEVEL_PATH, 'pom.xml')
+
+root = ET.XML(open(POM_PATH).read())
+m = re.search(r'^(\d+)\.(\d+)\.(\d+)', root.find('{http://maven.apache.org/POM/4.0.0}version').text)
+
+version_macro = 0
+for i in range(3):
+    version_macro += int(m.group(3 - i)) * (1000 ** i)
+print(version_macro)
diff --git a/src/get-project-version.py b/src/get-project-version.py
index d0fec36a7c..1dbf6b7595 100755
--- a/src/get-project-version.py
+++ b/src/get-project-version.py
@@ -1,29 +1,29 @@
-#!/usr/bin/env python3
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-import xml.etree.ElementTree as ET
-from os.path import dirname, realpath, join
-
-# Derive the POM path from the current script location
-TOP_LEVEL_PATH = dirname(dirname(realpath(__file__)))
-POM_PATH = join(TOP_LEVEL_PATH, 'pom.xml')
-
-root = ET.XML(open(POM_PATH).read())
-print(root.find('{http://maven.apache.org/POM/4.0.0}version').text)
+#!/usr/bin/env python3
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+import xml.etree.ElementTree as ET
+from os.path import dirname, realpath, join
+
+# Derive the POM path from the current script location
+TOP_LEVEL_PATH = dirname(dirname(realpath(__file__)))
+POM_PATH = join(TOP_LEVEL_PATH, 'pom.xml')
+
+root = ET.XML(open(POM_PATH).read())
+print(root.find('{http://maven.apache.org/POM/4.0.0}version').text)
diff --git a/src/idea-code-style.xml b/src/idea-code-style.xml
index 810dee34a3..bcb771360f 100644
--- a/src/idea-code-style.xml
+++ b/src/idea-code-style.xml
@@ -1,70 +1,70 @@
-<!--
-
-    Licensed to the Apache Software Foundation (ASF) under one
-    or more contributor license agreements.  See the NOTICE file
-    distributed with this work for additional information
-    regarding copyright ownership.  The ASF licenses this file
-    to you under the Apache License, Version 2.0 (the
-    "License"); you may not use this file except in compliance
-    with the License.  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-    Unless required by applicable law or agreed to in writing,
-    software distributed under the License is distributed on an
-    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-    KIND, either express or implied.  See the License for the
-    specific language governing permissions and limitations
-    under the License.
-
--->
-<code_scheme name="pulsar" version="173">
-  <JavaCodeStyleSettings>
-    <option name="CLASS_COUNT_TO_USE_IMPORT_ON_DEMAND" value="999" />
-    <option name="NAMES_COUNT_TO_USE_IMPORT_ON_DEMAND" value="999" />
-    <option name="PACKAGES_TO_USE_IMPORT_ON_DEMAND">
-      <value />
-    </option>
-    <option name="IMPORT_LAYOUT_TABLE">
-      <value>
-        <package name="" withSubpackages="true" static="true" />
-        <package name="" withSubpackages="true" static="false" />
-      </value>
-    </option>
-    <option name="JD_P_AT_EMPTY_LINES" value="false" />
-    <option name="JD_PRESERVE_LINE_FEEDS" value="true" />
-  </JavaCodeStyleSettings>
-  <codeStyleSettings language="JAVA">
-    <option name="RIGHT_MARGIN" value="120" />
-    <option name="CALL_PARAMETERS_WRAP" value="1" />
-    <option name="METHOD_PARAMETERS_WRAP" value="1" />
-    <option name="RESOURCE_LIST_WRAP" value="1" />
-    <option name="EXTENDS_LIST_WRAP" value="1" />
-    <option name="THROWS_LIST_WRAP" value="1" />
-    <option name="EXTENDS_KEYWORD_WRAP" value="1" />
-    <option name="THROWS_KEYWORD_WRAP" value="1" />
-    <option name="METHOD_CALL_CHAIN_WRAP" value="1" />
-    <option name="BINARY_OPERATION_WRAP" value="1" />
-    <option name="BINARY_OPERATION_SIGN_ON_NEXT_LINE" value="true" />
-    <option name="TERNARY_OPERATION_WRAP" value="1" />
-    <option name="FOR_STATEMENT_WRAP" value="1" />
-    <option name="ARRAY_INITIALIZER_WRAP" value="1" />
-    <option name="ASSIGNMENT_WRAP" value="1" />
-    <option name="WRAP_COMMENTS" value="true" />
-    <option name="ASSERT_STATEMENT_WRAP" value="1" />
-    <option name="IF_BRACE_FORCE" value="3" />
-    <option name="DOWHILE_BRACE_FORCE" value="3" />
-    <option name="WHILE_BRACE_FORCE" value="3" />
-    <option name="FOR_BRACE_FORCE" value="3" />
-    <option name="WRAP_LONG_LINES" value="true" />
-    <option name="PARAMETER_ANNOTATION_WRAP" value="1" />
-    <option name="VARIABLE_ANNOTATION_WRAP" value="1" />
-    <option name="ENUM_CONSTANTS_WRAP" value="1" />
-  </codeStyleSettings>
-  <codeStyleSettings language="XML">
-    <indentOptions>
-      <option name="INDENT_SIZE" value="2" />
-      <option name="TAB_SIZE" value="2" />
-    </indentOptions>
-  </codeStyleSettings>
+<!--
+
+    Licensed to the Apache Software Foundation (ASF) under one
+    or more contributor license agreements.  See the NOTICE file
+    distributed with this work for additional information
+    regarding copyright ownership.  The ASF licenses this file
+    to you under the Apache License, Version 2.0 (the
+    "License"); you may not use this file except in compliance
+    with the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing,
+    software distributed under the License is distributed on an
+    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+    KIND, either express or implied.  See the License for the
+    specific language governing permissions and limitations
+    under the License.
+
+-->
+<code_scheme name="pulsar" version="173">
+  <JavaCodeStyleSettings>
+    <option name="CLASS_COUNT_TO_USE_IMPORT_ON_DEMAND" value="999" />
+    <option name="NAMES_COUNT_TO_USE_IMPORT_ON_DEMAND" value="999" />
+    <option name="PACKAGES_TO_USE_IMPORT_ON_DEMAND">
+      <value />
+    </option>
+    <option name="IMPORT_LAYOUT_TABLE">
+      <value>
+        <package name="" withSubpackages="true" static="true" />
+        <package name="" withSubpackages="true" static="false" />
+      </value>
+    </option>
+    <option name="JD_P_AT_EMPTY_LINES" value="false" />
+    <option name="JD_PRESERVE_LINE_FEEDS" value="true" />
+  </JavaCodeStyleSettings>
+  <codeStyleSettings language="JAVA">
+    <option name="RIGHT_MARGIN" value="120" />
+    <option name="CALL_PARAMETERS_WRAP" value="1" />
+    <option name="METHOD_PARAMETERS_WRAP" value="1" />
+    <option name="RESOURCE_LIST_WRAP" value="1" />
+    <option name="EXTENDS_LIST_WRAP" value="1" />
+    <option name="THROWS_LIST_WRAP" value="1" />
+    <option name="EXTENDS_KEYWORD_WRAP" value="1" />
+    <option name="THROWS_KEYWORD_WRAP" value="1" />
+    <option name="METHOD_CALL_CHAIN_WRAP" value="1" />
+    <option name="BINARY_OPERATION_WRAP" value="1" />
+    <option name="BINARY_OPERATION_SIGN_ON_NEXT_LINE" value="true" />
+    <option name="TERNARY_OPERATION_WRAP" value="1" />
+    <option name="FOR_STATEMENT_WRAP" value="1" />
+    <option name="ARRAY_INITIALIZER_WRAP" value="1" />
+    <option name="ASSIGNMENT_WRAP" value="1" />
+    <option name="WRAP_COMMENTS" value="true" />
+    <option name="ASSERT_STATEMENT_WRAP" value="1" />
+    <option name="IF_BRACE_FORCE" value="3" />
+    <option name="DOWHILE_BRACE_FORCE" value="3" />
+    <option name="WHILE_BRACE_FORCE" value="3" />
+    <option name="FOR_BRACE_FORCE" value="3" />
+    <option name="WRAP_LONG_LINES" value="true" />
+    <option name="PARAMETER_ANNOTATION_WRAP" value="1" />
+    <option name="VARIABLE_ANNOTATION_WRAP" value="1" />
+    <option name="ENUM_CONSTANTS_WRAP" value="1" />
+  </codeStyleSettings>
+  <codeStyleSettings language="XML">
+    <indentOptions>
+      <option name="INDENT_SIZE" value="2" />
+      <option name="TAB_SIZE" value="2" />
+    </indentOptions>
+  </codeStyleSettings>
 </code_scheme>
\ No newline at end of file
diff --git a/src/license-header.txt b/src/license-header.txt
index 60b675e310..d3ce793d82 100644
--- a/src/license-header.txt
+++ b/src/license-header.txt
@@ -1,16 +1,16 @@
-Licensed to the Apache Software Foundation (ASF) under one
-or more contributor license agreements.  See the NOTICE file
-distributed with this work for additional information
-regarding copyright ownership.  The ASF licenses this file
-to you under the Apache License, Version 2.0 (the
-"License"); you may not use this file except in compliance
-with the License.  You may obtain a copy of the License at
-
-  http://www.apache.org/licenses/LICENSE-2.0
-
-Unless required by applicable law or agreed to in writing,
-software distributed under the License is distributed on an
-"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-KIND, either express or implied.  See the License for the
-specific language governing permissions and limitations
-under the License.
+Licensed to the Apache Software Foundation (ASF) under one
+or more contributor license agreements.  See the NOTICE file
+distributed with this work for additional information
+regarding copyright ownership.  The ASF licenses this file
+to you under the Apache License, Version 2.0 (the
+"License"); you may not use this file except in compliance
+with the License.  You may obtain a copy of the License at
+
+  http://www.apache.org/licenses/LICENSE-2.0
+
+Unless required by applicable law or agreed to in writing,
+software distributed under the License is distributed on an
+"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+KIND, either express or implied.  See the License for the
+specific language governing permissions and limitations
+under the License.
diff --git a/src/owasp-dependency-check-false-positives.xml b/src/owasp-dependency-check-false-positives.xml
index 5abcae4efd..4e2acad2fa 100644
--- a/src/owasp-dependency-check-false-positives.xml
+++ b/src/owasp-dependency-check-false-positives.xml
@@ -1,212 +1,212 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!--
-
-    Licensed to the Apache Software Foundation (ASF) under one
-    or more contributor license agreements.  See the NOTICE file
-    distributed with this work for additional information
-    regarding copyright ownership.  The ASF licenses this file
-    to you under the Apache License, Version 2.0 (the
-    "License"); you may not use this file except in compliance
-    with the License.  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-    Unless required by applicable law or agreed to in writing,
-    software distributed under the License is distributed on an
-    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-    KIND, either express or implied.  See the License for the
-    specific language governing permissions and limitations
-    under the License.
-
--->
-<suppressions xmlns="https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd">
-  <!-- add supressions for false-positives detected by OWASP Dependency Check -->
-  <suppress>
-    <notes>
-      apache:http_server is not used.
-    </notes>
-    <cpe>cpe:/a:apache:http_server</cpe>
-  </suppress>
-  <suppress>
-    <notes>
-      apache:apache_http_server is not used.
-    </notes>
-    <cpe>cpe:/a:apache:apache_http_server</cpe>
-  </suppress>
-  <suppress>
-    <notes>pulsar-package-bookkeeper-storage gets mixed with bookkeeper.</notes>
-    <gav regex="true">org\.apache\.pulsar:.*</gav>
-    <cpe>cpe:/a:apache:bookkeeper</cpe>
-  </suppress>
-  <suppress>
-    <notes>kubernetes client doesn't contain CVE-2020-8554</notes>
-    <gav regex="true">io\.kubernetes:.*</gav>
-    <cve>CVE-2020-8554</cve>
-  </suppress>
-  <suppress>
-    <notes>avro doesn't contain CVE-2019-17195</notes>
-    <gav regex="true">org\.apache\.avro:.*</gav>
-    <cve>CVE-2019-17195</cve>
-  </suppress>
-  <suppress>
-    <notes>CVE-2021-43045 affects only .NET distro, see https://github.com/apache/avro/pull/1357</notes>
-    <gav regex="true">org\.apache\.avro:.*</gav>
-    <cve>CVE-2021-43045</cve>
-  </suppress>
-  <suppress base="true">
-    <notes><![CDATA[
-        FP per #3889
-        ]]></notes>
-    <packageUrl regex="true">^pkg:maven/io\.netty/netty\-tcnative\-classes@.*$</packageUrl>
-    <cpe>cpe:/a:netty:netty</cpe>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: netty-tcnative-boringssl-static-2.0.56.Final-osx-aarch_64.jar
-   ]]></notes>
-    <packageUrl regex="true">^pkg:maven/io\.netty/netty\-tcnative\-boringssl\-static@.*$</packageUrl>
-    <cpe>cpe:/a:chromium_project:chromium</cpe>
-  </suppress>
-  <suppress>
-<!--    Zookkeeper false positive about Jetty and commons-io-->
-<!--    https://github.com/apache/zookeeper/pull/1824-->
-    <notes><![CDATA[
-   file name: zookeeper-3.8.0.jar
-   ]]></notes>
-    <sha1>e395c1d8a71557b7569cc6a83487b2e30e2e58fe</sha1>
-    <cve>CVE-2021-28164</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-3.8.0.jar
-   ]]></notes>
-    <sha1>e395c1d8a71557b7569cc6a83487b2e30e2e58fe</sha1>
-    <cve>CVE-2021-29425</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-3.8.0.jar
-   ]]></notes>
-    <sha1>e395c1d8a71557b7569cc6a83487b2e30e2e58fe</sha1>
-    <cve>CVE-2021-34429</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-prometheus-metrics-3.8.0.jar
-   ]]></notes>
-    <sha1>849e8ece2845cb0185d721233906d487a7f1e4cf</sha1>
-    <cve>CVE-2021-28164</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-prometheus-metrics-3.8.0.jar
-   ]]></notes>
-    <sha1>849e8ece2845cb0185d721233906d487a7f1e4cf</sha1>
-    <cve>CVE-2021-29425</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-prometheus-metrics-3.8.0.jar
-   ]]></notes>
-    <sha1>849e8ece2845cb0185d721233906d487a7f1e4cf</sha1>
-    <cve>CVE-2021-34429</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-jute-3.8.0.jar
-   ]]></notes>
-    <sha1>6560f966bcf1aa78d27bcfa75fb6c4463a72c6c5</sha1>
-    <cve>CVE-2021-28164</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-jute-3.8.0.jar
-   ]]></notes>
-    <sha1>6560f966bcf1aa78d27bcfa75fb6c4463a72c6c5</sha1>
-    <cve>CVE-2021-29425</cve>
-  </suppress>
-  <suppress>
-    <notes><![CDATA[
-   file name: zookeeper-jute-3.8.0.jar
-   ]]></notes>
-    <sha1>6560f966bcf1aa78d27bcfa75fb6c4463a72c6c5</sha1>
-    <cve>CVE-2021-34429</cve>
-  </suppress>
-
-  <!-- CVE-2021-23214 is about PostGre server -->
-  <suppress>
-    <notes><![CDATA[
-   file name: debezium-connector-postgres-1.7.2.Final.jar
-   ]]></notes>
-    <sha1>69c1edfa7d89531af511fcd07e8516fa450f746a</sha1>
-    <cve>CVE-2021-23214</cve>
-  </suppress>
-
-
-<!--  MariaDB client is being confused with MariaDB server-->
-  <suppress>
-    <notes><![CDATA[
-   file name: mariadb-java-client-2.7.5.jar
-   ]]></notes>
-    <sha1>9dd29797ecabe7d2e7fa892ec6713a5552cfcc59</sha1>
-    <cve>CVE-2022-27376</cve>
-    <cve>CVE-2022-27377</cve>
-    <cve>CVE-2022-27378</cve>
-    <cve>CVE-2022-27379</cve>
-    <cve>CVE-2022-27380</cve>
-    <cve>CVE-2022-27381</cve>
-    <cve>CVE-2022-27382</cve>
-    <cve>CVE-2022-27383</cve>
-    <cve>CVE-2022-27384</cve>
-    <cve>CVE-2022-27385</cve>
-    <cve>CVE-2022-27386</cve>
-    <cve>CVE-2022-27387</cve>
-  </suppress>
-
-  <!-- google-http-client-gson getting confused with gson-->
-  <suppress>
-    <notes><![CDATA[
-   file name: google-http-client-gson-1.41.0.jar
-   ]]></notes>
-    <sha1>1a754a5dd672218a2ac667d7ff2b28df7a5a240e</sha1>
-    <cve>CVE-2022-25647</cve>
-  </suppress>
-
-  <suppress>
-    <notes>commons-net is not used at all and therefore commons-net vulnerability CVE-2021-37533 is a false positive.</notes>
-    <cve>CVE-2021-37533</cve>
-  </suppress>
-
-  <suppress>
-    <notes>fredsmith utils library is not used at all. CVE-2021-4277 is a false positive.</notes>
-    <cve>CVE-2021-4277</cve>
-  </suppress>
-
-  <suppress>
-    <notes>It treat pulsar-io-kafka-connect-adaptor as a lib of Kafka, CVE-2021-25194 is a false positive.</notes>
-    <cve>CVE-2023-25194</cve>
-  </suppress>
-
-  <suppress>
-    <notes>It treat pulsar-io-kafka-connect-adaptor as a lib of Kafka, CVE-2021-34917 is a false positive.</notes>
-    <cve>CVE-2022-34917</cve>
-  </suppress>
-
-  <suppress>
-    <notes>yaml_project is not used at all. Any CVEs reported for yaml_project are false positives.</notes>
-    <cpe>cpe:/a:yaml_project:yaml</cpe>
-  </suppress>
-
-  <suppress>
-    <notes>flat_project is not used at all.</notes>
-    <cpe>cpe:/a:flat_project:flat</cpe>
-  </suppress>
-
-  <suppress>
-    <notes><![CDATA[
-   CVE-2023-36479 has been addressed in jetty-servlets-9.4.53.v20231009.jar and newer
-   ]]></notes>
-    <packageUrl regex="true">^pkg:maven/org\.eclipse\.jetty/jetty\-servlets@.*$</packageUrl>
-    <cve>CVE-2023-36479</cve>
-  </suppress>
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+
+    Licensed to the Apache Software Foundation (ASF) under one
+    or more contributor license agreements.  See the NOTICE file
+    distributed with this work for additional information
+    regarding copyright ownership.  The ASF licenses this file
+    to you under the Apache License, Version 2.0 (the
+    "License"); you may not use this file except in compliance
+    with the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing,
+    software distributed under the License is distributed on an
+    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+    KIND, either express or implied.  See the License for the
+    specific language governing permissions and limitations
+    under the License.
+
+-->
+<suppressions xmlns="https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd">
+  <!-- add supressions for false-positives detected by OWASP Dependency Check -->
+  <suppress>
+    <notes>
+      apache:http_server is not used.
+    </notes>
+    <cpe>cpe:/a:apache:http_server</cpe>
+  </suppress>
+  <suppress>
+    <notes>
+      apache:apache_http_server is not used.
+    </notes>
+    <cpe>cpe:/a:apache:apache_http_server</cpe>
+  </suppress>
+  <suppress>
+    <notes>pulsar-package-bookkeeper-storage gets mixed with bookkeeper.</notes>
+    <gav regex="true">org\.apache\.pulsar:.*</gav>
+    <cpe>cpe:/a:apache:bookkeeper</cpe>
+  </suppress>
+  <suppress>
+    <notes>kubernetes client doesn't contain CVE-2020-8554</notes>
+    <gav regex="true">io\.kubernetes:.*</gav>
+    <cve>CVE-2020-8554</cve>
+  </suppress>
+  <suppress>
+    <notes>avro doesn't contain CVE-2019-17195</notes>
+    <gav regex="true">org\.apache\.avro:.*</gav>
+    <cve>CVE-2019-17195</cve>
+  </suppress>
+  <suppress>
+    <notes>CVE-2021-43045 affects only .NET distro, see https://github.com/apache/avro/pull/1357</notes>
+    <gav regex="true">org\.apache\.avro:.*</gav>
+    <cve>CVE-2021-43045</cve>
+  </suppress>
+  <suppress base="true">
+    <notes><![CDATA[
+        FP per #3889
+        ]]></notes>
+    <packageUrl regex="true">^pkg:maven/io\.netty/netty\-tcnative\-classes@.*$</packageUrl>
+    <cpe>cpe:/a:netty:netty</cpe>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: netty-tcnative-boringssl-static-2.0.56.Final-osx-aarch_64.jar
+   ]]></notes>
+    <packageUrl regex="true">^pkg:maven/io\.netty/netty\-tcnative\-boringssl\-static@.*$</packageUrl>
+    <cpe>cpe:/a:chromium_project:chromium</cpe>
+  </suppress>
+  <suppress>
+<!--    Zookkeeper false positive about Jetty and commons-io-->
+<!--    https://github.com/apache/zookeeper/pull/1824-->
+    <notes><![CDATA[
+   file name: zookeeper-3.8.0.jar
+   ]]></notes>
+    <sha1>e395c1d8a71557b7569cc6a83487b2e30e2e58fe</sha1>
+    <cve>CVE-2021-28164</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-3.8.0.jar
+   ]]></notes>
+    <sha1>e395c1d8a71557b7569cc6a83487b2e30e2e58fe</sha1>
+    <cve>CVE-2021-29425</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-3.8.0.jar
+   ]]></notes>
+    <sha1>e395c1d8a71557b7569cc6a83487b2e30e2e58fe</sha1>
+    <cve>CVE-2021-34429</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-prometheus-metrics-3.8.0.jar
+   ]]></notes>
+    <sha1>849e8ece2845cb0185d721233906d487a7f1e4cf</sha1>
+    <cve>CVE-2021-28164</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-prometheus-metrics-3.8.0.jar
+   ]]></notes>
+    <sha1>849e8ece2845cb0185d721233906d487a7f1e4cf</sha1>
+    <cve>CVE-2021-29425</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-prometheus-metrics-3.8.0.jar
+   ]]></notes>
+    <sha1>849e8ece2845cb0185d721233906d487a7f1e4cf</sha1>
+    <cve>CVE-2021-34429</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-jute-3.8.0.jar
+   ]]></notes>
+    <sha1>6560f966bcf1aa78d27bcfa75fb6c4463a72c6c5</sha1>
+    <cve>CVE-2021-28164</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-jute-3.8.0.jar
+   ]]></notes>
+    <sha1>6560f966bcf1aa78d27bcfa75fb6c4463a72c6c5</sha1>
+    <cve>CVE-2021-29425</cve>
+  </suppress>
+  <suppress>
+    <notes><![CDATA[
+   file name: zookeeper-jute-3.8.0.jar
+   ]]></notes>
+    <sha1>6560f966bcf1aa78d27bcfa75fb6c4463a72c6c5</sha1>
+    <cve>CVE-2021-34429</cve>
+  </suppress>
+
+  <!-- CVE-2021-23214 is about PostGre server -->
+  <suppress>
+    <notes><![CDATA[
+   file name: debezium-connector-postgres-1.7.2.Final.jar
+   ]]></notes>
+    <sha1>69c1edfa7d89531af511fcd07e8516fa450f746a</sha1>
+    <cve>CVE-2021-23214</cve>
+  </suppress>
+
+
+<!--  MariaDB client is being confused with MariaDB server-->
+  <suppress>
+    <notes><![CDATA[
+   file name: mariadb-java-client-2.7.5.jar
+   ]]></notes>
+    <sha1>9dd29797ecabe7d2e7fa892ec6713a5552cfcc59</sha1>
+    <cve>CVE-2022-27376</cve>
+    <cve>CVE-2022-27377</cve>
+    <cve>CVE-2022-27378</cve>
+    <cve>CVE-2022-27379</cve>
+    <cve>CVE-2022-27380</cve>
+    <cve>CVE-2022-27381</cve>
+    <cve>CVE-2022-27382</cve>
+    <cve>CVE-2022-27383</cve>
+    <cve>CVE-2022-27384</cve>
+    <cve>CVE-2022-27385</cve>
+    <cve>CVE-2022-27386</cve>
+    <cve>CVE-2022-27387</cve>
+  </suppress>
+
+  <!-- google-http-client-gson getting confused with gson-->
+  <suppress>
+    <notes><![CDATA[
+   file name: google-http-client-gson-1.41.0.jar
+   ]]></notes>
+    <sha1>1a754a5dd672218a2ac667d7ff2b28df7a5a240e</sha1>
+    <cve>CVE-2022-25647</cve>
+  </suppress>
+
+  <suppress>
+    <notes>commons-net is not used at all and therefore commons-net vulnerability CVE-2021-37533 is a false positive.</notes>
+    <cve>CVE-2021-37533</cve>
+  </suppress>
+
+  <suppress>
+    <notes>fredsmith utils library is not used at all. CVE-2021-4277 is a false positive.</notes>
+    <cve>CVE-2021-4277</cve>
+  </suppress>
+
+  <suppress>
+    <notes>It treat pulsar-io-kafka-connect-adaptor as a lib of Kafka, CVE-2021-25194 is a false positive.</notes>
+    <cve>CVE-2023-25194</cve>
+  </suppress>
+
+  <suppress>
+    <notes>It treat pulsar-io-kafka-connect-adaptor as a lib of Kafka, CVE-2021-34917 is a false positive.</notes>
+    <cve>CVE-2022-34917</cve>
+  </suppress>
+
+  <suppress>
+    <notes>yaml_project is not used at all. Any CVEs reported for yaml_project are false positives.</notes>
+    <cpe>cpe:/a:yaml_project:yaml</cpe>
+  </suppress>
+
+  <suppress>
+    <notes>flat_project is not used at all.</notes>
+    <cpe>cpe:/a:flat_project:flat</cpe>
+  </suppress>
+
+  <suppress>
+    <notes><![CDATA[
+   CVE-2023-36479 has been addressed in jetty-servlets-9.4.53.v20231009.jar and newer
+   ]]></notes>
+    <packageUrl regex="true">^pkg:maven/org\.eclipse\.jetty/jetty\-servlets@.*$</packageUrl>
+    <cve>CVE-2023-36479</cve>
+  </suppress>
 </suppressions>
\ No newline at end of file
diff --git a/src/owasp-dependency-check-suppressions.xml b/src/owasp-dependency-check-suppressions.xml
index f302c251f9..22b13ef7d4 100644
--- a/src/owasp-dependency-check-suppressions.xml
+++ b/src/owasp-dependency-check-suppressions.xml
@@ -1,424 +1,424 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!--
-
-    Licensed to the Apache Software Foundation (ASF) under one
-    or more contributor license agreements.  See the NOTICE file
-    distributed with this work for additional information
-    regarding copyright ownership.  The ASF licenses this file
-    to you under the Apache License, Version 2.0 (the
-    "License"); you may not use this file except in compliance
-    with the License.  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-    Unless required by applicable law or agreed to in writing,
-    software distributed under the License is distributed on an
-    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-    KIND, either express or implied.  See the License for the
-    specific language governing permissions and limitations
-    under the License.
-
--->
-<suppressions xmlns="https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd">
-    <!-- add supressions for known vulnerabilities detected by OWASP Dependency Check -->
-    <suppress>
-        <notes>Ignore netty CVEs in GRPC shaded Netty.</notes>
-        <filePath regex="true">.*grpc-netty-shaded.*</filePath>
-        <cpe>cpe:/a:netty:netty</cpe>
-    </suppress>
-    <suppress>
-        <notes>Suppress libthrift-0.12.0.jar vulnerabilities</notes>
-        <gav>org.apache.thrift:libthrift:0.12.0</gav>
-        <vulnerabilityName regex="true">.*</vulnerabilityName>
-    </suppress>
-
-    <!-- influxdb dependencies -->
-    <suppress>
-        <notes><![CDATA[
-       file name: msgpack-core-0.9.0.jar
-       ]]></notes>
-        <sha1>87d9ce0b22de48428fa32bb8ad476e18b6969548</sha1>
-        <cve>CVE-2022-41719</cve>
-    </suppress>
-
-    <!-- see https://github.com/apache/pulsar/pull/16110 -->
-    <suppress>
-        <notes><![CDATA[
-    file name: elasticsearch-java-8.1.0.jar
-    CVE-2022-23712 is only related to Elastic server.
-    ]]></notes>
-        <sha1>edf5be04cbc2eafc51540ba33f9536e788b9d60b</sha1>
-        <cve>CVE-2022-23712</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: elasticsearch-rest-client-8.1.0.jar
-    CVE-2022-23712 is only related to Elastic server.
-    ]]></notes>
-        <sha1>10e7aa09f10955a074c0a574cb699344d2745df1</sha1>
-        <cve>CVE-2022-23712</cve>
-    </suppress>
-
-    <!-- see https://github.com/apache/pulsar/pull/14629 -->
-    <suppress>
-        <notes><![CDATA[
-   file name: kotlin-stdlib-common-1.4.32.jar
-   ]]></notes>
-        <sha1>ef50bfa2c0491a11dcc35d9822edbfd6170e1ea2</sha1>
-        <cpe>cpe:/a:jetbrains:kotlin</cpe>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-   file name: kotlin-stdlib-jdk7-1.4.32.jar
-   ]]></notes>
-        <sha1>3546900a3ebff0c43f31190baf87a9220e37b7ea</sha1>
-        <cve>CVE-2022-24329</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-   file name: kotlin-stdlib-jdk8-1.4.32.jar
-   ]]></notes>
-        <sha1>3302f9ec8a5c1ed220781dbd37770072549bd333</sha1>
-        <cve>CVE-2022-24329</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-   file name: kotlin-stdlib-1.4.32.jar
-   ]]></notes>
-        <sha1>461367948840adbb0839c51d91ed74ef4a9ccb52</sha1>
-        <cve>CVE-2022-24329</cve>
-    </suppress>
-
-    <!-- see https://github.com/alibaba/canal/issues/4010 -->
-    <suppress>
-        <notes><![CDATA[
-       file name: canal.client-1.1.5.jar (shaded: com.google.guava:guava:22.0)
-       ]]></notes>
-        <sha1>b87878db57d5cfc2ca7d3972cc8f7486bf02fbca</sha1>
-        <cve>CVE-2018-10237</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: canal.client-1.1.5.jar (shaded: com.google.guava:guava:22.0)
-       ]]></notes>
-        <sha1>b87878db57d5cfc2ca7d3972cc8f7486bf02fbca</sha1>
-        <cve>CVE-2020-8908</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: canal.client-1.1.5.jar (shaded: com.google.guava:guava:32.1.1)
-    CVE cannot take effect.
-    Already covered by PR https://github.com/apache/pulsar/pull/20699
-    ]]></notes>
-        <sha1>b87878db57d5cfc2ca7d3972cc8f7486bf02fbca</sha1>
-        <cve>CVE-2023-2976</cve>
-    </suppress>
-    <!-- clickhouse: security scan matches client lib to the server CVEs -->
-    <suppress>
-        <notes><![CDATA[
-    file name: avro-1.10.2.jar
-    ]]></notes>
-        <sha1>a65aaa91c1aeceb3dd4859dbb9765d1c2063f5a2</sha1>
-        <cve>CVE-2021-43045</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2018-14668</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2018-14669</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2018-14670</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2018-14671</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2018-14672</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2019-15024</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2019-16535</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2019-18657</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.3.2.jar
-    ]]></notes>
-        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
-        <cve>CVE-2021-25263</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    file name: clickhouse-jdbc-0.4.6-all.jar (shaded: com.google.guava:guava:32.1.1)
-    CVE cannot take effect.
-    Already covered by PR https://github.com/apache/pulsar/pull/20699
-    ]]></notes>
-        <sha1>d3b929509399a698915b24ff47db781d0c526760</sha1>
-        <cve>CVE-2023-2976</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-     file name: logback-core-1.1.3.jar
-     ]]></notes>
-        <sha1>e3c02049f2dbbc764681b40094ecf0dcbc99b157</sha1>
-        <cpe>cpe:/a:qos:logback</cpe>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-     file name: rocketmq-acl-4.5.2.jar
-     ]]></notes>
-        <sha1>0e2bd9c162280cd79c2ea0f67f174ee5d7b84ddd</sha1>
-        <cpe>cpe:/a:apache:rocketmq</cpe>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[Ignored since we are not vulnerable]]></notes>
-        <packageUrl regex="true">^pkg:maven/org\.springframework/spring.*$</packageUrl>
-        <cve>CVE-2016-1000027</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-     file name: logback-classic-1.1.3.jar
-     ]]></notes>
-        <sha1>d90276fff414f06cb375f2057f6778cd63c6082f</sha1>
-        <cpe>cpe:/a:qos:logback</cpe>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-     file name: logback-core-1.1.3.jar
-     ]]></notes>
-        <sha1>e3c02049f2dbbc764681b40094ecf0dcbc99b157</sha1>
-        <vulnerabilityName>CVE-2017-5929</vulnerabilityName>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-     file name: logback-classic-1.1.3.jar
-     ]]></notes>
-        <sha1>d90276fff414f06cb375f2057f6778cd63c6082f</sha1>
-        <cve>CVE-2017-5929</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-     file name: logback-classic-1.1.3.jar
-     ]]></notes>
-        <sha1>d90276fff414f06cb375f2057f6778cd63c6082f</sha1>
-        <cve>CVE-2021-42550</cve>
-    </suppress>
-
-    <suppress>
-        <notes>Ignore etdc CVEs in jetcd</notes>
-        <filePath regex="true">.*jetcd.*</filePath>
-        <cpe>cpe:/a:etcd:etcd</cpe>
-    </suppress>
-    <suppress>
-        <notes>Ignore etdc CVEs in jetcd</notes>
-        <filePath regex="true">.*jetcd.*</filePath>
-        <cpe>cpe:/a:redhat:etcd</cpe>
-    </suppress>
-    <suppress>
-        <notes>Ignore grpc CVEs in jetcd</notes>
-        <filePath regex="true">.*jetcd-grpc.*</filePath>
-        <cpe>cpe:/a:grpc:grpc</cpe>
-    </suppress>
-
-    <!-- bouncycastle misdetections -->
-    <suppress>
-        <notes><![CDATA[
-       file name: bc-fips-1.0.2.jar
-       ]]></notes>
-        <sha1>4fb5db5f03d00f6a94e43b78d097978190e4abb2</sha1>
-        <cve>CVE-2020-26939</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: bcpkix-fips-1.0.2.jar
-       ]]></notes>
-        <sha1>543bc7a08cdba0172e95e536b5f7ca61f021253d</sha1>
-        <cve>CVE-2020-15522</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: bcpkix-fips-1.0.2.jar
-       ]]></notes>
-        <sha1>543bc7a08cdba0172e95e536b5f7ca61f021253d</sha1>
-        <cve>CVE-2020-26939</cve>
-    </suppress>
-
-    <!-- jclouds/openswift misdetections -->
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-swift-2.5.0.jar
-       ]]></notes>
-        <sha1>d99d0eab2e01d69d8a326fc152427fbd759af88a</sha1>
-        <cve>CVE-2016-0738</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-swift-2.5.0.jar
-       ]]></notes>
-        <sha1>d99d0eab2e01d69d8a326fc152427fbd759af88a</sha1>
-        <cve>CVE-2017-16613</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2018-14432</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2018-20170</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2020-12689</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2020-12690</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2020-12691</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2020-12692</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: openstack-keystone-2.5.0.jar
-       ]]></notes>
-        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
-        <cve>CVE-2021-3563</cve>
-    </suppress>
-
-    <!-- Solr misdetection.
-    Cannot be tied to a sha1,
-    mismatches org.apache.pulsar:pulsar-io-solr:2.10.0-SNAPSHOT
-    -->
-    <suppress>
-        <notes><![CDATA[
-       file name: org.apache.pulsar:pulsar-io-solr:2.10.0-SNAPSHOT
-       ]]></notes>
-        <packageUrl regex="true">^pkg:maven/org\.apache\.pulsar/pulsar\-io\-solr@.*-SNAPSHOT$</packageUrl>
-        <cpe>cpe:/a:apache:pulsar</cpe>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: org.apache.pulsar:pulsar-io-solr:2.10.0-SNAPSHOT
-       ]]></notes>
-        <packageUrl regex="true">^pkg:maven/org\.apache\.pulsar/pulsar\-io\-solr@.*-SNAPSHOT$</packageUrl>
-        <cpe>cpe:/a:apache:solr</cpe>
-    </suppress>
-
-    <suppress>
-        <notes><![CDATA[
-       file name: protostream-types-4.4.1.Final.jar
-       ]]></notes>
-        <sha1>29b45ebea1e4ce62ab3ec5eb76fa9771f98941b0</sha1>
-        <cve>CVE-2016-0750</cve>
-        <cve>CVE-2017-15089</cve>
-        <cve>CVE-2017-2638</cve>
-        <cve>CVE-2019-10158</cve>
-        <cve>CVE-2019-10174</cve>
-        <cve>CVE-2020-25711</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       file name: mariadb-java-client-2.7.5.jar
-       ]]></notes>
-        <sha1>9dd29797ecabe7d2e7fa892ec6713a5552cfcc59</sha1>
-        <cve>CVE-2020-28912</cve>
-        <cve>CVE-2021-46669</cve>
-        <cve>CVE-2021-46666</cve>
-        <cve>CVE-2021-46667</cve>
-    </suppress>
-    <!-- only affects the server -->
-    <suppress>
-        <notes><![CDATA[
-       file name: cassandra-driver-core-3.11.2.jar
-       ]]></notes>
-        <sha1>e0aad9f8611e710b9a0ce49747f7465ce07d8404</sha1>
-        <cve>CVE-2020-17516</cve>
-        <cve>CVE-2021-44521</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       The vulnerable method is deprecated in Guava, but isn't removed. It's necessary to suppress this CVE.
-       See https://github.com/google/guava/issues/4011
-       ]]></notes>
-        <cve>CVE-2020-8908</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-       This is a false positive in jackson-databind.
-       See https://github.com/FasterXML/jackson-databind/issues/3972#issuecomment-1596604021
-       ]]></notes>
-        <cve>CVE-2023-35116</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-   This is a false positive in avro-protobuf. The vulnerability is in Hamba avro golang library.
-   ]]></notes>
-        <cve>CVE-2023-37475</cve>
-    </suppress>
-    <suppress>
-        <notes><![CDATA[
-    This CVE can be suppressed since it is covered in Pulsar by hostname verification changes made in https://github.com/apache/pulsar/pull/15824.
-   ]]></notes>
-        <cve>CVE-2023-4586</cve>
-    </suppress>
-</suppressions>
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+
+    Licensed to the Apache Software Foundation (ASF) under one
+    or more contributor license agreements.  See the NOTICE file
+    distributed with this work for additional information
+    regarding copyright ownership.  The ASF licenses this file
+    to you under the Apache License, Version 2.0 (the
+    "License"); you may not use this file except in compliance
+    with the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing,
+    software distributed under the License is distributed on an
+    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+    KIND, either express or implied.  See the License for the
+    specific language governing permissions and limitations
+    under the License.
+
+-->
+<suppressions xmlns="https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd">
+    <!-- add supressions for known vulnerabilities detected by OWASP Dependency Check -->
+    <suppress>
+        <notes>Ignore netty CVEs in GRPC shaded Netty.</notes>
+        <filePath regex="true">.*grpc-netty-shaded.*</filePath>
+        <cpe>cpe:/a:netty:netty</cpe>
+    </suppress>
+    <suppress>
+        <notes>Suppress libthrift-0.12.0.jar vulnerabilities</notes>
+        <gav>org.apache.thrift:libthrift:0.12.0</gav>
+        <vulnerabilityName regex="true">.*</vulnerabilityName>
+    </suppress>
+
+    <!-- influxdb dependencies -->
+    <suppress>
+        <notes><![CDATA[
+       file name: msgpack-core-0.9.0.jar
+       ]]></notes>
+        <sha1>87d9ce0b22de48428fa32bb8ad476e18b6969548</sha1>
+        <cve>CVE-2022-41719</cve>
+    </suppress>
+
+    <!-- see https://github.com/apache/pulsar/pull/16110 -->
+    <suppress>
+        <notes><![CDATA[
+    file name: elasticsearch-java-8.1.0.jar
+    CVE-2022-23712 is only related to Elastic server.
+    ]]></notes>
+        <sha1>edf5be04cbc2eafc51540ba33f9536e788b9d60b</sha1>
+        <cve>CVE-2022-23712</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: elasticsearch-rest-client-8.1.0.jar
+    CVE-2022-23712 is only related to Elastic server.
+    ]]></notes>
+        <sha1>10e7aa09f10955a074c0a574cb699344d2745df1</sha1>
+        <cve>CVE-2022-23712</cve>
+    </suppress>
+
+    <!-- see https://github.com/apache/pulsar/pull/14629 -->
+    <suppress>
+        <notes><![CDATA[
+   file name: kotlin-stdlib-common-1.4.32.jar
+   ]]></notes>
+        <sha1>ef50bfa2c0491a11dcc35d9822edbfd6170e1ea2</sha1>
+        <cpe>cpe:/a:jetbrains:kotlin</cpe>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+   file name: kotlin-stdlib-jdk7-1.4.32.jar
+   ]]></notes>
+        <sha1>3546900a3ebff0c43f31190baf87a9220e37b7ea</sha1>
+        <cve>CVE-2022-24329</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+   file name: kotlin-stdlib-jdk8-1.4.32.jar
+   ]]></notes>
+        <sha1>3302f9ec8a5c1ed220781dbd37770072549bd333</sha1>
+        <cve>CVE-2022-24329</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+   file name: kotlin-stdlib-1.4.32.jar
+   ]]></notes>
+        <sha1>461367948840adbb0839c51d91ed74ef4a9ccb52</sha1>
+        <cve>CVE-2022-24329</cve>
+    </suppress>
+
+    <!-- see https://github.com/alibaba/canal/issues/4010 -->
+    <suppress>
+        <notes><![CDATA[
+       file name: canal.client-1.1.5.jar (shaded: com.google.guava:guava:22.0)
+       ]]></notes>
+        <sha1>b87878db57d5cfc2ca7d3972cc8f7486bf02fbca</sha1>
+        <cve>CVE-2018-10237</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: canal.client-1.1.5.jar (shaded: com.google.guava:guava:22.0)
+       ]]></notes>
+        <sha1>b87878db57d5cfc2ca7d3972cc8f7486bf02fbca</sha1>
+        <cve>CVE-2020-8908</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: canal.client-1.1.5.jar (shaded: com.google.guava:guava:32.1.1)
+    CVE cannot take effect.
+    Already covered by PR https://github.com/apache/pulsar/pull/20699
+    ]]></notes>
+        <sha1>b87878db57d5cfc2ca7d3972cc8f7486bf02fbca</sha1>
+        <cve>CVE-2023-2976</cve>
+    </suppress>
+    <!-- clickhouse: security scan matches client lib to the server CVEs -->
+    <suppress>
+        <notes><![CDATA[
+    file name: avro-1.10.2.jar
+    ]]></notes>
+        <sha1>a65aaa91c1aeceb3dd4859dbb9765d1c2063f5a2</sha1>
+        <cve>CVE-2021-43045</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2018-14668</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2018-14669</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2018-14670</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2018-14671</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2018-14672</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2019-15024</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2019-16535</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2019-18657</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.3.2.jar
+    ]]></notes>
+        <sha1>fa9a1ccda7d78edb51a3a33d3493566092786a30</sha1>
+        <cve>CVE-2021-25263</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    file name: clickhouse-jdbc-0.4.6-all.jar (shaded: com.google.guava:guava:32.1.1)
+    CVE cannot take effect.
+    Already covered by PR https://github.com/apache/pulsar/pull/20699
+    ]]></notes>
+        <sha1>d3b929509399a698915b24ff47db781d0c526760</sha1>
+        <cve>CVE-2023-2976</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+     file name: logback-core-1.1.3.jar
+     ]]></notes>
+        <sha1>e3c02049f2dbbc764681b40094ecf0dcbc99b157</sha1>
+        <cpe>cpe:/a:qos:logback</cpe>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+     file name: rocketmq-acl-4.5.2.jar
+     ]]></notes>
+        <sha1>0e2bd9c162280cd79c2ea0f67f174ee5d7b84ddd</sha1>
+        <cpe>cpe:/a:apache:rocketmq</cpe>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[Ignored since we are not vulnerable]]></notes>
+        <packageUrl regex="true">^pkg:maven/org\.springframework/spring.*$</packageUrl>
+        <cve>CVE-2016-1000027</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+     file name: logback-classic-1.1.3.jar
+     ]]></notes>
+        <sha1>d90276fff414f06cb375f2057f6778cd63c6082f</sha1>
+        <cpe>cpe:/a:qos:logback</cpe>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+     file name: logback-core-1.1.3.jar
+     ]]></notes>
+        <sha1>e3c02049f2dbbc764681b40094ecf0dcbc99b157</sha1>
+        <vulnerabilityName>CVE-2017-5929</vulnerabilityName>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+     file name: logback-classic-1.1.3.jar
+     ]]></notes>
+        <sha1>d90276fff414f06cb375f2057f6778cd63c6082f</sha1>
+        <cve>CVE-2017-5929</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+     file name: logback-classic-1.1.3.jar
+     ]]></notes>
+        <sha1>d90276fff414f06cb375f2057f6778cd63c6082f</sha1>
+        <cve>CVE-2021-42550</cve>
+    </suppress>
+
+    <suppress>
+        <notes>Ignore etdc CVEs in jetcd</notes>
+        <filePath regex="true">.*jetcd.*</filePath>
+        <cpe>cpe:/a:etcd:etcd</cpe>
+    </suppress>
+    <suppress>
+        <notes>Ignore etdc CVEs in jetcd</notes>
+        <filePath regex="true">.*jetcd.*</filePath>
+        <cpe>cpe:/a:redhat:etcd</cpe>
+    </suppress>
+    <suppress>
+        <notes>Ignore grpc CVEs in jetcd</notes>
+        <filePath regex="true">.*jetcd-grpc.*</filePath>
+        <cpe>cpe:/a:grpc:grpc</cpe>
+    </suppress>
+
+    <!-- bouncycastle misdetections -->
+    <suppress>
+        <notes><![CDATA[
+       file name: bc-fips-1.0.2.jar
+       ]]></notes>
+        <sha1>4fb5db5f03d00f6a94e43b78d097978190e4abb2</sha1>
+        <cve>CVE-2020-26939</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: bcpkix-fips-1.0.2.jar
+       ]]></notes>
+        <sha1>543bc7a08cdba0172e95e536b5f7ca61f021253d</sha1>
+        <cve>CVE-2020-15522</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: bcpkix-fips-1.0.2.jar
+       ]]></notes>
+        <sha1>543bc7a08cdba0172e95e536b5f7ca61f021253d</sha1>
+        <cve>CVE-2020-26939</cve>
+    </suppress>
+
+    <!-- jclouds/openswift misdetections -->
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-swift-2.5.0.jar
+       ]]></notes>
+        <sha1>d99d0eab2e01d69d8a326fc152427fbd759af88a</sha1>
+        <cve>CVE-2016-0738</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-swift-2.5.0.jar
+       ]]></notes>
+        <sha1>d99d0eab2e01d69d8a326fc152427fbd759af88a</sha1>
+        <cve>CVE-2017-16613</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2018-14432</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2018-20170</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2020-12689</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2020-12690</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2020-12691</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2020-12692</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: openstack-keystone-2.5.0.jar
+       ]]></notes>
+        <sha1>a7e89bd278fa8be9fa604dda66d1606de5530797</sha1>
+        <cve>CVE-2021-3563</cve>
+    </suppress>
+
+    <!-- Solr misdetection.
+    Cannot be tied to a sha1,
+    mismatches org.apache.pulsar:pulsar-io-solr:2.10.0-SNAPSHOT
+    -->
+    <suppress>
+        <notes><![CDATA[
+       file name: org.apache.pulsar:pulsar-io-solr:2.10.0-SNAPSHOT
+       ]]></notes>
+        <packageUrl regex="true">^pkg:maven/org\.apache\.pulsar/pulsar\-io\-solr@.*-SNAPSHOT$</packageUrl>
+        <cpe>cpe:/a:apache:pulsar</cpe>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: org.apache.pulsar:pulsar-io-solr:2.10.0-SNAPSHOT
+       ]]></notes>
+        <packageUrl regex="true">^pkg:maven/org\.apache\.pulsar/pulsar\-io\-solr@.*-SNAPSHOT$</packageUrl>
+        <cpe>cpe:/a:apache:solr</cpe>
+    </suppress>
+
+    <suppress>
+        <notes><![CDATA[
+       file name: protostream-types-4.4.1.Final.jar
+       ]]></notes>
+        <sha1>29b45ebea1e4ce62ab3ec5eb76fa9771f98941b0</sha1>
+        <cve>CVE-2016-0750</cve>
+        <cve>CVE-2017-15089</cve>
+        <cve>CVE-2017-2638</cve>
+        <cve>CVE-2019-10158</cve>
+        <cve>CVE-2019-10174</cve>
+        <cve>CVE-2020-25711</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       file name: mariadb-java-client-2.7.5.jar
+       ]]></notes>
+        <sha1>9dd29797ecabe7d2e7fa892ec6713a5552cfcc59</sha1>
+        <cve>CVE-2020-28912</cve>
+        <cve>CVE-2021-46669</cve>
+        <cve>CVE-2021-46666</cve>
+        <cve>CVE-2021-46667</cve>
+    </suppress>
+    <!-- only affects the server -->
+    <suppress>
+        <notes><![CDATA[
+       file name: cassandra-driver-core-3.11.2.jar
+       ]]></notes>
+        <sha1>e0aad9f8611e710b9a0ce49747f7465ce07d8404</sha1>
+        <cve>CVE-2020-17516</cve>
+        <cve>CVE-2021-44521</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       The vulnerable method is deprecated in Guava, but isn't removed. It's necessary to suppress this CVE.
+       See https://github.com/google/guava/issues/4011
+       ]]></notes>
+        <cve>CVE-2020-8908</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+       This is a false positive in jackson-databind.
+       See https://github.com/FasterXML/jackson-databind/issues/3972#issuecomment-1596604021
+       ]]></notes>
+        <cve>CVE-2023-35116</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+   This is a false positive in avro-protobuf. The vulnerability is in Hamba avro golang library.
+   ]]></notes>
+        <cve>CVE-2023-37475</cve>
+    </suppress>
+    <suppress>
+        <notes><![CDATA[
+    This CVE can be suppressed since it is covered in Pulsar by hostname verification changes made in https://github.com/apache/pulsar/pull/15824.
+   ]]></notes>
+        <cve>CVE-2023-4586</cve>
+    </suppress>
+</suppressions>
diff --git a/src/pulsar-io-gen.sh b/src/pulsar-io-gen.sh
index aba1da0d6f..9d33c0f9ba 100755
--- a/src/pulsar-io-gen.sh
+++ b/src/pulsar-io-gen.sh
@@ -1,149 +1,149 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-BINDIR=$(dirname "$0")
-PULSAR_HOME=`cd $BINDIR/..;pwd`
-
-DEFAULT_LOG_CONF=$PULSAR_HOME/conf/log4j2.yaml
-
-# Check bookkeeper env and load bkenv.sh
-if [ -f "$PULSAR_HOME/conf/bkenv.sh" ]
-then
-    . "$PULSAR_HOME/conf/bkenv.sh"
-fi
-
-if [ -f "$PULSAR_HOME/conf/pulsar_env.sh" ]
-then
-    . "$PULSAR_HOME/conf/pulsar_env.sh"
-fi
-
-# Check for the java to use
-if [[ -z $JAVA_HOME ]]; then
-    JAVA=$(which java)
-    if [ $? != 0 ]; then
-        echo "Error: JAVA_HOME not set, and no java executable found in $PATH." 1>&2
-        exit 1
-    fi
-else
-    JAVA=$JAVA_HOME/bin/java
-fi
-
-# exclude tests jar
-RELEASE_JAR=`ls $PULSAR_HOME/pulsar-*.jar 2> /dev/null | grep -v tests | tail -1`
-if [ $? == 0 ]; then
-    PULSAR_JAR=$RELEASE_JAR
-fi
-
-# exclude tests jar
-BUILT_JAR=`ls $PULSAR_HOME/pulsar-io/docs/target/pulsar-*.jar 2> /dev/null | grep -v tests | tail -1`
-if [ $? != 0 ] && [ ! -e "$PULSAR_JAR" ]; then
-    echo "\nCouldn't find pulsar jar.";
-    echo "Make sure you've run 'mvn package'\n";
-    exit 1;
-elif [ -e "$BUILT_JAR" ]; then
-    PULSAR_JAR=$BUILT_JAR
-fi
-
-add_maven_deps_to_classpath() {
-    MVN="mvn"
-    if [ "$MAVEN_HOME" != "" ]; then
-	MVN=${MAVEN_HOME}/bin/mvn
-    fi
-
-    # Need to generate classpath from maven pom. This is costly so generate it
-    # and cache it. Save the file into our target dir so a mvn clean will get
-    # clean it up and force us create a new one.
-    f="${PULSAR_HOME}/pulsar-io/docs/target/classpath.txt"
-    if [ ! -f "${f}" ]
-    then
-	${MVN} -f "${PULSAR_HOME}/pulsar-io/docs/pom.xml" dependency:build-classpath -Dmdep.outputFile="${f}" &> /dev/null
-    fi
-    PULSAR_CLASSPATH=${CLASSPATH}:`cat "${f}"`
-}
-pulsar_help() {
-    cat <<EOF
-Usage: pulsar <command>
-where command is one of:
-    conf                    Generate sample yaml files
-
-    help                           This help message
-
-or command is the full name of a class with a defined main() method.
-
-Environment variables:
-   PULSAR_LOG_CONF               Log4j configuration file (default $DEFAULT_LOG_CONF)
-   PULSAR_EXTRA_OPTS             Extra options to be passed to the jvm
-   PULSAR_EXTRA_CLASSPATH        Add extra paths to the pulsar classpath
-
-These variable can also be set in conf/pulsar_env.sh
-EOF
-}
-
-if [ -d "$PULSAR_HOME/lib" ]; then
-	PULSAR_CLASSPATH="$PULSAR_CLASSPATH:$PULSAR_HOME/lib/*"
-else
-    add_maven_deps_to_classpath
-fi
-
-if [ -z "$PULSAR_LOG_CONF" ]; then
-    PULSAR_LOG_CONF=$DEFAULT_LOG_CONF
-fi
-
-PULSAR_CLASSPATH="$PULSAR_JAR:$PULSAR_HOME/pulsar-io/docs/target/pulsar-io-docs.jar:$PULSAR_CLASSPATH:$PULSAR_EXTRA_CLASSPATH"
-PULSAR_CLASSPATH="`dirname $PULSAR_LOG_CONF`:$PULSAR_CLASSPATH"
-OPTS="-Djava.net.preferIPv4Stack=true $OPTS -Dlog4j.configurationFile=`basename $PULSAR_LOG_CONF`"
-# Required to allow sun.misc.Unsafe on JDK 24 without warnings
-# Also required for enabling unsafe memory access for Netty since 4.1.121.Final
-if [[ $JAVA_MAJOR_VERSION -ge 23 ]]; then
-  OPTS="--sun-misc-unsafe-memory-access=allow $OPTS"
-fi
-
-OPTS="-cp $PULSAR_CLASSPATH $OPTS"
-OPTS="$OPTS $PULSAR_EXTRA_OPTS"
-
-# log directory & file
-PULSAR_LOG_APPENDER=${PULSAR_LOG_APPENDER:-"Console"}
-PULSAR_LOG_DIR=${PULSAR_LOG_DIR:-"$PULSAR_HOME/logs"}
-PULSAR_LOG_FILE=${PULSAR_LOG_FILE:-"pulsar-perftest.log"}
-
-#Configure log configuration system properties
-OPTS="$OPTS -Dpulsar.log.appender=$PULSAR_LOG_APPENDER"
-OPTS="$OPTS -Dpulsar.log.dir=$PULSAR_LOG_DIR"
-OPTS="$OPTS -Dpulsar.log.file=$PULSAR_LOG_FILE"
-
-#Change to PULSAR_HOME to support relative paths
-cd "$PULSAR_HOME"
-
-# if no args specified, show usage
-if [ $# = 0 ]; then
-    pulsar_help;
-    exit 1;
-fi
-
-# get arguments
-COMMAND=$1
-shift
-
-if [ "$COMMAND" == "conf" ]; then
-    echo $JAVA $OPTS org.apache.pulsar.io.docs.ConnectorDocGenerator "$@"
-    exec $JAVA $OPTS org.apache.pulsar.io.docs.ConnectorDocGenerator "$@"
-else
-    pulsar_help;
-fi
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+BINDIR=$(dirname "$0")
+PULSAR_HOME=`cd $BINDIR/..;pwd`
+
+DEFAULT_LOG_CONF=$PULSAR_HOME/conf/log4j2.yaml
+
+# Check bookkeeper env and load bkenv.sh
+if [ -f "$PULSAR_HOME/conf/bkenv.sh" ]
+then
+    . "$PULSAR_HOME/conf/bkenv.sh"
+fi
+
+if [ -f "$PULSAR_HOME/conf/pulsar_env.sh" ]
+then
+    . "$PULSAR_HOME/conf/pulsar_env.sh"
+fi
+
+# Check for the java to use
+if [[ -z $JAVA_HOME ]]; then
+    JAVA=$(which java)
+    if [ $? != 0 ]; then
+        echo "Error: JAVA_HOME not set, and no java executable found in $PATH." 1>&2
+        exit 1
+    fi
+else
+    JAVA=$JAVA_HOME/bin/java
+fi
+
+# exclude tests jar
+RELEASE_JAR=`ls $PULSAR_HOME/pulsar-*.jar 2> /dev/null | grep -v tests | tail -1`
+if [ $? == 0 ]; then
+    PULSAR_JAR=$RELEASE_JAR
+fi
+
+# exclude tests jar
+BUILT_JAR=`ls $PULSAR_HOME/pulsar-io/docs/target/pulsar-*.jar 2> /dev/null | grep -v tests | tail -1`
+if [ $? != 0 ] && [ ! -e "$PULSAR_JAR" ]; then
+    echo "\nCouldn't find pulsar jar.";
+    echo "Make sure you've run 'mvn package'\n";
+    exit 1;
+elif [ -e "$BUILT_JAR" ]; then
+    PULSAR_JAR=$BUILT_JAR
+fi
+
+add_maven_deps_to_classpath() {
+    MVN="mvn"
+    if [ "$MAVEN_HOME" != "" ]; then
+	MVN=${MAVEN_HOME}/bin/mvn
+    fi
+
+    # Need to generate classpath from maven pom. This is costly so generate it
+    # and cache it. Save the file into our target dir so a mvn clean will get
+    # clean it up and force us create a new one.
+    f="${PULSAR_HOME}/pulsar-io/docs/target/classpath.txt"
+    if [ ! -f "${f}" ]
+    then
+	${MVN} -f "${PULSAR_HOME}/pulsar-io/docs/pom.xml" dependency:build-classpath -Dmdep.outputFile="${f}" &> /dev/null
+    fi
+    PULSAR_CLASSPATH=${CLASSPATH}:`cat "${f}"`
+}
+pulsar_help() {
+    cat <<EOF
+Usage: pulsar <command>
+where command is one of:
+    conf                    Generate sample yaml files
+
+    help                           This help message
+
+or command is the full name of a class with a defined main() method.
+
+Environment variables:
+   PULSAR_LOG_CONF               Log4j configuration file (default $DEFAULT_LOG_CONF)
+   PULSAR_EXTRA_OPTS             Extra options to be passed to the jvm
+   PULSAR_EXTRA_CLASSPATH        Add extra paths to the pulsar classpath
+
+These variable can also be set in conf/pulsar_env.sh
+EOF
+}
+
+if [ -d "$PULSAR_HOME/lib" ]; then
+	PULSAR_CLASSPATH="$PULSAR_CLASSPATH:$PULSAR_HOME/lib/*"
+else
+    add_maven_deps_to_classpath
+fi
+
+if [ -z "$PULSAR_LOG_CONF" ]; then
+    PULSAR_LOG_CONF=$DEFAULT_LOG_CONF
+fi
+
+PULSAR_CLASSPATH="$PULSAR_JAR:$PULSAR_HOME/pulsar-io/docs/target/pulsar-io-docs.jar:$PULSAR_CLASSPATH:$PULSAR_EXTRA_CLASSPATH"
+PULSAR_CLASSPATH="`dirname $PULSAR_LOG_CONF`:$PULSAR_CLASSPATH"
+OPTS="-Djava.net.preferIPv4Stack=true $OPTS -Dlog4j.configurationFile=`basename $PULSAR_LOG_CONF`"
+# Required to allow sun.misc.Unsafe on JDK 24 without warnings
+# Also required for enabling unsafe memory access for Netty since 4.1.121.Final
+if [[ $JAVA_MAJOR_VERSION -ge 23 ]]; then
+  OPTS="--sun-misc-unsafe-memory-access=allow $OPTS"
+fi
+
+OPTS="-cp $PULSAR_CLASSPATH $OPTS"
+OPTS="$OPTS $PULSAR_EXTRA_OPTS"
+
+# log directory & file
+PULSAR_LOG_APPENDER=${PULSAR_LOG_APPENDER:-"Console"}
+PULSAR_LOG_DIR=${PULSAR_LOG_DIR:-"$PULSAR_HOME/logs"}
+PULSAR_LOG_FILE=${PULSAR_LOG_FILE:-"pulsar-perftest.log"}
+
+#Configure log configuration system properties
+OPTS="$OPTS -Dpulsar.log.appender=$PULSAR_LOG_APPENDER"
+OPTS="$OPTS -Dpulsar.log.dir=$PULSAR_LOG_DIR"
+OPTS="$OPTS -Dpulsar.log.file=$PULSAR_LOG_FILE"
+
+#Change to PULSAR_HOME to support relative paths
+cd "$PULSAR_HOME"
+
+# if no args specified, show usage
+if [ $# = 0 ]; then
+    pulsar_help;
+    exit 1;
+fi
+
+# get arguments
+COMMAND=$1
+shift
+
+if [ "$COMMAND" == "conf" ]; then
+    echo $JAVA $OPTS org.apache.pulsar.io.docs.ConnectorDocGenerator "$@"
+    exec $JAVA $OPTS org.apache.pulsar.io.docs.ConnectorDocGenerator "$@"
+else
+    pulsar_help;
+fi
diff --git a/src/set-project-version.sh b/src/set-project-version.sh
index 015b7f14cd..100e341512 100755
--- a/src/set-project-version.sh
+++ b/src/set-project-version.sh
@@ -1,45 +1,45 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-set -e
-
-if [ $# -eq 0 ]; then
-    echo "Required argument with new project version"
-    exit 1
-fi
-
-NEW_VERSION=$1
-
-# Go to top level project directory
-SRC_DIR=$(dirname "$0")
-ROOT_DIR=`cd ${SRC_DIR}/..; pwd`
-TERRAFORM_DIR=${ROOT_DIR}/deployment/terraform-ansible
-pushd ${ROOT_DIR}
-
-# Get the current version
-OLD_VERSION=`python3 ${ROOT_DIR}/src/get-project-version.py`
-
-mvn versions:set -DnewVersion=$NEW_VERSION -DgenerateBackupPoms=false
-mvn versions:set -DnewVersion=$NEW_VERSION -DgenerateBackupPoms=false -pl buildtools
-mvn versions:set -DnewVersion=$NEW_VERSION -DgenerateBackupPoms=false -pl pulsar-bom
-# Set terraform ansible deployment pulsar version
-sed -i -e "s/${OLD_VERSION}/${NEW_VERSION}/g" ${TERRAFORM_DIR}/deploy-pulsar.yaml
-
-popd
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+set -e
+
+if [ $# -eq 0 ]; then
+    echo "Required argument with new project version"
+    exit 1
+fi
+
+NEW_VERSION=$1
+
+# Go to top level project directory
+SRC_DIR=$(dirname "$0")
+ROOT_DIR=`cd ${SRC_DIR}/..; pwd`
+TERRAFORM_DIR=${ROOT_DIR}/deployment/terraform-ansible
+pushd ${ROOT_DIR}
+
+# Get the current version
+OLD_VERSION=`python3 ${ROOT_DIR}/src/get-project-version.py`
+
+mvn versions:set -DnewVersion=$NEW_VERSION -DgenerateBackupPoms=false
+mvn versions:set -DnewVersion=$NEW_VERSION -DgenerateBackupPoms=false -pl buildtools
+mvn versions:set -DnewVersion=$NEW_VERSION -DgenerateBackupPoms=false -pl pulsar-bom
+# Set terraform ansible deployment pulsar version
+sed -i -e "s/${OLD_VERSION}/${NEW_VERSION}/g" ${TERRAFORM_DIR}/deploy-pulsar.yaml
+
+popd
diff --git a/src/settings.xml b/src/settings.xml
index b27c935634..bdcb3d5501 100644
--- a/src/settings.xml
+++ b/src/settings.xml
@@ -1,37 +1,37 @@
-<!--
-
-    Licensed to the Apache Software Foundation (ASF) under one
-    or more contributor license agreements.  See the NOTICE file
-    distributed with this work for additional information
-    regarding copyright ownership.  The ASF licenses this file
-    to you under the Apache License, Version 2.0 (the
-    "License"); you may not use this file except in compliance
-    with the License.  You may obtain a copy of the License at
-
-      http://www.apache.org/licenses/LICENSE-2.0
-
-    Unless required by applicable law or agreed to in writing,
-    software distributed under the License is distributed on an
-    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-    KIND, either express or implied.  See the License for the
-    specific language governing permissions and limitations
-    under the License.
-
--->
-<settings>
-  <servers>
-    <!-- To publish a snapshot of some part of Maven -->
-    <server>
-      <id>apache.snapshots.https</id>
-      <username>${env.APACHE_USER}</username>
-      <password>${env.APACHE_PASSWORD}</password>
-    </server>
-
-    <!-- To stage a release of some part of Maven -->
-    <server>
-      <id>apache.releases.https</id>
-      <username>${env.APACHE_USER}</username>
-      <password>${env.APACHE_PASSWORD}</password>
-    </server>
-  </servers>
-</settings>
+<!--
+
+    Licensed to the Apache Software Foundation (ASF) under one
+    or more contributor license agreements.  See the NOTICE file
+    distributed with this work for additional information
+    regarding copyright ownership.  The ASF licenses this file
+    to you under the Apache License, Version 2.0 (the
+    "License"); you may not use this file except in compliance
+    with the License.  You may obtain a copy of the License at
+
+      http://www.apache.org/licenses/LICENSE-2.0
+
+    Unless required by applicable law or agreed to in writing,
+    software distributed under the License is distributed on an
+    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+    KIND, either express or implied.  See the License for the
+    specific language governing permissions and limitations
+    under the License.
+
+-->
+<settings>
+  <servers>
+    <!-- To publish a snapshot of some part of Maven -->
+    <server>
+      <id>apache.snapshots.https</id>
+      <username>${env.APACHE_USER}</username>
+      <password>${env.APACHE_PASSWORD}</password>
+    </server>
+
+    <!-- To stage a release of some part of Maven -->
+    <server>
+      <id>apache.releases.https</id>
+      <username>${env.APACHE_USER}</username>
+      <password>${env.APACHE_PASSWORD}</password>
+    </server>
+  </servers>
+</settings>
diff --git a/src/sign-release.sh b/src/sign-release.sh
index e827d0a966..9b2226aea1 100755
--- a/src/sign-release.sh
+++ b/src/sign-release.sh
@@ -1,32 +1,32 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-set -e
-
-FILES=$*
-
-for FILE in $FILES
-do
-   echo "Signing $FILE"
-   gpg --armor --output $FILE.asc --detach-sig $FILE
-
-   # SHA-512 signature
-   shasum -a 512 $FILE > $FILE.sha512
-done
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+set -e
+
+FILES=$*
+
+for FILE in $FILES
+do
+   echo "Signing $FILE"
+   gpg --armor --output $FILE.asc --detach-sig $FILE
+
+   # SHA-512 signature
+   shasum -a 512 $FILE > $FILE.sha512
+done
diff --git a/src/stage-release.sh b/src/stage-release.sh
index 6c715b58b1..05ec1cc233 100755
--- a/src/stage-release.sh
+++ b/src/stage-release.sh
@@ -1,49 +1,49 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-set -e -x
-
-if [ $# -eq 0 ]; then
-    echo "Required argument with destination directory"
-    exit 1
-fi
-
-DEST_PATH=$1
-DEST_PATH="$(cd "$DEST_PATH" && pwd)"
-
-pushd $(dirname "$0")
-PULSAR_PATH=$(git rev-parse --show-toplevel)
-VERSION=`./get-project-version.py`
-popd
-
-pushd "$(dirname "$0")/.."
-git archive --format=tar.gz --output="$DEST_PATH/apache-pulsar-$VERSION-src.tar.gz" --prefix="apache-pulsar-$VERSION-src/" HEAD
-popd
-
-cp $PULSAR_PATH/distribution/server/target/apache-pulsar-$VERSION-bin.tar.gz $DEST_PATH
-cp $PULSAR_PATH/distribution/offloaders/target/apache-pulsar-offloaders-$VERSION-bin.tar.gz $DEST_PATH
-cp $PULSAR_PATH/distribution/shell/target/apache-pulsar-shell-$VERSION-bin.tar.gz $DEST_PATH
-cp $PULSAR_PATH/distribution/shell/target/apache-pulsar-shell-$VERSION-bin.zip $DEST_PATH
-
-cp -r $PULSAR_PATH/distribution/io/target/apache-pulsar-io-connectors-$VERSION-bin $DEST_PATH/connectors
-
-# Sign all files
-cd $DEST_PATH
-find . -type f | grep -v LICENSE | grep -v README | xargs $PULSAR_PATH/src/sign-release.sh
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+set -e -x
+
+if [ $# -eq 0 ]; then
+    echo "Required argument with destination directory"
+    exit 1
+fi
+
+DEST_PATH=$1
+DEST_PATH="$(cd "$DEST_PATH" && pwd)"
+
+pushd $(dirname "$0")
+PULSAR_PATH=$(git rev-parse --show-toplevel)
+VERSION=`./get-project-version.py`
+popd
+
+pushd "$(dirname "$0")/.."
+git archive --format=tar.gz --output="$DEST_PATH/apache-pulsar-$VERSION-src.tar.gz" --prefix="apache-pulsar-$VERSION-src/" HEAD
+popd
+
+cp $PULSAR_PATH/distribution/server/target/apache-pulsar-$VERSION-bin.tar.gz $DEST_PATH
+cp $PULSAR_PATH/distribution/offloaders/target/apache-pulsar-offloaders-$VERSION-bin.tar.gz $DEST_PATH
+cp $PULSAR_PATH/distribution/shell/target/apache-pulsar-shell-$VERSION-bin.tar.gz $DEST_PATH
+cp $PULSAR_PATH/distribution/shell/target/apache-pulsar-shell-$VERSION-bin.zip $DEST_PATH
+
+cp -r $PULSAR_PATH/distribution/io/target/apache-pulsar-io-connectors-$VERSION-bin $DEST_PATH/connectors
+
+# Sign all files
+cd $DEST_PATH
+find . -type f | grep -v LICENSE | grep -v README | xargs $PULSAR_PATH/src/sign-release.sh
diff --git a/src/update_python_protobuf_stubs.sh b/src/update_python_protobuf_stubs.sh
index 45190c2cd2..3e1e846b51 100755
--- a/src/update_python_protobuf_stubs.sh
+++ b/src/update_python_protobuf_stubs.sh
@@ -1,84 +1,84 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-# This script generates Python gRPC and Protobuf stubs from the .proto files
-# Set the version of PYTHON_GRPCIO_VERSION to the version which matches the version of grpcio in the Dockerfile
-PYTHON_GRPCIO_VERSION=${PYTHON_GRPCIO_VERSION:-"1.73.1"}
-
-set -euo pipefail
-
-SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd)"
-
-# Create a temporary virtual environment to avoid polluting the global Python environment
-tempvenv=$(mktemp -d /tmp/pulsar-venv.XXXXXX)
-python3 -m venv $tempvenv
-source $tempvenv/bin/activate
-
-# install the required packages for protobuf and grpc
-echo "Installing grpc-tools $PYTHON_GRPCIO_VERSION..."
-python3 -m pip install grpcio-tools==$PYTHON_GRPCIO_VERSION
-
-echo "libprotoc library included in grpcio-tools will be used:"
-python3 -m grpc_tools.protoc --version
-echo "The compatible matching protobuf package version in Python is prefixed with '6.'"
-echo "Ensure that you are using a compatible version of the protobuf package such as 6.$(python3 -m grpc_tools.protoc --version | awk '{print $2}') (or a matching patch version)."
-
-cd $SCRIPT_DIR/..
-echo "Generating Python gRPC and Protobuf stubs from the .proto files..."
-
-# Generate Python gRPC and Protobuf stubs from the .proto files
-
-# Generate stubs for Function.proto and InstanceCommunication.proto, used for Pulsar Functions Python runtime
-python3 -m grpc_tools.protoc \
-    --proto_path=pulsar-functions/proto/src/main/proto \
-    --python_out=pulsar-functions/instance/src/main/python \
-    pulsar-functions/proto/src/main/proto/Function.proto
-
-# Remove the strict version checking in the generated file
-sed -i '/^_runtime_version\.ValidateProtobufRuntimeVersion($/,/^)$/d' \
-  pulsar-functions/instance/src/main/python/Function_pb2.py
-
-python3 -m grpc_tools.protoc \
-    --proto_path=pulsar-functions/proto/src/main/proto \
-    --python_out=pulsar-functions/instance/src/main/python \
-    --grpc_python_out=pulsar-functions/instance/src/main/python \
-    pulsar-functions/proto/src/main/proto/InstanceCommunication.proto
-
-# Remove the strict version checking in the generated file
-sed -i '/^_runtime_version\.ValidateProtobufRuntimeVersion($/,/^)$/d' \
-  pulsar-functions/instance/src/main/python/InstanceCommunication_pb2.py
-sed -i '/^_version_not_supported = False$/,/^    )$/d' \
-  pulsar-functions/instance/src/main/python/InstanceCommunication_pb2_grpc.py
-
-# Generate stubs for MLDataFormats.proto, used for managed-ledger python scripts
-python3 -m grpc_tools.protoc \
-    --proto_path=managed-ledger/src/main/proto \
-    --python_out=bin/proto \
-    managed-ledger/src/main/proto/MLDataFormats.proto
-
-# Remove the strict version checking in the generated file
-sed -i '/^_runtime_version\.ValidateProtobufRuntimeVersion($/,/^)$/d' \
-  bin/proto/MLDataFormats_pb2.py
-
-echo "Python gRPC and Protobuf stubs generated successfully."
-
-# Deactivate and remove the temporary virtual environment
-deactivate
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+# This script generates Python gRPC and Protobuf stubs from the .proto files
+# Set the version of PYTHON_GRPCIO_VERSION to the version which matches the version of grpcio in the Dockerfile
+PYTHON_GRPCIO_VERSION=${PYTHON_GRPCIO_VERSION:-"1.73.1"}
+
+set -euo pipefail
+
+SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd)"
+
+# Create a temporary virtual environment to avoid polluting the global Python environment
+tempvenv=$(mktemp -d /tmp/pulsar-venv.XXXXXX)
+python3 -m venv $tempvenv
+source $tempvenv/bin/activate
+
+# install the required packages for protobuf and grpc
+echo "Installing grpc-tools $PYTHON_GRPCIO_VERSION..."
+python3 -m pip install grpcio-tools==$PYTHON_GRPCIO_VERSION
+
+echo "libprotoc library included in grpcio-tools will be used:"
+python3 -m grpc_tools.protoc --version
+echo "The compatible matching protobuf package version in Python is prefixed with '6.'"
+echo "Ensure that you are using a compatible version of the protobuf package such as 6.$(python3 -m grpc_tools.protoc --version | awk '{print $2}') (or a matching patch version)."
+
+cd $SCRIPT_DIR/..
+echo "Generating Python gRPC and Protobuf stubs from the .proto files..."
+
+# Generate Python gRPC and Protobuf stubs from the .proto files
+
+# Generate stubs for Function.proto and InstanceCommunication.proto, used for Pulsar Functions Python runtime
+python3 -m grpc_tools.protoc \
+    --proto_path=pulsar-functions/proto/src/main/proto \
+    --python_out=pulsar-functions/instance/src/main/python \
+    pulsar-functions/proto/src/main/proto/Function.proto
+
+# Remove the strict version checking in the generated file
+sed -i '/^_runtime_version\.ValidateProtobufRuntimeVersion($/,/^)$/d' \
+  pulsar-functions/instance/src/main/python/Function_pb2.py
+
+python3 -m grpc_tools.protoc \
+    --proto_path=pulsar-functions/proto/src/main/proto \
+    --python_out=pulsar-functions/instance/src/main/python \
+    --grpc_python_out=pulsar-functions/instance/src/main/python \
+    pulsar-functions/proto/src/main/proto/InstanceCommunication.proto
+
+# Remove the strict version checking in the generated file
+sed -i '/^_runtime_version\.ValidateProtobufRuntimeVersion($/,/^)$/d' \
+  pulsar-functions/instance/src/main/python/InstanceCommunication_pb2.py
+sed -i '/^_version_not_supported = False$/,/^    )$/d' \
+  pulsar-functions/instance/src/main/python/InstanceCommunication_pb2_grpc.py
+
+# Generate stubs for MLDataFormats.proto, used for managed-ledger python scripts
+python3 -m grpc_tools.protoc \
+    --proto_path=managed-ledger/src/main/proto \
+    --python_out=bin/proto \
+    managed-ledger/src/main/proto/MLDataFormats.proto
+
+# Remove the strict version checking in the generated file
+sed -i '/^_runtime_version\.ValidateProtobufRuntimeVersion($/,/^)$/d' \
+  bin/proto/MLDataFormats_pb2.py
+
+echo "Python gRPC and Protobuf stubs generated successfully."
+
+# Deactivate and remove the temporary virtual environment
+deactivate
 rm -rf $tempvenv
\ No newline at end of file
diff --git a/src/update_python_protobuf_stubs_with_docker.sh b/src/update_python_protobuf_stubs_with_docker.sh
index 4e0b5568bc..28068d310c 100755
--- a/src/update_python_protobuf_stubs_with_docker.sh
+++ b/src/update_python_protobuf_stubs_with_docker.sh
@@ -1,25 +1,25 @@
-#!/usr/bin/env bash
-#
-# Licensed to the Apache Software Foundation (ASF) under one
-# or more contributor license agreements.  See the NOTICE file
-# distributed with this work for additional information
-# regarding copyright ownership.  The ASF licenses this file
-# to you under the Apache License, Version 2.0 (the
-# "License"); you may not use this file except in compliance
-# with the License.  You may obtain a copy of the License at
-#
-#   http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing,
-# software distributed under the License is distributed on an
-# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
-# KIND, either express or implied.  See the License for the
-# specific language governing permissions and limitations
-# under the License.
-#
-
-SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd)"
-
-# Create an inline docker container with alpine:3.22 base image and mount the current directory to it as the
-# working directory and run the script inside the container.
+#!/usr/bin/env bash
+#
+# Licensed to the Apache Software Foundation (ASF) under one
+# or more contributor license agreements.  See the NOTICE file
+# distributed with this work for additional information
+# regarding copyright ownership.  The ASF licenses this file
+# to you under the Apache License, Version 2.0 (the
+# "License"); you may not use this file except in compliance
+# with the License.  You may obtain a copy of the License at
+#
+#   http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing,
+# software distributed under the License is distributed on an
+# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+# KIND, either express or implied.  See the License for the
+# specific language governing permissions and limitations
+# under the License.
+#
+
+SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd)"
+
+# Create an inline docker container with alpine:3.22 base image and mount the current directory to it as the
+# working directory and run the script inside the container.
 docker run --rm -v "$SCRIPT_DIR/..:/pulsar_src" -w /pulsar_src alpine:3.22 sh -c 'apk add --no-cache bash python3 && /pulsar_src/src/update_python_protobuf_stubs.sh'
\ No newline at end of file
