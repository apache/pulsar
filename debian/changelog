apache-pulsar (4.1.2-12) unstable; urgency=medium

  * Updated debian/patches/series.
  * Reformatted DEP-3 patch headers and added diffstat sections for readability.

 -- HelgiSaga <bglegb@gmail.com>  Tue, 21 Jan 2026 13:00:00 +0300

apache-pulsar (4.1.2-11) unstable; urgency=medium

  * Split upstream vs debian diffs (excluding debian/ and docker/) into
    logical DEP-3 quilt patches with per-area descriptions.

 -- HelgiSaga <bglegb@gmail.com>  Tue, 21 Jan 2026 12:45:00 +0300

apache-pulsar (4.1.2-10) unstable; urgency=medium

  * Fixed debian/rules: added symlink resolution fix for pulsar script.
    The pulsar script now correctly resolves PULSAR_HOME when called from
    /usr/bin symlink, fixing ClassNotFoundException errors for PulsarVersionStarter
    and PulsarStandaloneStarter classes
  * Fixed debian/rules: corrected configuration files installation structure.
    Configuration files are now copied directly to /etc/apache-pulsar/ instead
    of /etc/apache-pulsar/conf/ subdirectory, ensuring proper symlink resolution
    from /usr/lib/apache-pulsar/conf to /etc/apache-pulsar
  * Fixed debian/rules: changed conf directory handling in override_dh_auto_install.
    Configuration files are now moved directly to debian/tmp/etc/apache-pulsar/
    (not in a conf subdirectory) and copied manually in override_dh_install
    before dh_install to avoid nested directory structure
  * Updated debian/install: removed configuration files from dh_install mapping.
    Files are now copied directly in override_dh_install to ensure correct
    directory structure without nested paths
  * Updated debian/not-installed: added etc/apache-pulsar/** pattern to indicate
    that configuration files are installed manually in override_dh_install,
    preventing dh_missing errors during package build
  * Fixed debian/rules: added comprehensive verification of configuration files
    installation, including checks for standalone.conf and symlink correctness

 -- HelgiSaga <bglegb@gmail.com>  Mon, 06 Jan 2026 10:00:00 +0300

apache-pulsar (4.1.2-9) unstable; urgency=medium

  * Fixed debian/rules: converted all scripts line endings from CRLF to LF for
    proper execution in Linux containers. Added automatic line ending conversion
    for all scripts in debian/tmp/pulsar/bin directory
  * Fixed debian/rules: added symlink resolution fix for pulsar-admin and
    pulsar-client scripts. Scripts now correctly resolve PULSAR_HOME when called
    from /usr/bin symlinks using the same method as pulsar-shell
  * Fixed debian/rules: added pulsar-admin-common.sh to copied files list.
    This file is required by pulsar-admin and pulsar-client commands
  * Fixed debian/source/format: changed from 3.0 (quilt) to 3.0 (native) and
    created debian/patches directory structure for proper source package format
  * Updated .gitattributes: added rule for all debian/** files to use LF line
    endings, preventing Windows line ending issues in Linux builds
  * Fixed docker/deb/test/Dockerfile: improved command testing with proper error
    handling. Commands no longer cause test script to exit on expected errors
    (exit code 1 for usage display)
  * Updated docker/deb/test/Dockerfile: added comprehensive standalone Pulsar
    startup test. Test verifies HTTP API, broker port, and pulsar-admin
    functionality with real running instance
  * Updated docker/deb/test/Dockerfile: added curl dependency for HTTP API
    testing and improved Java version detection in test output

 -- HelgiSaga <bglegb@gmail.com>  Tue, 30 Dec 2025 18:00:00 +0300

apache-pulsar (4.1.2-8) unstable; urgency=medium

  * Fixed debian/rules: only main apache-pulsar.service is installed automatically
    via dh_installsystemd. Additional services (bookie, proxy, functions-worker,
    websocket, autorecovery) are installed as examples in
    /usr/share/apache-pulsar/examples/systemd/ for manual activation
  * Updated debian/control: changed Java dependency to support both Java 21 and 17
    (openjdk-21-jre-headless | openjdk-17-jre-headless) for compatibility with
    Debian Trixie and older versions
  * Fixed debian/rules: added override_dh_installdeb and override_dh_builddeb
    to ensure postinst script is properly packaged. The script creates system
    user apache-pulsar, sets directory permissions, and creates log directory
  * Updated debian/install: added installation of additional systemd service files
    as examples in /usr/share/apache-pulsar/examples/systemd/
  * Updated debian/README: documented current package structure, maintainer scripts
    handling, and systemd services installation approach

 -- HelgiSaga <bglegb@gmail.com>  Sun, 25 Dec 2025 18:00:00 +0300

apache-pulsar (4.1.2-7) unstable; urgency=medium

  * Fixed debian/rules: corrected dh_installsystemd usage for multiple service
    files. All 6 service files are now properly installed:
    - apache-pulsar.service (broker)
    - apache-pulsar-bookie.service (BookKeeper)
    - apache-pulsar-proxy.service (Proxy)
    - apache-pulsar-functions-worker.service (Functions Worker)
    - apache-pulsar-websocket.service (WebSocket)
    - apache-pulsar-autorecovery.service (Autorecovery)
  * Updated debian/rules: fixed service file paths in dh_installsystemd commands
    to use relative paths without debian/ prefix.

 -- HelgiSaga <bglegb@gmail.com>  Sun, 21 Dec 2025 12:30:00 +0300

apache-pulsar (4.1.2-6) unstable; urgency=medium

  * Added systemd service files for all Pulsar components:
    - apache-pulsar-bookie.service for BookKeeper storage server
    - apache-pulsar-proxy.service for Pulsar proxy server
    - apache-pulsar-functions-worker.service for Pulsar Functions worker
  * Updated debian/prerm: added stop commands for all Pulsar services on package
    removal.
  * Updated debian/rules: improved comments for multiple service files handling.
  * Configured proper service dependencies: bookie starts before broker, proxy
    and functions-worker start after broker.

 -- HelgiSaga <bglegb@gmail.com>  Sat, 13 Dec 2025 16:00:00 +0300

apache-pulsar (4.1.2-5) unstable; urgency=medium

  * Renamed all installation paths from pulsar to apache-pulsar for consistency
    with package name.
  * Updated debian/dirs: changed paths to usr/lib/apache-pulsar, etc/apache-pulsar,
    var/lib/apache-pulsar, var/log/apache-pulsar.
  * Updated debian/install: changed destination paths to match new directory
    structure.
  * Updated debian/rules: fixed symlinks and paths in override_dh_fixperms.
  * Updated debian/apache-pulsar.service: changed WorkingDirectory, PULSAR_HOME,
    PULSAR_LOG_DIR, and ExecStart paths.
  * Renamed system user from pulsar to apache-pulsar for consistency.
  * Updated debian/postinst: changed user creation and directory ownership to
    apache-pulsar user and group.

 -- HelgiSaga <bglegb@gmail.com>  Sun, 7 Dec 2025 15:00:00 +0300

apache-pulsar (4.1.2-4) unstable; urgency=medium

  * Fixed debian/rules: replaced glob patterns with find commands for safe file
    permissions handling.
  * Fixed debian/install: corrected bin directory copying to prevent bin/bin/
    path issue.
  * Updated debian/control: added version constraints for bash dependency.
  * Added debian/lintian-overrides: suppressed false positives for shell script
    syntax checks and jar location warnings.
  * Fixed file permissions: removed execute bits from .ini and .yaml config
    files.
  * Improved debian/postinst and debian/prerm: fixed syntax and formatting.

 -- HelgiSaga <bglegb@gmail.com>  Sun, 30 Nov 2025 13:30:00 +0300

apache-pulsar (4.1.2-3) unstable; urgency=medium

  * Added man pages for binaries.
  * Updated debian/rules for correct build and install.
  * Fixed debian/install to properly copy jars, scripts, and configuration files.
  * Updated debian/control: dependencies, descriptions, and sections.
  * Corrected debian/copyright to comply with Apache-2.0 license.
  * Updated package directories (usr/lib, etc, usr/bin, systemd).
  * Added common repository PEM for certificates.
  * Fixed debian/postrm and debian/prerm scripts for proper service stop/removal.

 -- HelgiSaga <bglegb@gmail.com>  Sun, 16 Nov 2025 12:00:00 +0300

apache-pulsar (4.1.2-2) unstable; urgency=medium

  * Added build dependencies for Java, Maven, NodeJS, Yarn.
  * Deleted file debian/compat.

 -- HelgiSaga <bglegb@gmail.com>  Sun, 9 Nov 2025 12:00:00 +0300

apache-pulsar (4.1.2-1) unstable; urgency=medium

  * Initial release of Apache Pulsar deb package.

 -- HelgiSaga <bglegb@gmail.com>  Sat, 8 Nov 2025 16:00:00 +0300
